
//----------------------------------------------------------------------
// Copyright (c) 1996-2011 Accusoft Corporation.  All rights reserved. 
// </copyright>
//----------------------------------------------------------------------
Type.registerNamespace('ImageGear.Web.UI');ImageGear.Web.UI.MarkType=function(){};if(!window.Sys.Component){ImageGear.Web.UI.MarkType.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605};ImageGear.Web.UI.MarkType.registerEnum('ImageGear.Web.UI.MarkType',false);ImageGear.Web.UI.LineStyle=function(){};if(!window.Sys.Component){ImageGear.Web.UI.LineStyle.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};ImageGear.Web.UI.LineStyle.registerEnum('ImageGear.Web.UI.LineStyle',false);ImageGear.Web.UI.LineHeadType=function(){};if(!window.Sys.Component){ImageGear.Web.UI.LineHeadType.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};ImageGear.Web.UI.LineHeadType.registerEnum('ImageGear.Web.UI.LineHeadType',false);ImageGear.Web.UI.CalloutType=function(){};if(!window.Sys.Component){ImageGear.Web.UI.CalloutType.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.CalloutType.prototype={Line:0,Triangle:1};ImageGear.Web.UI.CalloutType.registerEnum('ImageGear.Web.UI.CalloutType',false);ImageGear.Web.UI.FontStyle=function(){};if(!window.Sys.Component){ImageGear.Web.UI.FontStyle.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};ImageGear.Web.UI.FontStyle.registerEnum('ImageGear.Web.UI.FontStyle',true);ImageGear.Web.UI.HorizontalAlignment=function(){};if(!window.Sys.Component){ImageGear.Web.UI.HorizontalAlignment.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};ImageGear.Web.UI.HorizontalAlignment.registerEnum('ImageGear.Web.UI.HorizontalAlignment',false);ImageGear.Web.UI.VerticalAlignment=function(){};if(!window.Sys.Component){ImageGear.Web.UI.VerticalAlignment.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};ImageGear.Web.UI.VerticalAlignment.registerEnum('ImageGear.Web.UI.VerticalAlignment',false);ImageGear.Web.UI.Orientation=function(){};if(!window.Sys.Component){ImageGear.Web.UI.Orientation.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};ImageGear.Web.UI.Orientation.registerEnum('ImageGear.Web.UI.Orientation',false);ImageGear.Web.UI.FillRule=function(){};if(!window.Sys.Component){ImageGear.Web.UI.FillRule.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.FillRule.prototype={EvenOdd:0,NonZero:1};ImageGear.Web.UI.FillRule.registerEnum('ImageGear.Web.UI.FillRule',false);ImageGear.Web.UI.MarkEventArgs=function(){return this;};if(!window.Sys.Component){ImageGear.Web.UI.MarkEventArgs.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.MarkEventArgs.prototype={};ImageGear.Web.UI.MarkEventArgs.registerClass('ImageGear.Web.UI.MarkEventArgs');ImageGear.Web.UI.MarkCollection=function(){var bs=[];var aP=new ImageGear.Web.UI.fh();this.qe=function(v){if(this.oU(v)=== -1){bs.push(v);var C=new ImageGear.Web.UI.MarkEventArgs();C.mark=v;this.bv('markAdded',C);}};this.BM=function(kU){var C=new ImageGear.Web.UI.MarkEventArgs();C.length=kU.get_length();var G=this;function uw(v){if(G.oU(v)=== -1){bs.push(v);}};kU.forEach(uw,{});if(C.length>0){this.bv('markAdded',C);}};this.lq=function(iG,iF){var oQ=[].concat(bs);var k;for(k=0;k<oQ.length;k++){iG.call(iF,oQ[k],k,this);}};this.hw=function(){return bs.length;};this.pK=function(v){var k=this.oU(v);if(k> -1){bs.splice(k,1);var C=new ImageGear.Web.UI.MarkEventArgs();C.mark=v;this.bv('markRemoved',C);}};this.oU=function(v){var k;for(k=0;k<bs.length;k++){if(bs[k]===v){return k;}}return-1;};this.lJ=function(O){aP.addHandler('markAdded',O);};this.lM=function(O){aP.removeHandler('markAdded',O);};this.mE=function(O){aP.addHandler('markRemoved',O);};this.me=function(O){aP.removeHandler('markRemoved',O);};this.bv=function(al,C){var O=aP.getHandler(al);if(O!==null){O(this,C);}};return this;};ImageGear.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.qe(mark);},addMarks:function(markCollection){this.BM(markCollection);},forEach:function(method,context){this.lq(method,context);},get_length:function(){return this.hw();},contains:function(mark){return this.oU(mark)> -1;},removeMark:function(mark){this.pK(mark);},removeAllMarks:function(){this.lq(function(v,by,kU){kU.pK(v);});},add_markAdded:function(handler){this.lJ(handler);},remove_markAdded:function(handler){this.lM(handler);},add_markRemoved:function(handler){this.mE(handler);},remove_markRemoved:function(handler){this.me(handler);}};if(!window.Sys.Component){ImageGear.Web.UI.MarkCollection.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.MarkCollection.registerClass('ImageGear.Web.UI.MarkCollection');ImageGear.Web.UI.Mark=function(type){var bB=type;type=undefined;var an=null;var L;var bE;var aP=new ImageGear.Web.UI.fh();var G=this;var kK;this.dM=function(eK,bK){if((kK&eK)===0){throw new ImageGear.Web.UI.ImGearInvalidOperationException(bK+' is not a valid property for this type of Mark.');}};var cz=false;switch(bB){case ImageGear.Web.UI.MarkType.Line:cz=true;bE=new ImageGear.Web.UI.PointCollection();bE.addPoint({x:0,y:0});bE.addPoint({x:0,y:0});kK=1;break;case ImageGear.Web.UI.MarkType.Polyline:cz=true;this.eS=false;bE=new ImageGear.Web.UI.PointCollection();kK=2;break;case ImageGear.Web.UI.MarkType.Rectangle:L=new ImageGear.Web.UI.Rectangle(0,0,0,0);kK=4;break;case ImageGear.Web.UI.MarkType.Ellipse:L=new ImageGear.Web.UI.Rectangle(0,0,0,0);kK=8;break;case ImageGear.Web.UI.MarkType.Polygon:bE=new ImageGear.Web.UI.PointCollection();kK=16;this.PA=ImageGear.Web.UI.FillRule.EvenOdd;break;case ImageGear.Web.UI.MarkType.Text:this.mV='#000000';this.kQ=false;this.gd=ImageGear.Web.UI.LineStyle.Solid;this.mz=1;this.fD=new ImageGear.Web.UI.Point(0,0);this.nB=ImageGear.Web.UI.CalloutType.Triangle;this.kb=false;this.nn='Arial';this.lA=11.5;this.dH=ImageGear.Web.UI.FontStyle.Regular;this.df=ImageGear.Web.UI.LineStyle.Solid;L=new ImageGear.Web.UI.Rectangle(0,0,0,0);this.az='';this.lN=ImageGear.Web.UI.HorizontalAlignment.Left;this.pa=ImageGear.Web.UI.VerticalAlignment.Top;this.ic='#000000';this.lm=255;this.mU=ImageGear.Web.UI.Orientation.TopLeft;kK=32;break;default:throw new ImageGear.Web.UI.ImGearArgumentOutOfRangeException('type',bB);}if(cz){this.mC=15;this.lC=25;this.mD=ImageGear.Web.UI.LineHeadType.None;this.jb='#000000';this.lF=15;this.mQ=25;this.lY=ImageGear.Web.UI.LineHeadType.None;}else{this.lh='#c0c0c0';this.nu=true;this.eR=true;}this.jK='#000000';this.df=ImageGear.Web.UI.LineStyle.Solid;this.iK=1;this.Jy='asdf';this.bY=255;this.ji=true;function rD(){G.ac('points');};if(bE){bE.add_pointAdded(rD);bE.add_pointChanged(rD);bE.add_pointRemoved(rD);}this.tk=function(){return bB;};this.as=function(){return an;};this.fr=function(value){if(an!==value){an=value;this.ac('artPage');}};this.xW=function(){var jM=new ImageGear.Web.UI.Rectangle(0,0,0,0);switch(bB){case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:case ImageGear.Web.UI.MarkType.Polygon:return bE.zB();case ImageGear.Web.UI.MarkType.Rectangle:case ImageGear.Web.UI.MarkType.Ellipse:return L.clone();case ImageGear.Web.UI.MarkType.Text:var gL=L.x+L.width,nx=L.y+L.height;var Ao=L.x+this.fD.x,zG=L.y+this.fD.y;jM.x=Math.min(L.x,Math.min(gL,Ao));jM.y=Math.min(L.y,Math.min(nx,zG));jM.width=Math.max(L.x,Math.max(gL,Ao))-jM.x;jM.height=Math.max(L.y,Math.max(nx,zG))-jM.y;break;}return jM;};this.fI=function(){return L.clone();};this.hA=function(){return bE;};this.IE=function(h){if(!L.equals(h)){L=new ImageGear.Web.UI.Rectangle(h.x,h.y,h.width,h.height);this.ac('rectangle');}};this.Aa=function(aV,af){if(aV!==0||af!==0){switch(bB){case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:case ImageGear.Web.UI.MarkType.Polygon:bE.AD(aV,af);break;case ImageGear.Web.UI.MarkType.Rectangle:case ImageGear.Web.UI.MarkType.Ellipse:case ImageGear.Web.UI.MarkType.Text:L.x+=aV;L.y+=af;this.ac('rectangle');break;}}};this.eo=function(O){aP.addHandler('propertyChanged',O);};this.ha=function(O){aP.removeHandler('propertyChanged',O);};this.ac=function(bK){var O=aP.getHandler('propertyChanged');if(O){O(this,new ImageGear.jh(bK));}};return this;};ImageGear.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case ImageGear.Web.UI.MarkType.Line:return 'Line Mark from '+this.hA().getPoint(0)+' to '+this.hA().getPoint(1);case ImageGear.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.hA().hw()+' vertices';case ImageGear.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fI();case ImageGear.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fI();case ImageGear.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.hA().hw()+' vertices';case ImageGear.Web.UI.MarkType.Text:return 'Text Mark, "'+this.az+'", at '+this.fI();}return 'Mark';},ej:function(eK,bK,et,h){this.dM(eK,bK);if(this[et]!==h){this[et]=h;this.ac(bK);}},oD:function(eK,bK,et,h){ImageGear.bO.qD(h,bK);this.ej(eK,bK,et,h);},IQ:function(eK,bK,et,h){ImageGear.bO.ea(h,bK);this.ej(eK,bK,et,h);},jJ:function(eK,bK,et,h,ld,kO){ImageGear.bO.hc(h,bK,ld,kO);this.ej(eK,bK,et,h);},vS:function(eK,bK,et,h,ld,kO){ImageGear.bO.yE(h,bK,ld,kO);this.ej(eK,bK,et,h);},ys:function(eK,bK,et,h){ImageGear.bO.bB(h,bK,'string');this.ej(eK,bK,et,h);},jv:function(eK,bK,et,h,cX){ImageGear.bO.cX(h,bK,cX);this.ej(eK,bK,et,h);},Hz:function(eK,bK,et,h,cX){ImageGear.bO.cX(h,bK,cX,true);this.ej(eK,bK,et,h);},Ik:function(eK,bK,et,h){ImageGear.bO.aw(h,bK);this.ej(eK,bK,et,h);},get_artPage:function(){return this.as();},get_boundingRectangle:function(){return this.xW();},get_selected:function(){var an=this.as();if(!an){return false;}var dk=an.kc();return dk.contains(this);},set_selected:function(value){var an=this.as();if(an){var dk=an.kc();if(value!==dk.contains(this)){if(value){dk.qe(this);}else{dk.pK(this);}this.ac('selected');}}else{if(value){throw new ImageGear.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.dM(32,'calloutLineColor');return this.mV;},set_calloutLineColor:function(value){this.oD(32,'calloutLineColor','mV',value);},get_calloutLineIsDistinct:function(){this.dM(32,'calloutLineIsDistinct');return this.kQ;},set_calloutLineIsDistinct:function(value){this.ej(32,'calloutLineIsDistinct','kQ',value);},get_calloutLineStyle:function(){this.dM(32,'calloutLineStyle');return this.gd;},set_calloutLineStyle:function(value){this.jv(32,'calloutLineStyle','gd',value,ImageGear.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.dM(32,'calloutLineWidth');return this.mz;},set_calloutLineWidth:function(value){this.jJ(32,'calloutLineWidth','mz',value,0,50);},get_calloutPoint:function(){this.dM(32,'calloutPoint');return this.fD;},set_calloutPoint:function(value){this.Ik(32,'calloutPoint','fD',value);},get_calloutType:function(){this.dM(32,'calloutType');return this.nB;},set_calloutType:function(value){this.jv(32,'calloutType','nB',value,ImageGear.Web.UI.CalloutType);},get_calloutVisible:function(){this.dM(32,'calloutVisible');return this.kb;},set_calloutVisible:function(value){if(!this.kb&&value&&this.tk()===ImageGear.Web.UI.MarkType.Text){if(this.fD.x===0&&this.fD.y===0){var L=this.fI();this.set_calloutPoint({x:L.width,y:L.height*1.5});}}this.ej(32,'calloutVisible','kb',value);},get_endHeadAngle:function(){this.dM(3,'endHeadAngle');return this.mC;},set_endHeadAngle:function(value){this.jJ(3,'endHeadAngle','mC',value,0,180);},get_endHeadLength:function(){this.dM(3,'endHeadLength');return this.lC;},set_endHeadLength:function(value){this.jJ(3,'endHeadLength','lC',value,0,100);},get_endHeadType:function(){this.dM(3,'endHeadType');return this.mD;},set_endHeadType:function(value){this.jv(3,'endHeadType','mD',value,ImageGear.Web.UI.LineHeadType);},get_fillColor:function(){this.dM(60,'fillColor');return this.lh;},set_fillColor:function(value){this.oD(60,'fillColor','lh',value);},get_fillVisible:function(){this.dM(60,'fillVisible');return this.nu;},set_fillVisible:function(value){this.ej(60,'fillVisible','nu',value);},get_fontName:function(){this.dM(32,'fontName');return this.nn;},set_fontName:function(value){this.ys(32,'fontName','nn',value);},get_fontSize:function(){this.dM(32,'fontSize');return this.lA;},set_fontSize:function(value){this.jJ(32,'fontSize','lA',value,0.1,288);},get_fontStyle:function(){this.dM(32,'fontStyle');return this.dH;},set_fontStyle:function(value){this.Hz(32,'fontStyle','dH',value,ImageGear.Web.UI.FontStyle);},get_headFillColor:function(){this.dM(3,'headFillColor');return this.jb;},set_headFillColor:function(value){this.oD(3,'headFillColor','jb',value);},get_isClosed:function(){this.dM(2,'isClosed');return this.eS;},set_isClosed:function(value){this.ej(2,'isClosed','eS',value);},get_lineColor:function(){return this.jK;},set_lineColor:function(value){this.oD(63,'lineColor','jK',value);},get_lineStyle:function(){return this.df;},set_lineStyle:function(value){this.jv(63,'lineStyle','df',value,ImageGear.Web.UI.LineStyle);},get_lineWidth:function(){return this.iK;},set_lineWidth:function(value){this.jJ(63,'lineWidth','iK',value,0,50);},get_lineVisible:function(){this.dM(60,'lineVisible');return this.eR;},set_lineVisible:function(value){this.ej(60,'lineVisible','eR',value);},get_opacity:function(){return this.bY;},set_opacity:function(value){this.vS(63,'opacity','bY',value,0,255);},get_points:function(){this.dM(19,'points');return this.hA();},get_rectangle:function(){this.dM(44,'rectangle');return this.fI();},set_rectangle:function(value){this.dM(44,'rectangle');ImageGear.bO.L(value,'rectangle');this.IE(value);},get_startHeadAngle:function(){this.dM(3,'startHeadAngle');return this.lF;},set_startHeadAngle:function(value){this.jJ(3,'startHeadAngle','lF',value,0,180);},get_startHeadLength:function(){this.dM(3,'startHeadLength');return this.mQ;},set_startHeadLength:function(value){this.jJ(3,'startHeadLength','mQ',value,0,100);},get_startHeadType:function(){this.dM(3,'startHeadType');return this.lY;},set_startHeadType:function(value){this.jv(3,'startHeadType','lY',value,ImageGear.Web.UI.LineHeadType);},get_text:function(){this.dM(32,'text');return this.az;},set_text:function(value){this.ys(32,'text','az',value);},get_textHorizontalAlignment:function(){this.dM(32,'textHorizontalAlignment');return this.lN;},set_textHorizontalAlignment:function(value){this.jv(32,'textHorizontalAlignment','lN',value,ImageGear.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.dM(32,'textVerticalAlignment');return this.pa;},set_textVerticalAlignment:function(value){this.jv(32,'textVerticalAlignment','pa',value,ImageGear.Web.UI.VerticalAlignment);},get_textColor:function(){this.dM(32,'textColor');return this.ic;},set_textColor:function(value){this.oD(32,'textColor','ic',value);},get_textOpacity:function(){this.dM(32,'textOpacity');return this.lm;},set_textOpacity:function(value){this.vS(32,'textOpacity','lm',value,0,255);},get_textOrientation:function(){this.dM(32,'textOrientation');return this.mU;},set_textOrientation:function(value){this.jv(32,'textOrientation','mU',value,ImageGear.Web.UI.Orientation);},get_fillRule:function(){this.dM(16,"fillRule");return this.PA;},set_fillRule:function(value){this.jv(16,'fillRule','PA',value,ImageGear.Web.UI.FillRule);},get_type:function(){return this.tk();},get_visible:function(){return this.ji;},set_visible:function(value){this.ej(63,'visible','ji',value);},add_propertyChanged:function(handler){this.eo(handler);},remove_propertyChanged:function(handler){this.ha(handler);},move:function(deltaX,deltaY){ImageGear.bO.ea(deltaX,'deltaX');ImageGear.bO.ea(deltaY,'deltaY');this.Aa(deltaX,deltaY);},moveBackward:function(){if(this.as()){var index=this.as().iW(this);if(index>0){this.as().reorderMark(this,index-1);}}else{throw new ImageGear.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.as()){var index=this.as().iW(this);if(index<this.as().ty()-1){this.as().reorderMark(this,index+1);}}else{throw new ImageGear.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.as()){this.as().reorderMark(this,0);}else{throw new ImageGear.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.as()){this.as().reorderMark(this,this.as().ty()-1);}else{throw new ImageGear.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.as()){this.as().removeMark(this);}},Gr:function(){var Kt=new ImageGear.Web.UI.Mark(this.get_type());var aJ={};var G=this;var bE,qy,aw,L,k;function bj(bK,qf){aJ[qf]=G[bK];};var cz=false;var gr=false;var hK=false;switch(this.get_type()){case ImageGear.Web.UI.MarkType.Line:cz=true;hK=true;aJ.__type='LineMark:#ImageGear.Web';break;case ImageGear.Web.UI.MarkType.Polyline:cz=true;hK=true;aJ.__type='PolyLineMark:#ImageGear.Web';bj('eS','ic');break;case ImageGear.Web.UI.MarkType.Rectangle:gr=true;aJ.__type='RectangleMark:#ImageGear.Web';break;case ImageGear.Web.UI.MarkType.Ellipse:gr=true;aJ.__type='EllipseMark:#ImageGear.Web';break;case ImageGear.Web.UI.MarkType.Polygon:hK=true;aJ.__type='PolygonMark:#ImageGear.Web';bj('PA','fr');break;case ImageGear.Web.UI.MarkType.Text:gr=true;aJ.__type='TextMark:#ImageGear.Web';bj('mV','clc');bj('kQ','clid');bj('gd','cls');bj('mz','clw');bj('nB','ct');bj('kb','cv');bj('nn','fn');bj('lA','fs');bj('dH','fst');bj('df','ls');bj('az','te');bj('lN','tha');bj('pa','tva');bj('ic','tc');bj('lm','to');bj('mU','tor');aw=this.fD;if(aw.x!==0||aw.y!==0){aJ.cp={x:aw.x,y:aw.y};}break;}if(cz){bj('mC','eha');bj('lC','ehl');bj('mD','eht');bj('jb','hfc');bj('lF','sha');bj('mQ','shl');bj('lY','sht');}else{bj('lh','fc');bj('nu','fv');bj('eR','lv');}if(gr){L=this.get_rectangle();aJ.r={x:L.x,y:L.y,width:L.width,height:L.height};}aJ.t=this.get_type();bj('jK','lc');bj('df','ls');bj('iK','lw');bj('bY','o');bj('ji','v');if(hK){bE=this.hA();qy=[];for(k=0;k<bE.get_length();k++){aw=bE.getPoint(k);qy.push({x:aw.x,y:aw.y});}aJ.p=qy;}return aJ;},FF:function(aJ){var G=this;var bE,qy,aw,L,k;function bj(bK,qf){if(aJ.hasOwnProperty(qf)){G[bK]=aJ[qf];}};var cz=false;var gr=false;var hK=false;switch(this.get_type()){case ImageGear.Web.UI.MarkType.Line:cz=true;if(aJ.p&&aJ.p.length===2){bE=this.hA();bE.setPoint(0,new ImageGear.Web.UI.Point(aJ.p[0].x,aJ.p[0].y));bE.setPoint(1,new ImageGear.Web.UI.Point(aJ.p[1].x,aJ.p[1].y));}break;case ImageGear.Web.UI.MarkType.Polyline:cz=true;hK=true;bj('eS','ic');break;case ImageGear.Web.UI.MarkType.Rectangle:gr=true;break;case ImageGear.Web.UI.MarkType.Ellipse:gr=true;break;case ImageGear.Web.UI.MarkType.Polygon:hK=true;bj('PA','fr');break;case ImageGear.Web.UI.MarkType.Text:gr=true;bj('mV','clc');bj('kQ','clid');bj('gd','cls');bj('mz','clw');bj('nB','ct');bj('kb','cv');bj('nn','fn');bj('lA','fs');bj('dH','fst');bj('df','ls');bj('az','te');bj('lN','tha');bj('pa','tva');bj('ic','tc');bj('lm','to');bj('mU','tor');if(aJ.cp){this.fD=new ImageGear.Web.UI.Point(aJ.cp.x,aJ.cp.y);}break;}if(cz){bj('mC','eha');bj('lC','ehl');bj('mD','eht');bj('jb','hfc');bj('lF','sha');bj('mQ','shl');bj('lY','sht');}else{bj('lh','fc');bj('nu','fv');bj('eR','lv');}if(gr){if(aJ.r){this.set_rectangle(new ImageGear.Web.UI.Rectangle(aJ.r.x,aJ.r.y,aJ.r.width,aJ.r.height));}}aJ.t=this.get_type();bj('jK','lc');bj('df','ls');bj('iK','lw');bj('bY','o');bj('ji','v');if(aJ.p&&hK){bE=this.hA();for(k=0;k<aJ.p.length;k++){bE.addPoint(new ImageGear.Web.UI.Point(aJ.p[k].x,aJ.p[k].y));}}return aJ;}};if(!window.Sys.Component){ImageGear.Web.UI.Mark.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.Mark.registerClass('ImageGear.Web.UI.Mark');ImageGear.Web.UI.ArtPage=function(){var bs=[];var aP=new ImageGear.Web.UI.fh();var dk=new ImageGear.Web.UI.MarkCollection();var G=this;var mt=true;function onMarkSelectionChanged(){G.bv('markSelectionChanged',{});};dk.add_markAdded(onMarkSelectionChanged);dk.add_markRemoved(onMarkSelectionChanged);var Cx=dk.addMark;dk.addMark=function(v){if(G.iW(v)<0){throw new ImageGear.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!dk.contains(v)){Cx.call(dk,v);v.ac('selected');}};var CI=dk.addMarks;dk.addMarks=function(kU){var gA=[];function uF(v){if(G.iW(v)<0){throw new ImageGear.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!dk.contains(v)){gA.push(v);}};kU.forEach(uF,{});CI.call(dk,kU);var k;for(k=0;k<gA.length;k++){gA[k].ac('selected');}};var Hx=dk.removeMark;dk.removeMark=function(v){if(dk.contains(v)){Hx.call(dk,v);v.ac('selected');}};var Bv=dk.removeAllMarks;dk.removeAllMarks=function(){var gA=[];function uF(v){if(dk.contains(v)){gA.push(v);}};dk.forEach(uF,{});Bv.call(dk);var k;for(k=0;k<gA.length;k++){gA[k].ac('selected');}};function AT(fK){ImageGear.bO.yE(fK,'zIndex',0,bs.length-1);};this.ty=function(){return bs.length;};this.kc=function(){return dk;};this.nY=function(h){if(h===mt){return;}mt=h;this.ac('mt');};this.mk=function(){return mt;};function nq(aW,C){if(C.get_propertyName()==='selected'){return;}var ss=new ImageGear.Web.UI.MarkEventArgs();ss.mark=aW;ss.zIndex=G.iW(aW);ss.length=1;G.bv('markChanged',ss);};this.qe=function(v){var fK=this.iW(v);if(fK>=0){throw new ImageGear.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(v.as()){throw new ImageGear.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bs.push(v);v.fr(this);v.add_propertyChanged(nq);var C=new ImageGear.Web.UI.MarkEventArgs();C.mark=v;C.zIndex=bs.length-1;C.length=1;G.bv('markAdded',C);};this.xV=function(iG,iF){var oQ=[].concat(bs);var k;for(k=0;k<oQ.length;k++){iG.call(iF,oQ[k],k,this);}};this.Ih=function(fK){AT(fK);return bs[fK];};this.iW=function(v){var k;for(k=0;k<bs.length;k++){if(bs[k]===v){return k;}}return-1;};this.Fs=function(zy){var aJ;if(typeof JSON!=='undefined'){aJ=JSON.parse(zy);}else{aJ=ImageGear.aG.rw(zy,true);}this.tQ();var oB=[];var k;var qs=aJ.m;if(qs){for(k=0;k<qs.length;k++){var bn=new ImageGear.Web.UI.Mark(qs[k].t);bn.FF(qs[k]);bn.fr(this);bn.add_propertyChanged(nq);oB.push(bn);}}bs=oB;G.bv('marksLoaded',{});};this.tQ=function(){if(bs.length<1){return;}var C=new ImageGear.Web.UI.MarkEventArgs();C.length=bs.length;dk.removeAllMarks();var k;for(k=0;k<bs.length;k++){bs[k].remove_propertyChanged(nq);bs[k].fr(null);}bs=[];C.zIndex=0;G.bv('markRemoved',C);};this.pK=function(v){var fK=this.iW(v);if(fK>=0){v.remove_propertyChanged(nq);v.fr(null);bs.splice(fK,1);dk.removeMark(v);var C=new ImageGear.Web.UI.MarkEventArgs();C.mark=v;C.zIndex=fK;C.length=1;G.bv('markRemoved',C);}};this.FG=function(v,fK){var sQ=this.iW(v);if(sQ<0){throw new ImageGear.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(sQ===fK){return;}AT(fK);bs.splice(sQ,1);bs.splice(fK,0,v);var C=new ImageGear.Web.UI.MarkEventArgs();C.mark=v;C.zIndex=fK;C.length=1;G.bv('markReordered',C);};this.FI=function(){var aJ={m:[]};var k;for(k=0;k<bs.length;k++){aJ.m.push(bs[k].Gr());}G.bv('marksSaved',{});var zF="";zF=ImageGear.aG.yw(aJ);return zF;};this.lJ=function(O){aP.addHandler('markAdded',O);};this.lM=function(O){aP.removeHandler('markAdded',O);};this.qo=function(O){aP.addHandler('markChanged',O);};this.sN=function(O){aP.removeHandler('markChanged',O);};this.mE=function(O){aP.addHandler('markRemoved',O);};this.me=function(O){aP.removeHandler('markRemoved',O);};this.sY=function(O){aP.addHandler('markReordered',O);};this.qr=function(O){aP.removeHandler('markReordered',O);};this.rf=function(O){aP.addHandler('marksLoaded',O);};this.qm=function(O){aP.removeHandler('marksLoaded',O);};this.CO=function(O){aP.addHandler('marksSaved',O);};this.Fg=function(O){aP.removeHandler('marksSaved',O);};this.pL=function(O){aP.addHandler('markSelectionChanged',O);};this.re=function(O){aP.removeHandler('markSelectionChanged',O);};this.eo=function(O){aP.addHandler('propertyChanged',O);};this.ha=function(O){aP.removeHandler('propertyChanged',O);};this.bv=function(al,C){var O=aP.getHandler(al);if(O!==null){O(this,C);}};this.ac=function(bK){var O=aP.getHandler("propertyChanged");if(O){O(this,new ImageGear.jh(bK));}};return this;};ImageGear.Web.UI.ArtPage.prototype={get_markCount:function(){return this.ty();},get_selectedMarks:function(){return this.kc();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark){this.qe(mark);},forEachMark:function(method,context){this.xV(method,context);},getMark:function(zIndex){return this.Ih(zIndex);},getZIndexOfMark:function(mark){return this.iW(mark);},loadFromJson:function(json){this.Fs(json);},removeAllMarks:function(){this.tQ();},removeMark:function(mark){this.pK(mark);},reorderMark:function(mark,zIndex){this.FG(mark,zIndex);},saveToJson:function(){return this.FI();},add_markAdded:function(handler){this.lJ(handler);},remove_markAdded:function(handler){this.lM(handler);},add_markChanged:function(handler){this.qo(handler);},remove_markChanged:function(handler){this.sN(handler);},add_markRemoved:function(handler){this.mE(handler);},remove_markRemoved:function(handler){this.me(handler);},add_markReordered:function(handler){this.sY(handler);},remove_markReordered:function(handler){this.qr(handler);},add_marksLoaded:function(handler){this.rf(handler);},remove_marksLoaded:function(handler){this.qm(handler);},add_markSelectionChanged:function(handler){this.pL(handler);},remove_markSelectionChanged:function(handler){this.re(handler);}};if(!window.Sys.Component){ImageGear.Web.UI.ArtPage.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.ArtPage.registerClass('ImageGear.Web.UI.ArtPage');ImageGear.qk=function(){};ImageGear.qk.prototype.fb=function(J){this.J=J;this.aa=J.bM();this.cI=this.aa.get_cursor();this.aa.set_cursor(ImageGear.au.RunMarks);this.aa.nk(ImageGear.au.Link);};ImageGear.qk.prototype.eY=function(){this.aa.set_cursor(this.cI);this.aa.nk(ImageGear.au.Default);this.J=false;};ImageGear.qk.prototype.bq=function(){};ImageGear.hm=function(){this.bo=false;this.J=false;};ImageGear.hm.prototype.fb=function(J){this.J=J;this.J.wZ(true);this.aa=J.bM();this.cI=this.aa.get_cursor();this.aa.set_cursor(ImageGear.au.EditMarks);this.aa.nk(ImageGear.au.Move);};ImageGear.hm.prototype.eY=function(){this.aa.set_cursor(this.cI);this.aa.nk(ImageGear.au.Default);this.J.wZ(false);this.J=false;};ImageGear.hm.prototype.bq=function(){if(this.bo){this.aa.set_cursor(ImageGear.au.EditMarks);this.aa.nk(ImageGear.au.Move);this.J.nY(true);this.aa.hq();this.bo=false;}};ImageGear.hm.prototype.lG=function(C){this.bq();var v=C.mark;if(v&&v.tk()===ImageGear.Web.UI.MarkType.Text){this.J.zn(v);}};ImageGear.hm.prototype.ed=function(C){this.bq();var ck=C.domEvent;if(ck.button===0){var du=ck.target;this.ah=du.ImGearMarkHandle;if(this.ah){this.hS=this.ah.bB;this.ew=this.ah.by;}else{this.hS=null;this.ew=null;}while(!(du.ImGearMarkRelation)&&du.parentNode&&du!==document.body){du=du.parentNode;}this.R=du.ImGearMarkRelation;if(this.R){this.v=this.R.v;}else{this.v=null;}this.bo=true;this.st=C.imagePoint;this.mc=C.imagePoint;var v=this.v;if(!v){if(!ck.shiftKey){this.J.as().kc().removeAllMarks();}this.aa.lU(C.imagePoint);}else{var dj,L;switch(this.hS){case ImageGear.aD.bi.prototype.sX:this.cc=v.fI();this.xd=Math.abs(this.cc.width);this.oG=Math.abs(this.cc.height);dj={x:this.cc.x,y:this.cc.y};this.sa={x:this.cc.x+this.cc.width,y:this.cc.y+this.cc.height};if(this.ew>0&&this.ew<3){dj.x+=this.cc.width;this.sa.x-=this.cc.width;}if(this.ew>1){dj.y+=this.cc.height;this.sa.y-=this.cc.height;}this.IS=dj;break;case ImageGear.aD.bi.prototype.rO:L=v.fI();this.cc=L;dj={x:L.x+L.width/2,y:L.y+L.height/2};switch(this.ew){case 0:this.kl=L.y+L.height;dj.y=L.y;break;case 1:this.kl=L.x;dj.x=L.x+L.width;break;case 2:this.kl=L.y;dj.y=L.y+L.height;break;case 3:this.kl=L.x+L.width;dj.x=L.x;break;}break;case ImageGear.aD.bi.prototype.pq:this.bE=v.hA();if(this.ew<0||this.ew>this.bE.hw()){this.bq();}dj=this.bE.getPoint(this.ew);break;case ImageGear.aD.bi.prototype.vR:break;case ImageGear.aD.bi.prototype.uU:L=v.fI();dj={x:L.x+v.fD.x,y:L.y+v.fD.y};break;default:var lp=v.get_selected();if(ck.ctrlKey||ck.shiftKey){lp= !lp;v.set_selected(lp);}else{if(!lp){lp=true;this.J.as().kc().removeAllMarks();v.set_selected(lp);}}if(!lp){this.bq();}break;}if(this.bo&&dj){this.Dq=dj.x-this.st.x;this.EG=dj.y-this.st.y;if(this.ah){this.aa.set_cursor(this.ah.aH);this.aa.nk(this.ah.aH);}}}if(this.bo){this.J.nY(false);}}this.J.cD();};ImageGear.hm.prototype.fa=function(C){var ck=C.domEvent;var mc;function EZ(FA){FA.Aa(C.imagePoint.x-mc.x,C.imagePoint.y-mc.y);};if(ck.button!==0){this.bq();}if(this.bo){var v=this.v;if(!v){this.aa.jQ(C.imagePoint);}else{var dj={x:C.imagePoint.x+this.Dq,y:C.imagePoint.y+this.EG};var L;switch(this.hS){case ImageGear.aD.bi.prototype.sX:var hE={x:dj.x,y:dj.y};var eJ={x:this.sa.x,y:this.sa.y};if(ck.ctrlKey){eJ.x=this.cc.x+this.cc.width/2;eJ.y=this.cc.y+this.cc.height/2;}if(ck.shiftKey){var mu=Math.abs(hE.x-eJ.x);var nt=Math.abs(hE.y-eJ.y);if(mu*this.oG<nt*this.xd){if(this.oG>0.001){mu=nt*this.xd/this.oG;}}else{if(this.oG>0.001){nt=mu*this.oG/this.xd;}}if(hE.x<eJ.x){mu= -mu;}if(hE.y<eJ.y){nt= -nt;}hE.x=eJ.x+mu;hE.y=eJ.y+nt;}if(ck.ctrlKey){eJ={x:eJ.x-(hE.x-eJ.x),y:eJ.y-(hE.y-eJ.y)};}L={};L.x=Math.min(eJ.x,hE.x);L.width=Math.max(eJ.x,hE.x)-L.x;L.y=Math.min(eJ.y,hE.y);L.height=Math.max(eJ.y,hE.y)-L.y;v.set_rectangle(L);break;case ImageGear.aD.bi.prototype.rO:L=v.fI();var mI;if(this.ew&1){if(ck.ctrlKey){mI=this.cc.x+this.cc.width/2;L.width=Math.abs(dj.x-mI)*2;L.x=mI-L.width/2;}else{L.x=Math.min(dj.x,this.kl);L.width=Math.max(dj.x,this.kl)-L.x;}}else{if(ck.ctrlKey){mI=this.cc.y+this.cc.height/2;L.height=Math.abs(dj.y-mI)*2;L.y=mI-L.height/2;}else{L.y=Math.min(dj.y,this.kl);L.height=Math.max(dj.y,this.kl)-L.y;}}v.set_rectangle(L);break;case ImageGear.aD.bi.prototype.pq:this.bE=v.hA();dj=this.bE.setPoint(this.ew,dj);break;case ImageGear.aD.bi.prototype.vR:break;case ImageGear.aD.bi.prototype.uU:L=v.fI();v.set_calloutPoint({x:dj.x-L.x,y:dj.y-L.y});break;default:mc=this.mc;this.mc=C.imagePoint;this.J.as().kc().lq(EZ);break;}}this.J.cD();}};ImageGear.hm.prototype.fl=function(C){function FU(v){var nM=v.xW();if(yv.contains(nM)&&yv.contains({x:nM.x+nM.width,y:nM.y+nM.height})){v.set_selected(true);}};if(this.bo){if(!this.v){var yv=this.aa.ip();this.J.as().xV(FU);this.aa.hq();}this.bq();}};ImageGear.hm.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.hm.prototype.fG=function(C){this.bq();};ImageGear.Web.UI.Vertex=function(point){this.point=point;this.outEdges=[];this.inEdges=[];return this;};ImageGear.Web.UI.Edge=function(vertexStart,vertexEnd){this.vertexStart=vertexStart;vertexStart.outEdges.push(this);this.vertexEnd=vertexEnd;vertexEnd.inEdges.push(this);this.leftArea=null;this.rightArea=null;this.fromStartToEndVector=this.vertexEnd.point.subtract(this.vertexStart.point);this.fromEndToStartVector=this.vertexStart.point.subtract(this.vertexEnd.point);return this;};ImageGear.Web.UI.Area=function(){this.edges=[];};ImageGear.Web.UI.PolygonDecompositor=function(){var cF=0.00001;this.Rq=function(element1,element2){var firstIsArray=element1 instanceof Array;var secondIsArray=element2 instanceof Array;if(firstIsArray&&secondIsArray){if(element1<element2)return-1;else if(element1>element2)return 1;else return 0;}else if(firstIsArray&& !secondIsArray)return 1;else if(!firstIsArray&&secondIsPoint)return-1;else return 0;};this.updateContourWithCrossings=function(contour){var updatedContour=[];for(var i=0;i<contour.length;i++)updatedContour.push([contour[i]]);var firstStart,firstEnd,secondStart,secondEnd,end;var MW,IY,Lo,IO;var NY,Oj,Pj,PO,pj;var ua,ub,i1,j1;for(i=0;i<contour.length;i++){firstStart=contour[i];i1=(i+1)%contour.length;firstEnd=contour[i1];end=i==0?contour.length-1:contour.length;for(var j=i+2;j<end;j++){secondStart=contour[j];j1=(j+1)%contour.length;secondEnd=contour[j1];MW=secondEnd.y-secondStart.y;IY=firstEnd.x-firstStart.x;Lo=secondEnd.x-secondStart.x;IO=firstEnd.y-firstStart.y;pj=MW*IY-Lo*IO;if(Math.abs(pj)>=cF){NY=firstStart.y-secondStart.y;Oj=firstStart.x-secondStart.x;Pj=Lo*NY-MW*Oj;PO=IY*NY-IO*Oj;ua=Pj/pj;ub=PO/pj;if(Math.abs(ua)<cF){if(Math.abs(ub)<cF){updatedContour[j][0]=updatedContour[i][0];}else if(ub>cF&&ub<(1.0-cF)){updatedContour[j].push([ub,updatedContour[i][0]]);}else if(Math.abs(ub-1.0)<cF){updatedContour[j1][0]=updatedContour[i][0];}}else if(ua>cF&&ua<(1.0-cF)){if(Math.abs(ub)<cF){updatedContour[i].push([ua,updatedContour[j][0]]);}else if(ub>cF&&ub<(1.0-cF)){var point=new ImageGear.Web.UI.Point(firstStart.x+ua*(firstEnd.x-firstStart.x),firstStart.y+ua*(firstEnd.y-firstStart.y));updatedContour[i].push([ua,point]);updatedContour[j].push([ub,point]);}else if(Math.abs(ub-1.0)<cF){updatedContour[i].push([ua,updatedContour[j1][0]]);}}else if(Math.abs(ua-1.0)<cF){if(Math.abs(ub)<cF){updatedContour[j][0]=updatedContour[i1][0];}else if(ub>cF&&ub<(1.0-cF)){updatedContour[j].push([ub,updatedContour[i1][0]]);}else if(Math.abs(ub-1.0)<cF){updatedContour[j1][0]=updatedContour[i1][0];}}}}}return updatedContour;};this.PQ=function(pointMap,point){var vertex;if(!pointMap.hasOwnProperty(point)){vertex=new ImageGear.Web.UI.Vertex(point);pointMap[point]=vertex;}else vertex=pointMap[point];return vertex;};this.collectGraph=function(updatedContour){var edges=[];var pointMap={};var chain,curVertex,nextVertex;for(var i=0;i<updatedContour.length;i++){chain=updatedContour[i];if(curVertex){nextVertex=this.PQ(pointMap,chain[0]);edges.push(new ImageGear.Web.UI.Edge(curVertex,nextVertex));curVertex=nextVertex;}else curVertex=this.PQ(pointMap,chain[0]);if(chain.length==2){nextVertex=this.PQ(pointMap,chain[1][1]);edges.push(new ImageGear.Web.UI.Edge(curVertex,nextVertex));curVertex=nextVertex;}else{chain.sort(this.Rq);for(var j=1;j<chain.length;j++){nextVertex=this.PQ(pointMap,chain[j][1]);edges.push(new ImageGear.Web.UI.Edge(curVertex,nextVertex));curVertex=nextVertex;}}}nextVertex=this.PQ(pointMap,updatedContour[0][0]);edges.push(new ImageGear.Web.UI.Edge(curVertex,nextVertex));return edges;};this.Ru=function(edge,isLeft){var curEdge=edge;var isCurOut=true;var area=new ImageGear.Web.UI.Area();do{var curVector;if(isCurOut){curVector=curEdge.fromEndToStartVector;if(isLeft)curEdge.leftArea=area;else curEdge.rightArea=area;}else{curVector=curEdge.fromStartToEndVector;if(isLeft)curEdge.rightArea=area;else curEdge.leftArea=area;}area.edges.push(curEdge);var nextEdge,nextVector,isNextOut,ang,edg;var angle=isLeft?Math.PI*2+cF: -cF;var vertex=isCurOut?curEdge.vertexEnd:curEdge.vertexStart;var count=vertex.outEdges.length;for(var i=0;i<count;i++){edg=vertex.outEdges[i];if(edg==curEdge)continue;ang=curVector.angleWith(edg.fromStartToEndVector);if((isLeft&&ang<angle)||(!isLeft&&ang>angle)){angle=ang;nextEdge=edg;isNextOut=true;}}count=vertex.inEdges.length;for(i=0;i<count;i++){edg=vertex.inEdges[i];if(edg==curEdge)continue;ang=curVector.angleWith(edg.fromEndToStartVector);if((isLeft&&ang<angle)||(!isLeft&&ang>angle)){angle=ang;nextEdge=edg;isNextOut=false;}}curEdge=nextEdge;isCurOut=isNextOut;}while(curEdge!=edge);return area;};this.updateGraphWithAreas=function(edges){var areas=[];while(edges.length>0){var edge=edges.shift();if(edge.leftArea==null)areas.push(this.Ru(edge,true));if(edge.rightArea==null)areas.push(this.Ru(edge,false));}return areas;};this.QI=function(f1,f2){if(f1<f2)return-1;if(f1>f2)return 1;return 0;};this.getPointInArea=function(area){var edges=area.edges;var firstEdge=edges[0];var firstVector=firstEdge.fromEndToStartVector;var firstStart=firstEdge.vertexEnd.point;var secondEdge=edges[1];var secondVector=secondEdge.vertexStart==firstEdge.vertexEnd?secondEdge.fromStartToEndVector:secondEdge.fromEndToStartVector;var left=area==firstEdge.leftArea;var vector=firstVector.composeWith(secondVector);var rotor=secondVector.vectorProduct(firstVector);if((left&&rotor>0)||(!left&&rotor<0))vector=new ImageGear.Web.UI.Point(-vector.x,-vector.y);var firstEnd=firstStart.composeWith(vector);var factors=[],secondStart,secondEnd,count=area.edges.length;var MW,IY,Lo,IO,ua,ub;var NY,Oj,Pj,PO,pj;for(var i=2;i<count;i++){secondStart=edges[i].vertexStart.point;secondEnd=edges[i].vertexEnd.point;MW=secondEnd.y-secondStart.y;IY=firstEnd.x-firstStart.x;Lo=secondEnd.x-secondStart.x;IO=firstEnd.y-firstStart.y;pj=MW*IY-Lo*IO;if(Math.abs(pj)>=cF){NY=firstStart.y-secondStart.y;Oj=firstStart.x-secondStart.x;Pj=Lo*NY-MW*Oj;PO=IY*NY-IO*Oj;ua=Pj/pj;ub=PO/pj;if(ub> -cF&&ub<(1+cF)&&ua>cF)factors.push(ua);}}if(factors.length==0)return null;factors.sort(this.QI);var factor=factors[0]/2;return new ImageGear.Web.UI.Point(firstStart.x+vector.x*factor,firstStart.y+vector.y*factor);};this.isAreaInPolygon=function(point,contour){var firstStart=point;var firstEnd=new ImageGear.Web.UI.Point(point.x+1000,point.y);var MW,IY,Lo,IO,ua,ub;var NY,Oj,Pj,PO,pj;var secondStart,secondEnd,crossCounter=0;var length=contour.length;for(var i=0;i<length;i++){secondStart=contour[i];secondEnd=contour[(i+1)%length];MW=secondEnd.y-secondStart.y;IY=firstEnd.x-firstStart.x;Lo=secondEnd.x-secondStart.x;IO=firstEnd.y-firstStart.y;pj=MW*IY-Lo*IO;if(Math.abs(pj)>=cF){NY=firstStart.y-secondStart.y;Oj=firstStart.x-secondStart.x;Pj=Lo*NY-MW*Oj;PO=IY*NY-IO*Oj;ua=Pj/pj;ub=PO/pj;if(ub> -cF&&ub<(1.0+cF)&&ua> -cF){if(secondStart.y>secondEnd.y)crossCounter+=1;else crossCounter-=1;}}}return crossCounter!=0;}};ImageGear.aD={};ImageGear.aD.om=function(){};ImageGear.aD.om.prototype={zC:function(J,aq,bb){this.J=J;this.aa=J.bM();this.aq=aq;this.fk=bb.width;this.er=bb.height;this.wk=bb.dI;this.Hm=bb.eF;if(!document.namespaces.igvml){document.namespaces.add('igvml','urn:schemas-microsoft-com:vml');var style=document.createStyleSheet();style.addRule('igvml\\:group','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:oval','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:rect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:polyline','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:shape','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:skew','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:stroke','behavior: url(#default#VML); display:inline-block;');}aq.gb=document.createElement('div');aq.oj.insertBefore(aq.gb,aq.ig);},zb:function(R){R.hF=[];R.eO=[];switch(R.v.get_type()){case ImageGear.Web.UI.MarkType.Rectangle:R.ae=this.aA('rect');break;case ImageGear.Web.UI.MarkType.Ellipse:R.ae=this.aA('oval');break;case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:R.ae=this.aA('group');this.bZ(R.ae,{width:this.fk*100+'px',height:this.er*100+'px'});R.da=this.aA('shape');this.bH(R.da,{filled:'f'});R.hF.push(R.da);R.kR=this.aA('stroke');R.eO.push(R.kR);this.bH(R.kR,{on:'true'});R.da.appendChild(R.kR);R.hV=this.aA('shape');R.hF.push(R.hV);R.nI=this.aA('stroke');R.eO.push(R.nI);this.bH(R.nI,{on:'true'});R.hV.appendChild(R.nI);R.nI.imgearUnstyled=true;R.jj=this.aA('shape');R.hF.push(R.jj);R.qg=this.aA('stroke');R.eO.push(R.qg);this.bH(R.qg,{on:'true'});R.jj.appendChild(R.qg);R.qg.imgearUnstyled=true;R.ae.appendChild(R.da);R.ae.appendChild(R.hV);R.ae.appendChild(R.jj);break;case ImageGear.Web.UI.MarkType.Polygon:try{R.ae=this.aA('group');R.ae.style.width=this.fk*100+'px';R.ae.style.height=this.er*100+'px';R.ae.style.cursor='auto';R.ae.setAttribute('coordsize',this.fk*100+','+this.er*100);R.ae.setAttribute('coordorigin','0,0');R.Pi=this.aA('shape');R.hF.push(R.Pi);R.uu=this.aA('stroke');R.eO.push(R.uu);this.bH(R.uu,{on:'true'});R.Pi.appendChild(R.uu);R.un=R.Pi;R.ae.appendChild(R.Pi);R.gv=this.aA('group');R.gv.style.width=this.fk*100+'px';R.gv.style.height=this.er*100+'px';R.gv.style.cursor='auto';R.gv.setAttribute('coordsize',this.fk*100+','+this.er*100);R.gv.setAttribute('coordorigin','0,0');R.ae.appendChild(R.gv);R.Nj=this.aA('shape');this.bH(R.Nj,{filled:'f'});R.Nj.style.cursor='crosshair';R.hF.push(R.Nj);R.Qk=this.aA('stroke');R.eO.push(R.Qk);this.bH(R.Qk,{on:'true'});R.Nj.appendChild(R.Qk);R.gv.appendChild(R.Nj);}catch(err){}break;case ImageGear.Web.UI.MarkType.Text:R.ae=this.aA('group');this.bZ(R.ae,{width:this.fk*100+'px',height:this.er*100+'px'});R.fW=this.aA('shape');R.hF.push(R.fW);R.qn=this.aA('stroke');R.eO.push(R.qn);R.fW.appendChild(R.qn);R.ae.appendChild(R.fW);R.qn.imgearUnstyled=true;R.da=this.aA('shape');this.bH(R.da,{filled:'f'});R.hF.push(R.da);R.kR=this.aA('stroke');R.eO.push(R.kR);this.bH(R.kR,{on:'true'});R.da.appendChild(R.kR);R.ae.appendChild(R.da);R.gf=this.aA('shape');this.bH(R.gf,{filled:'f'});R.hF.push(R.gf);R.jW=this.aA('stroke');R.eO.push(R.jW);this.bH(R.jW,{on:'true'});R.gf.appendChild(R.jW);R.ae.appendChild(R.gf);R.jW.imgearUnstyled=true;R.oc=document.createTextNode('');R.cl=document.createElement('div');R.cl.style.position='absolute';R.cl.style.overflow='hidden';if(document.documentMode>=8){R.cl.style.whiteSpace='pre-wrap';}R.cl.appendChild(R.oc);R.un=R.fW;break;}if(!R.un){R.un=R.ae;}if(R.ae.tagName!=='group'){R.uu=this.aA('stroke');R.eO.push(R.uu);this.bH(R.uu,{on:'true'});R.ae.appendChild(R.uu);}var aZ;for(aZ=0;aZ<R.hF.length;aZ++){this.bH(R.hF[aZ],{coordorigin:'0,0',coordsize:this.fk*100+','+this.er*100});this.bZ(R.hF[aZ],{width:this.fk*100+'px',height:this.er*100+'px'});}for(aZ=0;aZ<R.eO.length;aZ++){this.bH(R.eO[aZ],{joinstyle:'miter'});}this.sH(R);R.jx=this.aA('group');this.bZ(R.jx,{left:'0px',top:'0px',width:'300px',height:'300px',position:'absolute'});this.bH(R.jx,{coordorigin:'0,0',coordsize:this.fk*100+','+this.er*100});R.jx.ImGearMarkRelation=R;R.jx.appendChild(R.ae);this.aq.gb.appendChild(R.jx);if(R.cl){R.cl.ImGearMarkRelation=R;this.aq.gb.appendChild(R.cl);}},fs:function(Bh,eC,eS){var eE='m';if(eC.length<1){eE='';}else{eE='m'+Math.round(eC[0].x*100)+','+Math.round(eC[0].y*100);var k;for(k=1;k<eC.length;k++){if(k>1){eE+=',';}else{eE+='l';}eE+=Math.round(eC[k].x*100)+','+Math.round(eC[k].y*100);}if(eS&&eC.length>2){eE+='x';}eE+='e';}this.bH(Bh,{path:eE});},nP:function(bQ,dF,iy,hJ,gR,lW,gD,HX){var aN=this.zh(bQ,dF,iy,hJ,gR);var bx={display:'block'},aB={fillcolor:lW,filled:false},kh={color:lW};switch(gR){case ImageGear.Web.UI.LineHeadType.None:bx.display='none';break;case ImageGear.Web.UI.LineHeadType.Pointer:this.fs(gD,[aN.hD,bQ,aN.ge],false);break;case ImageGear.Web.UI.LineHeadType.Solid:this.fs(gD,[aN.hD,bQ,aN.ge],true);aB.filled=true;break;case ImageGear.Web.UI.LineHeadType.Open:this.fs(gD,[aN.hD,bQ,aN.ge],true);break;case ImageGear.Web.UI.LineHeadType.PointerSolid:aB.filled=true;this.fs(gD,[aN.hD,bQ,aN.ge,aN.lj],true);break;}if(gR!==ImageGear.Web.UI.LineHeadType.None){this.bZ(gD,bx);this.bH(gD,aB);this.bH(HX,kh);}return aN;},uQ:function(R){var v=R.v;var bE,bC,kx,k,oS,qp,bQ,dF,eZ;bC=this.qw(v);if(bC.length<2||v.eS){this.bZ(R.hV,{display:'none'});this.bZ(R.jj,{display:'none'});}else{eZ=this.sK(bC,true);oS=this.nP(eZ.bQ,eZ.dF,v.lF,v.mQ,v.lY,v.jb,R.hV,R.nI);eZ=this.sK(bC,false);qp=this.nP(eZ.bQ,eZ.dF,v.mC,v.lC,v.mD,v.jb,R.jj,R.qg);bC[0]=oS.lj;bC[bC.length-1]=qp.lj;}this.fs(R.da,bC,v.eS);},uB:function(R){var hB=this.Ah(R);this.fs(R.fW,hB.wu,true);var mq={},op={};var v=R.v;if(hB.qJ){op.on=false;}else{op.color=v.jK;op.dashstyle=this.ie(v.df);op.on=true;}if(hB.mZ){this.fs(R.da,hB.mZ,false);R.da.style.visibility='visible';}else{R.da.style.visibility='hidden';}if(hB.mg){this.fs(R.gf,hB.mg,false);R.gf.style.visibility='visible';}else{R.gf.style.visibility='hidden';}if(v.kQ){mq.color=v.mV;mq.dashstyle=this.ie(v.gd);R.jW.imgearCalloutSized=true;}else{mq.color=v.jK;mq.dashstyle=this.ie(v.df);R.jW.imgearCalloutSized=false;}this.bH(R.jW,mq);this.bH(R.qn,op);},BC:function(R,bf,aj){var v=R.v;var L=v.fI();var dR=1;if(v.eR){dR+=v.iK/2;}L.width-=2*dR;L.height-=2*dR;L.x+=dR;L.y+=dR;L=bf.jF(L);var xN=L.x,ya=L.y;var ce=new ImageGear.ap(1,0,0,1,0,0);switch(v.mU){case ImageGear.Web.UI.Orientation.TopLeft:break;case ImageGear.Web.UI.Orientation.TopRight:ce.scale(-1,1);break;case ImageGear.Web.UI.Orientation.BottomRight:ce.rotate(180);break;case ImageGear.Web.UI.Orientation.BottomLeft:ce.rotate(180);ce.scale(-1,1);break;case ImageGear.Web.UI.Orientation.LeftTop:ce.scale(-1,1);ce.rotate(270);break;case ImageGear.Web.UI.Orientation.RightTop:ce.rotate(90);break;case ImageGear.Web.UI.Orientation.RightBottom:ce.scale(-1,1);ce.rotate(90);break;case ImageGear.Web.UI.Orientation.LeftBottom:ce.rotate(270);break;}ce.append(bf);var dJ={};var pB=v.lA*this.wk/72*aj;dJ.fontSize=Math.round(pB)+'px';var im=ce.sq();var ft=ce.qT();if(im){ft=(360-ft)%360;}var iU=Math.round(ft/90);var tE='';if(im||iU){tE='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(im?'1':'0')+', rotation='+iU.toString()+');';}if(v.lm<255){tE+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(v.lm/255*100)+');';}R.cl.style.filter=tE;var co;if((ft>45&&ft<135)||(ft>225&&ft<315)){co=L.width;L.width=L.height;L.height=co;}dJ.left=xN+'px';dJ.top=ya+'px';dJ.width=L.width+'px';dJ.height=L.height+'px';this.bZ(R.cl,dJ);},tK:function(R){var v=R.v;var L=v.fI();var iC=L.width,iY=L.height,mY=false,co;var gO,aV=0,af=0;var CE={},dJ={};dJ.backgroundColor='transparent';dJ.color=v.ic;dJ.fontFamily=v.nn;if(v.dH&ImageGear.Web.UI.FontStyle.Italic){dJ.fontStyle='italic';}else{dJ.fontStyle='';}if(v.dH&ImageGear.Web.UI.FontStyle.Bold){dJ.fontWeight='bold';}else{dJ.fontWeight='';}if((v.dH&ImageGear.Web.UI.FontStyle.Underline)&&(v.dH&ImageGear.Web.UI.FontStyle.Strikeout)){dJ.textDecoration='underline line-through';}else if(v.dH&ImageGear.Web.UI.FontStyle.Underline){dJ.textDecoration='underline';}else if(v.dH&ImageGear.Web.UI.FontStyle.Strikeout){dJ.textDecoration='line-through';}else{dJ.textDecoration='';}switch(v.lN){case ImageGear.Web.UI.HorizontalAlignment.Center:dJ.textAlign='center';break;case ImageGear.Web.UI.HorizontalAlignment.Right:dJ.textAlign='right';break;default:dJ.textAlign='left';break;}if(document.documentMode<8){var Cr=v.az.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br/>');R.cl.innerHTML=Cr;}else{R.oc.data=v.az;}this.bH(R.cl,CE);this.bZ(R.cl,dJ);},isPointEqual:function(point1,point2){return Math.abs(point1.x-point2.x)<0.00001&&Math.abs(point1.y-point2.y)<0.00001;},correctContour:function(contour){if(contour.length>1){var deletingIndexes=[];for(var i=0,j=1;j<contour.length;i++,j++){if(this.isPointEqual(contour[i],contour[j]))deletingIndexes.push(j);}if(deletingIndexes.length>0){var newContour=[];for(i=0,j=0;i<contour.length&&j<deletingIndexes.length;i++){if(i==deletingIndexes[j])j++;else newContour.push(contour[i]);}contour=newContour;}var startIndex= -1;if(contour.length>3){for(i=0;i<contour.length;i++){for(j=i+1;j<contour.length;j++){if(this.isPointEqual(contour[i],contour[j])){var m=i+1,n=j+1;for(;n<contour.length;m++,n++)if(!this.isPointEqual(contour[m],contour[n]))break;if(n==contour.length){startIndex=j;i=contour.length;break;}}}}}if(startIndex>0)contour=contour.slice(0,startIndex);}return contour;},RI:function(R,point){var oval=this.aA('oval');oval.style.width='50pt';oval.style.height='50pt';oval.style.position='absolute';oval.style.left=(point.x*100-250);oval.style.top=(point.y*100-250);oval.setAttribute('fillcolor','red');oval.setAttribute('stroke','false');oval.setAttribute('coordsize',this.fk*100+','+this.er*100);R.gv.appendChild(oval);},QT:function(f1,f2){if(f1!=null&&f2!=null){if(f1[0]<f2[0])return-1;else if(f1[0]>f2[0])return 1;else return 0;}else if(f1==null&&f2!=null)return 1;else if(f1!=null&&f2==null)return-1;else return 0;},Sg:function(R){try{var bC=this.qw(R.v);if(R.v.PA==0){R.Pi.style.visibility='visible';R.gv.style.visibility='hidden';R.Nj.style.visibility='hidden';R.un=R.Pi;this.fs(R.Pi,bC,true);}else{R.Pi.style.visibility='hidden';R.gv.style.visibility='visible';R.Nj.style.visibility='visible';var ni='';if(R.v.bY<255)ni='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(R.v.bY/2.55)+')';R.Nj.style.filter=ni;bC=this.correctContour(bC);this.fs(R.Nj,bC,true);var decompositor=new ImageGear.Web.UI.PolygonDecompositor();var RJ=decompositor.updateContourWithCrossings(bC);var RV=decompositor.collectGraph(RJ);var QO=decompositor.updateGraphWithAreas(RV);var colors=['red','green','blue','yellow','white','black','gray','silver','maroon','purple','fuchsia','lime','olive','navy','teal','aqua'];for(var i=R.gv.childNodes.length-1;i>=0;i--){var node=R.gv.childNodes[i];if(node.nodeType==1&&node.nodeName=='shape'){var id=node.getAttribute('id');if(id&&typeof(id)=='string'&&id.substr(0,4)=='fill')R.gv.removeChild(node);}}for(i=0;i<QO.length;i++){var area=QO[i];var aw=decompositor.getPointInArea(area);if(aw==null)continue;if(!decompositor.isAreaInPolygon(aw,bC))continue;var Pe=[];var OY=area.edges[0].vertexStart;Pe.push(OY.point);OY=area.edges[0].vertexEnd;for(var j=1;j<area.edges.length;j++){var edge=area.edges[j];Pe.push(OY.point);if(edge.vertexStart==OY)OY=edge.vertexEnd;else OY=edge.vertexStart;}var shape=this.aA('shape');shape.style.filter=ni;shape.style.width=this.fk*100;shape.style.height=this.er*100;shape.style.cursor='crosshair';shape.setAttribute('coordsize',this.fk*100+', '+this.er*100);shape.setAttribute('filled','t');shape.setAttribute('fillcolor',R.v.lh);shape.setAttribute('stroked','f');this.fs(shape,Pe,true);shape.setAttribute('id','fill_'+i);R.gv.insertBefore(shape,R.Nj);}}}catch(err){}},sH:function(R){var v=R.v;if(!v){return;}var ae=R.ae;var k,L,bC,bx={},aB={},pH={},kh={},kx,eR=true;var cz=false;switch(v.get_type()){case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:cz=true;this.uQ(R);break;case ImageGear.Web.UI.MarkType.Rectangle:case ImageGear.Web.UI.MarkType.Ellipse:L=v.get_rectangle();bx.left=L.x*100+'px';bx.top=L.y*100+'px';bx.width=L.width*100+'px';bx.height=L.height*100+'px';break;case ImageGear.Web.UI.MarkType.Polygon:this.Sg(R);break;case ImageGear.Web.UI.MarkType.Text:this.uB(R);this.tK(R);break;default:throw new ImageGear.Web.UI.ImGearArgumentOutOfRangeException('type',bB);}if(cz){pH.filled=false;}else{if(v.nu){pH.fillColor=v.lh;pH.filled=true;}else{pH.filled=false;}eR=v.eR;}if(eR){kh.color=v.get_lineColor();kh.dashstyle=this.ie(v.df);kh.on=true;}else{kh.on=false;}var ni='';if(v.bY<255){ni='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(v.bY/2.55)+')';}var mw=ae.firstChild;if(mw&&mw.nodeName==='shape'){while(mw){mw.style.filter=ni;mw=mw.nextSibling;}}else{ae.style.filter=ni;}if(v.ji){bx.visibility='visible';if(R.cl){R.cl.style.visibility='visible';}}else{bx.visibility='hidden';if(R.cl){R.cl.style.visibility='hidden';}}bx.cursor=ImageGear.au.lo(this.aa.nF());if(R.cl){R.cl.style.cursor=ImageGear.au.lo(this.aa.nF());}this.bZ(ae,bx);this.bH(R.un,pH);this.bH(ae,aB);for(k=0;k<R.eO.length;k++){if(!R.eO[k].imgearUnstyled){this.bH(R.eO[k],kh);}}},ie:function(df){switch(df){case ImageGear.Web.UI.LineStyle.Dash:return 'dash';case ImageGear.Web.UI.LineStyle.Dot:return 'dot';case ImageGear.Web.UI.LineStyle.DashDot:return 'dashdot';case ImageGear.Web.UI.LineStyle.DashDotDot:return 'shortdashdotdot';default:break;}return 'solid';},AP:function(R){this.aq.gb.removeChild(R.jx);if(R.cl){this.aq.gb.removeChild(R.cl);}delete R.jx;},vo:function(bf,gi,bb,ep){var iz=bf.transform({x:0,y:0});var ia=bf.transform({x:1,y:0});var eT=iz.x-ia.x;var nA=eT*eT;eT=iz.y-ia.y;nA+=eT*eT;var aj=Math.sqrt(nA);var hg=bf.gY(bb);var kS={width:bb.width*aj+'px',height:bb.height*aj+'px'};var im=bf.sq();if(im){kS.flip='x';}else{kS.flip='';}var ft=bf.qT();if((ft>45&&ft<135)||(ft>225&&ft<315)){kS.left=(bb.height-bb.width)*aj/2+'px';kS.top=(bb.width-bb.height)*aj/2+'px';}else{kS.left='0px';kS.top='0px';}var k,aZ,R;for(k=0;k<ep.length;k++){R=ep[k];this.bH(R.jx,{rotation:im? -ft:ft});this.bZ(R.jx,kS);for(aZ=0;aZ<R.eO.length;aZ++){if(R.eO[aZ].imgearCalloutSized){this.bH(R.eO[aZ],{weight:R.v.mz*aj});}else{this.bH(R.eO[aZ],{weight:R.v.iK*aj});}}if(R.cl){this.BC(R,bf,aj);}}},zz:function(){this.aq=undefined;},aA:function(bB){return document.createElement('igvml:'+bB);},bZ:function(ae,fB){var k;for(k in fB){if(fB.hasOwnProperty(k)){if(ae.style[k]!==fB[k]){ae.style[k]=fB[k];}}}},bH:function(ae,aB){var k;if(document.documentMode===8){for(k in aB){if(aB.hasOwnProperty(k)){var val=aB[k];var str=val.toString();if(ae[k]!==str){ae[k]=str;}}}}else{for(k in aB){if(aB.hasOwnProperty(k)){if(aB[k]){ae.setAttribute(k,aB[k].toString());}}}}}};ImageGear.aD.yC=function(){};ImageGear.aD.yC.prototype={zC:function(J,aq,bb){this.J=J;this.aa=J.bM();this.aq=aq;this.fk=bb.width;this.er=bb.height;this.wk=bb.dI;this.Hm=bb.eF;aq.gb=this.aA('g');this.bH(aq.gb,{'fill-opacity':1});aq.yh.appendChild(aq.gb);},zb:function(R){switch(R.v.get_type()){case ImageGear.Web.UI.MarkType.Rectangle:R.ae=this.aA('rect');break;case ImageGear.Web.UI.MarkType.Ellipse:R.ae=this.aA('ellipse');break;case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:R.ae=this.aA('g');R.da=this.aA('polyline');R.hV=this.aA('path');R.jj=this.aA('path');R.ae.appendChild(R.da);R.ae.appendChild(R.hV);R.ae.appendChild(R.jj);break;case ImageGear.Web.UI.MarkType.Polygon:R.ae=this.aA('polygon');break;case ImageGear.Web.UI.MarkType.Text:R.ae=this.aA('g');R.fW=this.aA('polygon');R.da=this.aA('path');R.gf=this.aA('path');R.fR=this.aA('g');R.ae.appendChild(R.fW);R.ae.appendChild(R.da);R.ae.appendChild(R.gf);this.bH(R.fW,{style:'stroke:none;'});R.oc=document.createTextNode('');if(document.documentMode>8){R.pF=this.aA('text');R.pF.appendChild(R.oc);R.RO=0;R.Qh=this.aA('clipPath');R.OJ=this.aA('rect');R.fR.appendChild(R.Qh);R.Qh.appendChild(R.OJ);R.fR.appendChild(R.pF);R.OC="ImageGear"+ImageGear.aD.RD;ImageGear.aD.RD++;this.bH(R.Qh,{id:R.OC,clipPathUnits:"userSpaceOnUse"});var L=R.v.get_rectangle();this.bH(R.OJ,{x:0,y:0,width:L.width,height:L.height});}else{R.cl=document.createElement('div');R.cl.appendChild(R.oc);R.pA=document.createElement('body');this.bH(R.pA,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;'});R.pA.appendChild(R.cl);R.vc=this.aA('foreignObject');R.vc.appendChild(R.pA);R.fR.appendChild(R.vc);}break;}this.sH(R);R.ae.ImGearMarkRelation=R;this.aq.gb.appendChild(R.ae);if(R.fR){R.fR.ImGearMarkRelation=R;this.aq.gb.appendChild(R.fR);}},RS:function(R){var v=R.v;var L=v.fI();var Qx="http://www.w3.org/2000/svg";var az=v.az;if(!az){return;}var OV=az.split(' ');var OS=R.pF;var cC=OS.childNodes.length;if(cC>1){var Qv=OS.parentNode;var Rg=this.aA('text');Qv.replaceChild(Rg,OS);R.pF=Rg;R.pF.appendChild(R.oc);R.fR.appendChild(R.pF);OS={};OS=R.pF;}var Nf=this.aA('tspan');var QK="url(#"+R.OC+")";this.set;var Pb=window.document.createTextNode(OV[0]);Nf.appendChild(Pb);OS.appendChild(Nf);var aa=this.J.bM();var aK=this.aa.cv();var K=this.J.bd();var bb=this.J.aQ();var eW=aK.pd();var Qn='';var PF=0;PF=L.height;var PJ=2;var Pd;var Qq=0;var jz=this.wk/72;var OQ=0;var PS=v.lA*jz;var kg=L.height;for(var k=1;k<OV.length;k++){var cC=Nf.firstChild.data.length;Nf.firstChild.data+=" "+OV[k];Qn=Qn+OV[k]+' ';Pd=Qn.length*(v.lA*jz);try{Qq=OS.getComputedTextLength();}catch(e){}var QD=Qq*jz;if(QD===0){OQ=Pd;}else{OQ=QD;}if(OQ>=L.width){PJ++;Qn='';Nf.firstChild.data=Nf.firstChild.data.slice(0,cC);Qn=Qn+OV[k]+' ';Nf=this.aA('tspan');Nf.setAttributeNS(null,"x",2);Nf.setAttributeNS(null,"dy",PS);Pb=window.document.createTextNode(OV[k]);Nf.appendChild(Pb);OS.appendChild(Nf);}PF=PS*PJ;if(PF>=kg){break;}}},fs:function(bU,eC,eS){var eE='M',k;for(k=0;k<eC.length;k++){if(k>0){eE+=' L';}eE+=eC[k].x+','+eC[k].y;}if(eS){eE+='Z';}this.bH(bU,{d:eE});},PY:function(bU,eC,eS){var kx='',k;for(k=0;k<eC.length;k++){if(k>0){kx+=' ';}kx+=eC[k].x+','+eC[k].y;}if(eS&&eC.length>2){kx+=' '+eC[0].x+','+eC[0].y;}this.bH(bU,{points:kx});},nP:function(bQ,dF,iy,hJ,gR,lW,gD){var aN=this.zh(bQ,dF,iy,hJ,gR);var bx='';bx+='stroke:'+lW+';';switch(gR){case ImageGear.Web.UI.LineHeadType.None:bx='display:none;';break;case ImageGear.Web.UI.LineHeadType.Pointer:this.fs(gD,[aN.hD,bQ,aN.ge],false);break;case ImageGear.Web.UI.LineHeadType.Solid:this.fs(gD,[aN.hD,bQ,aN.ge],true);bx+='fill:'+lW+';';break;case ImageGear.Web.UI.LineHeadType.Open:this.fs(gD,[aN.hD,bQ,aN.ge],true);break;case ImageGear.Web.UI.LineHeadType.PointerSolid:this.fs(gD,[aN.hD,bQ,aN.ge,aN.lj],true);bx+='fill:'+lW+';';break;}this.bH(gD,{style:bx});return aN;},uQ:function(R){var v=R.v;var bE,bC,kx,k,oS,qp,bQ,dF,df='',eZ;bE=v.get_points();bC=[];for(k=0;k<bE.get_length();k++){bC.push(bE.getPoint(k));}if(bC.length<2||v.eS){this.bH(R.hV,{style:'display:none;'});this.bH(R.jj,{style:'display:none;'});}else{eZ=this.sK(bC,true);oS=this.nP(eZ.bQ,eZ.dF,v.lF,v.mQ,v.lY,v.jb,R.hV);eZ=this.sK(bC,false);qp=this.nP(eZ.bQ,eZ.dF,v.mC,v.lC,v.mD,v.jb,R.jj);bC[0]=oS.lj;bC[bC.length-1]=qp.lj;}this.PY(R.da,bC,v.eS);var la=this.ie(v.df);if(la!==''){df+='stroke-dasharray:'+la+';';}this.bH(R.da,{style:df});},uB:function(R){var hB=this.Ah(R);this.PY(R.fW,hB.wu,false);var zj='',df='fill:none;',gd='fill:none;';if(hB.qJ){zj='stroke:none;';}if(hB.mZ){this.fs(R.da,hB.mZ,false);}else{df+='display:none;';}if(hB.mg){this.fs(R.gf,hB.mg,false);}else{gd+='display:none;';}var v=R.v;var mq={};if(v.kQ){gd+='stroke:'+v.mV+';stroke-width:'+v.mz+';';var la=this.ie(v.gd);if(la!==''){gd+='stroke-dasharray:'+la+';';}}this.bH(R.da,{style:df});this.bH(R.gf,{style:gd});this.bH(R.fW,{style:zj});},tK:function(R){var v=R.v;var L=v.fI();var pB=v.lA*this.wk/72;var iC=L.width,iY=L.height,mY=false,co;var gO,aV=0,af=0;var dR=1;if(v.eR){dR+=v.iK/2;}switch(v.mU){case ImageGear.Web.UI.Orientation.TopLeft:gO='1,0,0,1';break;case ImageGear.Web.UI.Orientation.TopRight:gO='-1,0,0,1';aV=iC-dR;break;case ImageGear.Web.UI.Orientation.BottomRight:gO='-1,0,0,-1';aV=iC-dR;af=iY-dR;break;case ImageGear.Web.UI.Orientation.BottomLeft:gO='1,0,0,-1';af=iY-dR;break;case ImageGear.Web.UI.Orientation.LeftTop:gO='0,1,1,0';mY=true;break;case ImageGear.Web.UI.Orientation.RightTop:gO='0,1,-1,0';aV=iC-dR;mY=true;break;case ImageGear.Web.UI.Orientation.RightBottom:gO='0,-1,-1,0';aV=iC-dR;af=iY-dR;mY=true;break;case ImageGear.Web.UI.Orientation.LeftBottom:gO='0,-1,1,0';af=iY-dR;mY=true;break;}if(mY){co=iC;iC=iY;iY=co;}iC-=2*dR;iY-=2*dR;var xN=0,ya=pB;var hj='';hj+='word-wrap:break-word;background-color:transparent;';var rj=0;if(v.ic.length===7&&v.ic.charAt(0)==='#'){rj=parseInt(v.ic.slice(1),16);}var bY=Math.min(1,Math.max(0,v.lm/255));if(document.documentMode>8){var dH='normal';if(v.dH&ImageGear.Web.UI.FontStyle.Italic){dH='italic';}var RZ='normal';if(v.dH&ImageGear.Web.UI.FontStyle.Bold){RZ='bold';}var PB='none';if((v.dH&ImageGear.Web.UI.FontStyle.Underline)&&(v.dH&ImageGear.Web.UI.FontStyle.Strikeout)){PB='underline line-through';}else if(v.dH&ImageGear.Web.UI.FontStyle.Underline){PB='underline';}else if(v.dH&ImageGear.Web.UI.FontStyle.Strikeout){PB='line-through';}}else{hj+='color:rgba('+(rj>>16)+','+((rj>>8)&255)+','+(rj&255)+','+bY+');';hj+='font-family:'+v.nn+';';hj+='font-size:'+pB+'px;';if(v.dH&ImageGear.Web.UI.FontStyle.Italic){hj+='font-style:italic;';}if(v.dH&ImageGear.Web.UI.FontStyle.Bold){hj+='font-weight:bold;';}if((v.dH&ImageGear.Web.UI.FontStyle.Underline)&&(v.dH&ImageGear.Web.UI.FontStyle.Strikeout)){hj+='text-decoration:underline line-through;';}else if(v.dH&ImageGear.Web.UI.FontStyle.Underline){hj+='text-decoration:underline;';}else if(v.dH&ImageGear.Web.UI.FontStyle.Strikeout){hj+='text-decoration:line-through;';}}switch(v.lN){case ImageGear.Web.UI.HorizontalAlignment.Center:hj+='text-align:center;';break;case ImageGear.Web.UI.HorizontalAlignment.Right:hj+='text-align:right;';break;default:break;}switch(v.pa){case ImageGear.Web.UI.VerticalAlignment.Center:break;case ImageGear.Web.UI.VerticalAlignment.Bottom:break;default:break;}if(!(document.documentMode>8)){this.bH(R.cl,{style:hj});}if(!(document.documentMode>8)){this.bH(R.fR,{transform:'matrix('+gO+','+(aV+L.x+dR)+','+(af+L.y+dR)+')'});this.bH(R.vc,{x:0,y:0,width:iC,height:iY});R.oc.data=v.az;}else{if(v.az!==""){this.RS(R);}this.bH(R.OJ,{x:0,y:0,width:L.width-5,height:L.height-5});var QK="url(#"+R.OC+")";this.bH(R.pF,{x:2,y:(this.wk/72)*v.lA,width:L.width,height:L.height,'font-family':v.nn,'font-size':pB,fill:'rgba('+(rj>>16)+', '+((rj>>8)&255)+', '+(rj&255)+', '+bY+')',opacity:bY,'font-weight':RZ,'font-style':dH,'text-decoration':PB});this.bH(R.fR,{transform:'matrix('+gO+','+(aV+L.x+dR)+','+(af+L.y+dR)+')','clip-path':QK});}},sH:function(R){var v=R.v;if(!v){return;}var ae=R.ae;var k,L,Ju,iz,bx='',bE,eR=true;var cz=false;switch(v.get_type()){case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:cz=true;this.uQ(R);break;case ImageGear.Web.UI.MarkType.Rectangle:L=v.get_rectangle();this.bH(ae,{x:L.x,y:L.y,width:L.width,height:L.height});break;case ImageGear.Web.UI.MarkType.Ellipse:L=v.get_rectangle();this.bH(ae,{cx:L.x+L.width/2,cy:L.y+L.height/2,rx:L.width/2,ry:L.height/2});break;case ImageGear.Web.UI.MarkType.Polygon:bE=this.qw(v);this.PY(ae,bE,false);if(v.PA==1)bx+='fill-rule:nonzero;';else bx+='fill-rule:evenodd;';break;case ImageGear.Web.UI.MarkType.Text:this.uB(R);this.tK(R);if(!(document.documentMode>8)){R.pA.style.cursor=ImageGear.au.lo(this.aa.nF());}break;default:throw new ImageGear.Web.UI.ImGearArgumentOutOfRangeException('type',bB);}if(cz){bx+='fill:none;';}else{if(v.nu){bx+='fill:'+v.lh+';';}else{bx+='fill:none;';}eR=v.eR;var la=this.ie(v.df);if(la!==''){bx+='stroke-dasharray:'+la+';';}}if(eR){bx+='stroke:'+v.get_lineColor()+';';bx+='stroke-width:'+v.iK+';';}else{bx+='stroke:none;';}bx+='opacity:'+(v.bY/255)+';';if(!v.ji){bx+='display:none;';if(R.fR){R.fR.style.display='none';}}else{if(R.fR){R.fR.style.display='block';}}bx+='cursor:'+ImageGear.au.lo(this.aa.nF())+';';this.bH(ae,{style:bx});},ie:function(df){switch(df){case ImageGear.Web.UI.LineStyle.Dash:return '7,7';case ImageGear.Web.UI.LineStyle.Dot:return '1,7';case ImageGear.Web.UI.LineStyle.DashDot:return '7,7,1,7';case ImageGear.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},AP:function(R){this.aq.gb.removeChild(R.ae);if(R.fR){this.aq.gb.removeChild(R.fR);}delete R.ae;},vo:function(){},zz:function(){this.aq=undefined;},aA:function(bB){return document.createElementNS('http://www.w3.org/2000/svg',bB);},bH:function(ae,aB){var k;for(k in aB){if(aB.hasOwnProperty(k)){ae.setAttribute(k,aB[k].toString());}}}};ImageGear.aD.nD={tP:function(){var jG=ImageGear.aD.nD;if(jG.jX===null){
/*@cc_on@if(@_jscript)jG.jX=document.documentMode>8;@else@*/ jG.jX=true;/*@end@*/}return jG.jX;},jX:null};if(ImageGear.nD.tP()){ImageGear.aD.bi=ImageGear.aD.yC;}else{ImageGear.aD.bi=ImageGear.aD.om;}ImageGear.aD.bi.prototype.zh=function(bQ,dF,iy,hJ,gR){var aN={bQ:bQ,dF:dF,iy:iy,hJ:hJ,gR:gR};if(bQ.x===dF.x&&bQ.y===dF.y){aN.gR=ImageGear.Web.UI.LineHeadType.None;}var qZ=Math.atan2(bQ.x-dF.x,-(bQ.y-dF.y))+Math.PI/2;iy*=Math.PI/180;var cE=qZ+iy;aN.hD={x:bQ.x+Math.cos(cE)*hJ,y:bQ.y+Math.sin(cE)*hJ};cE=qZ-iy;aN.ge={x:bQ.x+Math.cos(cE)*hJ,y:bQ.y+Math.sin(cE)*hJ};switch(aN.gR){case ImageGear.Web.UI.LineHeadType.Solid:case ImageGear.Web.UI.LineHeadType.Open:aN.lj={x:(aN.hD.x+aN.ge.x)/2,y:(aN.hD.y+aN.ge.y)/2};break;case ImageGear.Web.UI.LineHeadType.PointerSolid:aN.lj={x:bQ.x+Math.cos(qZ)*hJ/2,y:bQ.y+Math.sin(qZ)*hJ/2};break;default:aN.lj=bQ;break;}return aN;};ImageGear.aD.bi.prototype.Ah=function(R){var v=R.v;var L=v.get_rectangle();var nZ={x:v.fD.x+L.x+0.00001,y:v.fD.y+L.y+0.00001};var bD={};var ci=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}];if(!v.kb){bD.wu=ci;bD.qJ= !v.eR;return bD;}var k,ww=[];for(k=0;k<4;k++){ww.push({x:(ci[k].x+ci[(k+3)%4].x)/2,y:(ci[k].y+ci[(k+3)%4].y)/2,Gl:true});}for(k=3;k>=0;k--){ci.splice(k,0,ww[k]);}function yT(qR){var eT,nA;eT=(nZ.x-(ci[qR].x+ci[(qR+1)%8].x)/2)*L.height;nA=eT*eT;eT=(nZ.y-(ci[qR].y+ci[(qR+1)%8].y)/2)*L.width;return nA+eT*eT;};var rZ=0,AM=yT(0),cS;for(k=1;k<8;k++){cS=yT(k);if(cS<AM){AM=cS;rZ=k;}}ci=ci.slice(rZ+1).concat(ci.slice(0,rZ+1));var mH=ci[0],lE=ci[7];for(k=ci.length-1;k>=0;k--){if(ci[k].Gl){ci.splice(k,1);}}switch(v.nB){case ImageGear.Web.UI.CalloutType.Triangle:ci.splice(0,0,{x:(mH.x*3+lE.x)/4,y:(mH.y*3+lE.y)/4});ci.push({x:(mH.x+lE.x*3)/4,y:(mH.y+lE.y*3)/4});if(v.kQ){bD.qJ=true;bD.mZ=[].concat(ci);bD.mg=[ci[0],nZ,ci[ci.length-1]];}ci.push(nZ);break;default:case ImageGear.Web.UI.CalloutType.Line:bD.mg=[{x:(mH.x+lE.x)/2,y:(mH.y+lE.y)/2},nZ];break;}bD.wu=ci;if(!v.eR){bD.qJ=true;delete bD.mZ;delete bD.mg;}return bD;};ImageGear.aD.bi.prototype.qw=function(v){var bE=v.get_points();var bC=[],k;for(k=0;k<bE.get_length();k++){bC.push(bE.getPoint(k));}return bC;};ImageGear.aD.bi.prototype.sK=function(bC,Ic){var by=0,so=1,vU=bC.length-2,bQ,dF,k;if(!Ic){by=bC.length-1;so= -1;}bQ=bC[by];by+=so;dF=bC[by];by+=so;while(bQ.x===dF.x&&bQ.y===dF.y&&vU>0){dF=bC[by];by+=so;vU--;}return{bQ:bQ,dF:dF};};ImageGear.aD.bi.prototype.vz=function(J,aq,bs,fX,kf){if(!aq.ey){aq.ey=[];}var ey=aq.ey;if(bs.length<1&&ey.length<1){if(aq.ig.firstChild){aq.ig.innerHTML='';}return;}var an=J.as();var dk=an.kc();var K=J.bd();this.cR=J.bM().tc()*K.dI;if(this.cR>24){this.cR=40;if(J.eh()){this.oI=J.eh()+'/ArtMarkHandles40.png';}else{this.oI='<%=WebResource("ImageGear.Web.UI.ArtMarkHandles40.png")%>';}}else{this.cR=12;if(J.eh()){this.oI=J.eh()+'/ArtMarkHandles.png';}else{this.oI='<%=WebResource("ImageGear.Web.UI.ArtMarkHandles.png")%>';}}var k,or=[];if(kf){for(k=0;k<bs.length;k++){if(dk.oU(bs[k])>=0){or.push(bs[k]);}}}for(k=0;k<ey.length;k++){while(k<ey.length&&(k>=or.length||ey[k].v!==or[k])){aq.ig.removeChild(ey[k].fw);ey.splice(k,1);}if(k<ey.length){this.vp(ey[k],fX);}}for(k=ey.length;k<or.length;k++){ey[k]={v:or[k]};this.Er(aq.ig,ey[k]);this.vp(ey[k],fX);}};ImageGear.aD.bi.prototype.kJ=function(fw,By,iR,hS,Cg,aH){var am=[],k,ah;for(k=0;k<By;k++){ah={ae:document.createElement('div')};ah.ae.style.position='absolute';ah.ae.style.width=iR+'px';ah.ae.style.height=iR+'px';ah.ae.ImGearMarkHandle=ah;ah.aH=aH;ah.bB=hS;ah.by=Cg+k;fw.appendChild(ah.ae);am.push(ah);}return am;};ImageGear.aD.bi.prototype.Du=function(bF){var k;for(k=0;k<bF.am.length;k++){var ah=bF.am[k];ah.ae.style.cursor=ImageGear.au.lo(ah.aH);}};ImageGear.aD.bi.prototype.Er=function(ig,bF){bF.fw=document.createElement('div');bF.fw.style.width='0px';bF.fw.style.height='0px';bF.fw.style.left='0px';bF.fw.style.top='0px';var k,v=bF.v,ah;bF.fw.ImGearMarkRelation=bF;switch(v.get_type()){case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:bF.am=this.kJ(bF.fw,2,this.cR,this.vR,0,ImageGear.au.Move);bF.am=bF.am.concat(this.kJ(bF.fw,2,this.cR,this.pq,0,ImageGear.au.Move));break;case ImageGear.Web.UI.MarkType.Polygon:bF.am=[];break;case ImageGear.Web.UI.MarkType.Rectangle:case ImageGear.Web.UI.MarkType.Ellipse:case ImageGear.Web.UI.MarkType.Text:bF.jL=document.createElement('div');bF.jL.style.border='1px solid gray';bF.jL.style.position='absolute';bF.fw.appendChild(bF.jL);bF.am=this.kJ(bF.fw,4,this.cR,this.sX,0,-1);bF.am=bF.am.concat(this.kJ(bF.fw,4,this.cR,this.rO,0,-1));for(k=4;k<8;k++){ah=bF.am[k];ah.DP=bF.am[k-4];ah.Bj=bF.am[(k+1)%4];}if(v.get_type()===ImageGear.Web.UI.MarkType.Text){bF.am=bF.am.concat(this.kJ(bF.fw,1,this.cR,this.uU,0,ImageGear.au.Move));}break;}ig.appendChild(bF.fw);};ImageGear.aD.bi.prototype.sX=0;ImageGear.aD.bi.prototype.rO=1;ImageGear.aD.bi.prototype.pq=2;ImageGear.aD.bi.prototype.vR=3;ImageGear.aD.bi.prototype.uU=4;ImageGear.aD.bi.prototype.uN=function(ah,EV,fX,iR,ew){ah.aw=fX.transform(EV);ah.ae.style.left=(ah.aw.x-iR/2)+'px';ah.ae.style.top=(ah.aw.y-iR/2)+'px';ah.ae.style.display='block';ah.ae.style.background='transparent url(\''+this.oI+'\') no-repeat scroll -'+iR*ew+'px 0px';};ImageGear.aD.bi.prototype.xG=function(ah,iR,ew){ah.ae.style.left=(ah.aw.x-iR/2)+'px';ah.ae.style.top=(ah.aw.y-iR/2)+'px';ah.ae.style.display='block';ah.ae.style.background='transparent url(\''+this.oI+'\') no-repeat scroll -'+iR*ew+'px 0px';};ImageGear.aD.bi.prototype.qY=function(ah){ah.ae.style.display='none';};ImageGear.aD.bi.prototype.vp=function(bF,fX){bF.fw.style.cursor=ImageGear.au.lo(this.aa.nF());var k,v=bF.v,am=bF.am,ah,Je;var aw,bC,L,iz,ia,hS,di;var cS,ma,aV,af,qh;switch(v.get_type()){case ImageGear.Web.UI.MarkType.Line:case ImageGear.Web.UI.MarkType.Polyline:bC=this.qw(v);ma=bC.length+2-am.length;if(ma>0){bF.am=bF.am.concat(this.kJ(bF.fw,ma,this.cR,this.pq,am.length-2,ImageGear.au.Move));am=bF.am;}for(k=0;k<bC.length;k++){this.uN(am[k+2],bC[k],fX,this.cR,4);}for(k=bC.length+2;k<am.length;k++){this.qY(am[k+2]);}break;case ImageGear.Web.UI.MarkType.Polygon:bC=this.qw(v);ma=bC.length-am.length;if(ma>0){bF.am=bF.am.concat(this.kJ(bF.fw,ma,this.cR,this.pq,am.length,ImageGear.au.Move));am=bF.am;}for(k=0;k<bC.length;k++){this.uN(am[k],bC[k],fX,this.cR,4);}for(k=bC.length;k<am.length;k++){this.qY(am[k]);}break;case ImageGear.Web.UI.MarkType.Rectangle:case ImageGear.Web.UI.MarkType.Ellipse:case ImageGear.Web.UI.MarkType.Text:L=v.fI();am[0].aw=fX.transform({x:L.x,y:L.y});am[1].aw=fX.transform({x:L.x+L.width,y:L.y});am[2].aw=fX.transform({x:L.x+L.width,y:L.y+L.height});am[3].aw=fX.transform({x:L.x,y:L.y+L.height});di={x:Math.min(am[0].aw.x,am[2].aw.x),y:Math.min(am[0].aw.y,am[2].aw.y)};di.width=Math.max(am[0].aw.x,am[2].aw.x)-di.x;di.height=Math.max(am[0].aw.y,am[2].aw.y)-di.y;qh={x:di.x+di.width/2,y:di.y+di.height/2};for(k=0;k<4;k++){ah=am[k];hS=(ah.aw.x<qh.x)?((ah.aw.y<qh.y)?0:2):((ah.aw.y<qh.y)?1:3);this.xG(ah,this.cR,hS);switch(hS){case 0:ah.aH=ImageGear.au.ResizeNW;break;case 1:ah.aH=ImageGear.au.ResizeNE;break;case 2:ah.aH=ImageGear.au.ResizeSW;break;case 3:ah.aH=ImageGear.au.ResizeSE;break;}}bF.jL.style.left=di.x+'px';bF.jL.style.top=di.y+'px';bF.jL.style.width=di.width+'px';bF.jL.style.height=di.height+'px';var DE=di.x+di.width/4;var Eq=di.x+di.width*3/4;var EB=di.y+di.height/4;var Eo=di.y+di.height*3/4;for(k=4;k<8;k++){ah=am[k];iz=ah.DP.aw;ia=ah.Bj.aw;aV=iz.x-ia.x;af=iz.y-ia.y;cS=aV*aV+af*af;if(cS<this.cR*this.cR*5){this.qY(ah);}else{ah.aw={x:(iz.x+ia.x)/2,y:(iz.y+ia.y)/2};this.xG(ah,this.cR,5);if(ah.aw.x<DE){ah.aH=ImageGear.au.ResizeW;}else if(ah.aw.x>Eq){ah.aH=ImageGear.au.ResizeE;}else if(ah.aw.y<EB){ah.aH=ImageGear.au.ResizeN;}else if(ah.aw.y>Eo){ah.aH=ImageGear.au.ResizeS;}}}if(v.get_type()===ImageGear.Web.UI.MarkType.Text){if(v.kb){this.uN(am[8],{x:L.x+v.fD.x,y:L.y+v.fD.y},fX,this.cR,6);}else{this.qY(am[8]);}}break;}this.Du(bF);}; 