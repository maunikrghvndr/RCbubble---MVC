
//----------------------------------------------------------------------
// Copyright (c) 1996-2011 Accusoft Corporation.  All rights reserved. 
// </copyright>
//----------------------------------------------------------------------
Type.registerNamespace('ImageGear.Web.UI');ImageGear.Web.UI.MouseTool=function(){};if(!window.Sys.Component){ImageGear.Web.UI.MouseTool.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13};ImageGear.Web.UI.MouseTool.registerEnum('ImageGear.Web.UI.MouseTool',false);ImageGear.Web.UI.FitType=function(){};if(!window.Sys.Component){ImageGear.Web.UI.FitType.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};ImageGear.Web.UI.FitType.registerEnum('ImageGear.Web.UI.FitType',false);ImageGear.Web.UI.ScrollBars=function(){};if(!window.Sys.Component){ImageGear.Web.UI.ScrollBars.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};ImageGear.Web.UI.ScrollBars.registerEnum('ImageGear.Web.UI.ScrollBars',false);ImageGear.Web.UI.ImGearArtDataServices=function(){};if(!window.Sys.Component){ImageGear.Web.UI.ImGearArtDataServices.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};ImageGear.Web.UI.ImGearArtDataServices.registerEnum('ImageGear.Web.UI.ImGearArtDataServices',false);ImageGear.Web.UI.VectorFormatsRendering=function(){};if(!window.Sys.Component){ImageGear.Web.UI.VectorFormatsRendering.registerEnum=ImageGear.Web.regEnum;}ImageGear.Web.UI.VectorFormatsRendering.prototype={SVG:0,Raster:1};ImageGear.Web.UI.VectorFormatsRendering.registerEnum('ImageGear.Web.UI.VectorFormatsRendering',false);ImageGear.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};ImageGear.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};ImageGear.Web.UI.Rectangle.prototype={intersect:function(rectangle){var dX=Math.max(this.x,rectangle.x);var aF=Math.min(this.x+this.width,rectangle.x+rectangle.width)-dX;var eg=Math.max(this.y,rectangle.y);var kg=Math.min(this.y+this.height,rectangle.y+rectangle.height)-eg;if(aF<=0||kg<=0){dX=eg=aF=kg=0;}this.x=dX;this.y=eg;this.width=aF;this.height=kg;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new ImageGear.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};if(!window.Sys.Component){ImageGear.Web.UI.Rectangle.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.Rectangle.registerClass('ImageGear.Web.UI.Rectangle');ImageGear.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};ImageGear.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);},composeWith:function(vector){return new ImageGear.Web.UI.Point(this.x+vector.x,this.y+vector.y);},subtract:function(vector){return new ImageGear.Web.UI.Point(this.x-vector.x,this.y-vector.y);},module:function(){return Math.sqrt(this.x*this.x+this.y*this.y);},scalarProduct:function(vector){return this.x*this.y+vector.x*vector.y;},vectorProduct:function(vector){return this.x*vector.y-this.y*vector.x;},angleWith:function(vector){var cE=Math.atan2(this.x*vector.y-this.y*vector.x,this.x*vector.x+this.y*vector.y);if(cE<0.0)cE=Math.PI*2+cE;return cE;}};if(!window.Sys.Component){ImageGear.Web.UI.Point.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.Point.registerClass('ImageGear.Web.UI.Point');ImageGear.Web.UI.PointCollection=function(){var bE=[];var aP=new ImageGear.Web.UI.fh();this.GS=function(aw){var C=new ImageGear.Web.UI.PointEventArgs();C.point=aw;C.length=1;bE.push(new ImageGear.Web.UI.Point(aw.x,aw.y));C.index=bE.length-1;this.bv('pointAdded',C);};this.HO=function(yi){var C=new ImageGear.Web.UI.PointEventArgs();C.index=bE.length;C.length=yi.get_length();function uw(aw){bE.push(aw);};yi.forEach(uw,{});if(C.length>0){this.bv('pointAdded',C);}};this.lq=function(iG,iF){var vf=[].concat(bE);var k;for(k=0;k<vf.length;k++){iG.call(iF,new ImageGear.Web.UI.Point(vf[k].x,vf[k].y),k,this);}};this.HH=function(by){gF(by);var cf=bE[by];return new ImageGear.Web.UI.Point(cf.x,cf.y);};this.Hd=function(by,aw){gF(by);ImageGear.bO.aw(aw,'point');var qj=bE[by];if(qj.x===aw.x&&qj.y===aw.y){return;}qj.x=aw.x;qj.y=aw.y;var C=new ImageGear.Web.UI.PointEventArgs();C.point=aw;C.index=by;C.length=1;this.bv('pointChanged',C);};this.hw=function(){return bE.length;};this.Fw=function(by){gF(by);var C=new ImageGear.Web.UI.PointEventArgs();C.point=bE[by];C.index=by;C.length=1;bE.splice(by,1);this.bv('pointRemoved',C);};this.FY=function(){if(bE.length<1){return;}var C=new ImageGear.Web.UI.PointEventArgs();C.index=0;C.length=bE.length;bE=[];this.bv('pointRemoved',C);};this.AD=function(aV,af){if(aV===0&&af===0){return;}ImageGear.bO.ea(aV,'deltaX');ImageGear.bO.ea(af,'deltaY');var k;for(k=0;k<bE.length;k++){bE[k].x+=aV;bE[k].y+=af;}var C=new ImageGear.Web.UI.PointEventArgs();C.index=0;C.length=bE.length;this.bv('pointChanged',C);};this.zB=function(){if(bE.length<1){return new ImageGear.Web.UI.Rectangle(0,0,0,0);}var k,pY=bE[0].x,gL=bE[0].x,_top=bE[0].y,nx=bE[0].y;for(k=1;k<bE.length;k++){var aw=bE[k];pY=Math.min(pY,aw.x);gL=Math.max(gL,aw.x);_top=Math.min(_top,aw.y);nx=Math.max(nx,aw.y);}return new ImageGear.Web.UI.Rectangle(pY,_top,gL-pY,nx-_top);};function gF(by){if(by>bE.length-1|| !(by>=0)){throw new ImageGear.Web.UI.ImGearArgumentOutOfRangeException('index',by);}};this.Es=function(O){aP.addHandler('pointAdded',O);};this.GC=function(O){aP.removeHandler('pointAdded',O);};this.Dk=function(O){aP.addHandler('pointChanged',O);};this.Gu=function(O){aP.removeHandler('pointChanged',O);};this.DY=function(O){aP.addHandler('pointRemoved',O);};this.Gj=function(O){aP.removeHandler('pointRemoved',O);};this.bv=function(al,C){var O=aP.getHandler(al);if(O!==null){O(this,C);}};return this;};ImageGear.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.GS(point);},addPoints:function(pointCollection){this.HO(pointCollection);},forEach:function(method,context){this.lq(method,context);},getPoint:function(index){return this.HH(index);},setPoint:function(index,point){this.Hd(index,point);},get_length:function(){return this.hw();},removePoint:function(index){this.Fw(index);},removeAllPoints:function(){this.FY();},moveAllPoints:function(deltaX,deltaY){this.AD(deltaX,deltaY);},add_pointAdded:function(handler){this.Es(handler);},remove_pointAdded:function(handler){this.GC(handler);},add_pointChanged:function(handler){this.Dk(handler);},remove_pointChanged:function(handler){this.Gu(handler);},add_pointRemoved:function(handler){this.DY(handler);},remove_pointRemoved:function(handler){this.Gj(handler);}};if(!window.Sys.Component){ImageGear.Web.UI.PointCollection.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.PointCollection.registerClass('ImageGear.Web.UI.PointCollection');ImageGear.Web.UI.PageViewState=function(){return this;};ImageGear.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:ImageGear.Web.UI.FitType.FullImage,viewRectangle:new ImageGear.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:false};if(!window.Sys.Component){ImageGear.Web.UI.PageViewState.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.PageViewState.registerClass('ImageGear.Web.UI.PageViewState');ImageGear.Web.UI.ThumbnailViewState=function(){return this;};ImageGear.Web.UI.ThumbnailViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,selected:false};if(!window.Sys.Component){ImageGear.Web.UI.ThumbnailViewState.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.ThumbnailViewState.registerClass('ImageGear.Web.UI.ThumbnailViewState');ImageGear.Web.UI.LogItemEventArgs=function(){return this;};if(!window.Sys.Component){ImageGear.Web.UI.LogItemEventArgs.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.LogItemEventArgs.prototype={};ImageGear.Web.UI.LogItemEventArgs.registerClass('ImageGear.Web.UI.LogItemEventArgs');ImageGear.Web.UI.LogItem=ImageGear.Web.UI.LogItemEventArgs;ImageGear.Web.UI.MouseEventArgs=function(){var xg=false;this.CA=function(){xg=true;};this.xZ=function(){return xg;};return this;};ImageGear.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.CA();}};if(!window.Sys.Component){ImageGear.Web.UI.MouseEventArgs.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.MouseEventArgs.registerClass('ImageGear.Web.UI.MouseEventArgs');ImageGear.Web.UI.MouseEvent=ImageGear.Web.UI.MouseEventArgs;ImageGear.Web.UI.PointEventArgs=function(){return this;};if(!window.Sys.Component){ImageGear.Web.UI.PointEventArgs.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.PointEventArgs.prototype={};ImageGear.Web.UI.PointEventArgs.registerClass('ImageGear.Web.UI.PointEventArgs');ImageGear.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};if(!window.Sys.Component){ImageGear.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};ImageGear.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('ImageGear.Web.UI.ImGearPageOpenFailedEventArgs');ImageGear.Web.UI.PageView=function(element){if(window.Sys.UI.Control.initializeBase){ImageGear.Web.UI.PageView.initializeBase(this,[element]);}var bG=this;var aR;var J;var AA=1.5;var jd=0;var ev='';var iV=false;var aP=new ImageGear.Web.UI.fh();var cG=null;var sv=0;var wC= -1;var vE= -1;var wf= -1;function cO(jS){if(!J){return false;}return J.cO(jS);};this.F=function(dw,fS){if(cO(ImageGear.Web.UI.DebugErrorLevel.Production)){J.F(dw,fS);}};this.ag=function(dw,dq,eL){if(!cO(ImageGear.Web.UI.DebugErrorLevel.Development)){return;}var ad=dw+'(';var k;for(k=0;k<dq.length;k++){if(k>0){ad+=', ';}ad+=ImageGear.ds.fE(dq[k],(eL?eL:0));}ad+=')';this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Development);};this.qB=function(dw,dq,ga,eL){if(!cO(ImageGear.Web.UI.DebugErrorLevel.Development)){return;}var ad=dw+'(';var k;for(k=0;k<dq.length;k++){if(k>0){ad+=', ';}ad+=ImageGear.ds.fE(dq[k],(eL?eL:0));}ad+=') = ';ad+=ImageGear.ds.fE(ga,1);this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Development);};this.bh=function(dw,dq,ga){if(!cO(ImageGear.Web.UI.DebugErrorLevel.Detailed)){return;}var ad=dw+'(';var k;for(k=0;k<dq.length;k++){if(k>0){ad+=', ';}ad+=ImageGear.ds.fE(dq[k],0);}ad+=') = ';ad+=ImageGear.ds.fE(ga,1);this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Detailed);};this.gE=function(cZ,bA){if(J){J.fe(cZ,ImageGear.Web.UI.DebugItemCause.FunctionCall,bA);}};this.fe=function(cZ){if(J){J.fe(cZ,ImageGear.Web.UI.DebugItemCause.Custom,ImageGear.Web.UI.DebugErrorLevel.Production);}};this.js=function(){return J.get_debug();};this.ow=function(h){J.set_debug(h);};this.fZ=function(){return J.fZ();};this.ks=function(h){ImageGear.bO.cX(h,'value',ImageGear.Web.UI.DebugErrorLevel);J.ks(h);};var gC=function(){if(J.aQ()===undefined){throw new ImageGear.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function ao(al,O){aP.addHandler(al,O);};function ax(al,O){aP.removeHandler(al,O);};this.uk=function(O){ao('pageOpening',O);};this.tn=function(O){ax('pageOpening',O);};this.ud=function(O){ao('pageOpened',O);};this.uq=function(O){ax('pageOpened',O);};this.um=function(O){ao('pageClosed',O);};this.uy=function(O){ax('pageClosed',O);};this.Be=function(O){ao('pageOpenFailed',O);};this.Kg=function(O){ax('pageOpenFailed',O);};this.Ps=function(O){ao('artPageOpenFailed',O);};this.Ow=function(O){ax('artPageOpenFailed',O);};this.OI=function(O){ao('pageDisplayed',O);};this.PR=function(O){ax('pageDisplayed',O);};this.qt=function(O){ao('mouseDown',O);};this.qK=function(O){ax('mouseDown',O);};this.qb=function(O){ao('mouseMove',O);};this.qI=function(O){ax('mouseMove',O);};this.qP=function(O){ao('mouseUp',O);};this.pv=function(O){ax('mouseUp',O);};this.uV=function(O){ao('contextMenu',O);};this.ti=function(O){ax('contextMenu',O);};this.lJ=function(O){ao('markAdded',O);};this.lM=function(O){ax('markAdded',O);};this.AY=function(O){ao('markCreating',O);};this.Fy=function(O){ax('markCreating',O);};this.qo=function(O){ao('markChanged',O);};this.sN=function(O){ax('markChanged',O);};this.mE=function(O){ao('markRemoved',O);};this.me=function(O){ax('markRemoved',O);};this.sY=function(O){ao('markReordered',O);};this.qr=function(O){ax('markReordered',O);};this.rf=function(O){ao('marksLoaded',O);};this.qm=function(O){ax('marksLoaded',O);};this.pL=function(O){ao('markSelectionChanged',O);};this.re=function(O){ax('markSelectionChanged',O);};var bv=function(al,C){try{var O;O=aP.getHandler(al);if(O){O(bG,C);}}catch(e){bG.F(al+'Event',e);}};var fQ=function(al){function eU(aW,C){bv(al,C);};J['add_'+al](eU);};var nN=function(al){function eU(aW,C){if(iV&&J.mk()){ob();}bv(al,C);};J['add_'+al](eU);};function ob(){var dA,cW,gj;if(ev!==''){gj=document.getElementById(ev);if(gj){dA=bG.kH();cW='{encodedDocumentIdentifier:"'+dA.encodedDocumentIdentifier;cW+='",pageNumber:'+dA.pageNumber.toString();cW+=',viewFitType:'+dA.viewFitType.toString();if(dA.viewRectangle&&dA.viewFitType===ImageGear.Web.UI.FitType.Rectangle){cW+=',viewRectangle:{x:'+dA.viewRectangle.x.toFixed(5);cW+=',y:'+dA.viewRectangle.y.toFixed(5);cW+=',width:'+dA.viewRectangle.width.toFixed(5);cW+=',height:'+dA.viewRectangle.height.toFixed(5);cW+='}';}if(dA.viewRotationDegreesClockwise){cW+=',viewRotationDegreesClockwise:'+dA.viewRotationDegreesClockwise.toString();}if(dA.viewMirror){cW+=',viewMirror:'+dA.viewMirror.toString();}if(iV){var an=J.as();if(an){cW+=',artPageJson:"'+ImageGear.dK.lP(an.saveToJson())+'"';}}cW+='}';gj.value=cW;}}};var vg=function(){function eU(aW,C){var kZ=true;switch(C.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':ob();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'kf':case 'iP':kZ=false;break;case 'mt':if(J.mk()){ob();}kZ=false;break;}if(kZ){bv('propertyChanged',C);}};J.eo(eU);};this.Ap=function(bB){ImageGear.bO.cX(bB,'type',ImageGear.Web.UI.FitType);if(bB===ImageGear.Web.UI.FitType.Rectangle){throw new ImageGear.Web.UI.ImGearArgumentException('type','The value must be a member of the ImageGear.Web.UI.FitType enumeration (other than Rectangle).');}gC();cG={Gg:true,viewFitType:bB};sJ();};this.Bc=function(){return J.aQ()!==undefined;};this.Cw=function(){gC();return J.aQ().width;};this.Bn=function(){gC();return J.aQ().height;};this.Co=function(){gC();return J.aQ().dI;};this.Cs=function(){gC();return J.aQ().eF;};this.iQ=function(){if(!J|| !(J.aQ())){return '';}return J.aQ().get_identifier();};this.lu=function(){if(!J|| !(J.aQ())){return '';}return J.aQ().get_encodedIdentifier();};this.jf=function(){if(!J|| !(J.aQ())){return-1;}return J.aQ().eQ;};this.uH=function(){if(!J|| !(J.aQ())){return 0;}return J.aQ().dY;};this.yJ=function(){var bk=J.aQ();if(!bk){return new ImageGear.Web.UI.Rectangle(0,0,0,0);}var K=J.bd();K.x=K.y=0;var gZ=J.bM().cv();gZ.jH();var aY=gZ.jF(K);if(aY.x<0){aY.width+=aY.x;aY.x=0;}if(aY.y<0){aY.height+=aY.y;aY.y=0;}if(aY.x+aY.width>bk.width){aY.width=bk.width-aY.x;}if(aY.y+aY.height>bk.height){aY.height=bk.height-aY.y;}return aY;};function na(){var ab={},aU=J.bM().cv();ab.documentIdentifier=bG.iQ();ab.encodedDocumentIdentifier=bG.lu();ab.pageNumber=bG.jf();ab.artPage=bG.as();ab.referenceDocumentIdentifier=bG.iQ();ab.referencePageNumber=bG.jf();ab.viewFitType=ImageGear.Web.UI.FitType.Rectangle;ab.viewRectangle=bG.yJ();var ft=aU.qT();if(ft!==0){ab.viewRotationDegreesClockwise=ft;}if(aU.sq()){ab.viewMirror=true;}return ab;};this.kH=function(){var ab;if(aR){ab=new ImageGear.Web.UI.PageViewState();ab.documentIdentifier=aR.documentIdentifier;ab.encodedDocumentIdentifier=aR.encodedDocumentIdentifier;ab.pageNumber=aR.pageNumber;ab.artPage=aR.artPage;ab.artPageJson=aR.artPageJson;ab.referenceDocumentIdentifier=aR.documentIdentifier;ab.referencePageNumber=aR.pageNumber;ab.viewFitType=aR.viewFitType;ab.viewRectangle=aR.viewRectangle;ab.viewRotationDegreesClockwise=aR.viewRotationDegreesClockwise;ab.viewMirror=aR.viewMirror;}else{ab=na();}return ab;};this.Gy=function(aE){var K=J.bd();this.xc(aE,{x:K.width/2,y:K.height/2});};this.xc=function(aE,dr){ImageGear.bO.hc(aE,'factor',1.01,20);ImageGear.bO.aw(dr,'point');gC();var aa=J.bM();var aK=aa.cv();var K=J.bd();var bb=J.aQ();var eW=aK.pd();if(eW*aE>bb.ki){aE=bb.ki/eW;}aK.ku(aE,aE,dr.x,dr.y);aK.cN(bb,J.bd());cG=null;aa.fz(aK);};this.GG=function(aE){var K=J.bd();this.wa(aE,{x:K.width/2,y:K.height/2});};this.wa=function(aE,dr){ImageGear.bO.hc(aE,'factor',1.01,20);ImageGear.bO.aw(dr,'point');gC();var aa=J.bM();var aK=aa.cv();var K=J.bd();var bb=J.aQ();var eW=aK.pd();if(eW/aE<bb.mW){aE=eW/bb.mW;}aK.ku(1/aE,1/aE,dr.x,dr.y);aK.cN(bb,J.bd());cG=null;aa.fz(aK);};this.wD=function(zr){ImageGear.bO.Ab(zr,'degreesClockwise',[90,180,270,-90,-180,-270]);gC();var aa=J.bM();var aK=aa.cv();var K=J.bd();aK.vl(zr,K.width/2,K.height/2);aK.cN(J.aQ(),J.bd());cG=null;aa.fz(aK);};this.zX=function(){gC();var aa=J.bM();var aK=aa.cv();var K=J.bd();aK.ku(-1,1,K.width/2,K.height/2);aK.cN(J.aQ(),J.bd());cG=null;aa.fz(aK);};this.Cy=function(aY){ImageGear.bO.L(aY,'pageRectangle');gC();var aa=J.bM();var aK=aa.cv();var K=J.bd();var bb=J.aQ();aK.pD(bb,K,aY);aK.cN(bb,J.bd());cG=null;aa.fz(aK);};this.BW=function(cK){ImageGear.bO.aw(cK,'imagePoint');gC();var aa=J.bM();var aK=aa.cv();var K=J.bd();aK.wG(K,cK);aK.cN(J.aQ(),J.bd());cG=null;aa.fz(aK);};this.zI=function(){gC();cG=null;var aa=J.bM();var aK=aa.cv();var K=J.bd();aK.ku(1,-1,K.width/2,K.height/2);aK.cN(J.aQ(),J.bd());cG=null;aa.fz(aK);};this.cD=function(){J.cD();};var sJ=function(){var bb=J.aQ();var K=J.bd();var aK;if(!cG){aK=J.bM().cv();aK.cN(bb,K);J.bM().fz(aK);return;}if(cG.Gg){aK=J.bM().cv();}else{aK=new ImageGear.ap();aK.xS(bb,K);if(cG.viewRotationDegreesClockwise){aK.rotate(cG.viewRotationDegreesClockwise);}if(cG.viewMirror){aK.DV(K);}}if(!cG.viewFitType&&cG.viewFitType!==0){cG.viewFitType=ImageGear.Web.UI.FitType.FullImage;}if(cG.viewFitType===ImageGear.Web.UI.FitType.Rectangle&& !cG.viewRectangle){cG.viewFitType=ImageGear.Web.UI.FitType.FullImage;}if(cG.viewFitType!==ImageGear.Web.UI.FitType.Rectangle){aK.wr(cG.viewFitType,bb,K);}else{aK.pD(bb,K,cG.viewRectangle);}aK.cN(bb,K);J.bM().fz(aK);};var Fa=function(BN){cG=BN;sv=0;sJ();};this.rY=function(ak){jd++;var wx=jd;var vD={};ImageGear.dK.za(ak);if(cO(ImageGear.Web.UI.DebugErrorLevel.Development)){var ad='opening documentIdentifier "'+ak.documentIdentifier+'", pageNumber '+ak.pageNumber;this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Development);}aR=new ImageGear.Web.UI.PageViewState();var k;for(k in ak){if(ak.hasOwnProperty(k)){aR[k]=ak[k];}}if(ak.documentIdentifier===''){this.ky();return;}if(ImageGear.Web.UI.ArtPage){if(aR){if(!aR.artPage){var an=new ImageGear.Web.UI.ArtPage();if(aR.artPageJson){an.loadFromJson(aR.artPageJson);}aR.artPage=an;}}}if(aR.viewRotationDegreesClockwise){ImageGear.bO.Ab(aR.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aR.fitType){ImageGear.bO.cX(aR.fitType,'parameters.fitType',ImageGear.Web.UI.FitType);}bv('pageOpening',ak);var bk=new ImageGear.dK(ak.encodedDocumentIdentifier,ak.pageNumber,0,0,0,0);var hx=function(){if(wx!==jd){return;}var jC=null;if(J.aQ()){jC=na();}J.bM().hq();J.pQ(bk);Fa(aR);if(ak.artServiceOption===ImageGear.Web.UI.ImGearArtDataServices.ArtDataService){if(aR){if(aR.artPage){J.fr(aR.artPage);J.as().loadFromJson(bk.vn);}}}else{if(aR){if(aR.artPage){J.fr(aR.artPage);}}}aR=null;if(jC){bv('pageClosed',jC);}ob();bv('pageOpened',ak);};if(ak.artServiceOption===ImageGear.Web.UI.ImGearArtDataServices.ArtDataService){if(aR){if(!aR.artPageJson){bk.As(J.gs(),J,hx,vD);}else{bk.sP(J.gs(),J,hx);}}}else{bk.sP(J.gs(),J,hx);if(ak.artPageError){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=new ImageGear.Web.UI.ImGearArgumentException(null,ak.artPageError==null?"ART page opening is failed.":ak.artPageError);bW.pageNumber=ak.pageNumber;bv('artPageOpenFailed',bW);}}};this.ky=function(){jd++;if(!(J.aQ())){return;}var jC=na();J.pQ(undefined);J.fr(undefined);this.cD();ob();bv('pageClosed',jC);};this.nr=function(kV){J.nr(kV);};this.fr=function(h){J.fr(h);};this.as=function(){return J.as();};this.iu=function(h){J.iu(h);};this.eh=function(){return J.eh();};this.PP=function(h){J.PP(h);};this.Pg=function(){return J.Pg();};this.Pm=function(h){J.Pm(h);};this.PG=function(){return J.PG();};this.kY=function(ka){J.kY(ka);};this.kB=function(){return J.kB();};this.hq=function(){var aa=J.bM();if(!aa.kF()){return;}J.bM().hq();};this.Bg=function(aY){ImageGear.bO.L(aY,'pageRectangle');var bk=J.aQ();if(bk){J.bM().showSelection(aY);}};this.lU=function(cK){ImageGear.bO.aw(cK,'imagePoint');if(J.aQ()){J.bM().lU(new ImageGear.Web.UI.Point(cK.x,cK.y));}};this.jQ=function(cK){ImageGear.bO.aw(cK,'imagePoint');if(J.aQ()){J.bM().jQ(new ImageGear.Web.UI.Point(cK.x,cK.y));}};this.ip=function(){if(J.aQ()&&J.bM().kF()){return J.bM().ip();}return new ImageGear.Web.UI.Rectangle(0,0,0,0);};this.Bq=function(){if(J.aQ()&&J.bM().kF()){var aY=J.bM().ip();return J.bM().cv().jF(aY);}return new ImageGear.Web.UI.Rectangle(0,0,0,0);};this.kF=function(){return! !(J.aQ()&&J.bM().kF());};this.gs=function(){return J.gs();};this.nc=function(h){ImageGear.bO.iZ(h,'value');J.nc(h);};this.oa=function(){return ev;};this.oK=function(h){ImageGear.bO.iZ(h,'value');ev=h;};this.tC=function(){return iV;};this.va=function(h){iV=h;};var ht='';this.jE=function(h){ht=h;};this.cb=function(){return ht;};this.BF=function(){return J.bM().get_magnifierMagnification();};this.HV=function(h){ImageGear.bO.hc(h,'value',1.5,8);J.bM().set_magnifierMagnification(h);};this.Bf=function(){return J.bM().lf().width;};this.Is=function(h){ImageGear.bO.hc(h,'value',25,500);var jU=J.bM().lf();jU.width=h;J.bM().set_magnifierWindowSize(jU);};this.Cb=function(){return J.bM().lf().height;};this.HB=function(h){ImageGear.bO.hc(h,'value',25,500);var jU=J.bM().lf();jU.height=h;J.bM().set_magnifierWindowSize(jU);};this.te=function(){return J.bM().te();};this.ur=function(h){ImageGear.bO.hc(h,'value',-500,500);J.bM().ur(h);};this.sx=function(){return J.bM().sx();};this.tX=function(h){ImageGear.bO.hc(h,'value',-500,500);J.bM().tX(h);};this.tc=function(){return J.bM().tc();};this.ug=function(h){ImageGear.bO.hc(h,'value',.1,.5);J.bM().ug(h);};if(!window.Sys.Component){this.raisePropertyChanged=function(bK){if(J){J.ac(bK);}};}var qq= -1;this.CL=function(){return qq;};this.uh=function(h){ImageGear.bO.cX(h,'value',ImageGear.Web.UI.MouseTool);if(qq!==h){qq=h;switch(qq){case ImageGear.Web.UI.MouseTool.None:J.ec([]);break;case ImageGear.Web.UI.MouseTool.Magnifier:J.ec([new ImageGear.iM(),new ImageGear.eG(),new ImageGear.cU(),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.RectangleZoom:J.ec([new ImageGear.hs(),new ImageGear.eG(),new ImageGear.cU(),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.HandPan:J.ec([new ImageGear.hy(),new ImageGear.eG(),new ImageGear.cU(),new ImageGear.cJ(),new ImageGear.cB(true)]);break;case ImageGear.Web.UI.MouseTool.Select:J.ec([new ImageGear.il(),new ImageGear.eG(),new ImageGear.cU(),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreateRectangleMark:J.ec([new ImageGear.gz(ImageGear.Web.UI.MarkType.Rectangle),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreateEllipseMark:J.ec([new ImageGear.gz(ImageGear.Web.UI.MarkType.Ellipse),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreateLineMark:J.ec([new ImageGear.jr(),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreatePolylineMark:J.ec([new ImageGear.gK(ImageGear.Web.UI.MarkType.Polyline),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreateFreehandMark:J.ec([new ImageGear.iI(),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreatePolygonMark:J.ec([new ImageGear.gK(ImageGear.Web.UI.MarkType.Polygon),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.CreateTextMark:J.ec([new ImageGear.gz(ImageGear.Web.UI.MarkType.Text),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.EditMarks:J.ec([new ImageGear.hm(ImageGear.Web.UI.MarkType.Text),new ImageGear.eG(),new ImageGear.cU(true),new ImageGear.cJ(),new ImageGear.cB(false)]);break;case ImageGear.Web.UI.MouseTool.RunMarks:J.ec([new ImageGear.qk(ImageGear.Web.UI.MarkType.Text),new ImageGear.eG(),new ImageGear.cU(),new ImageGear.cJ(),new ImageGear.cB(false)]);break;}this.raisePropertyChanged('mouseTool');}};this.BY=function(){return J.bM().get_presentationQuality();};this.Hh=function(h){ImageGear.bO.hc(h,'value',0,100);J.bM().set_presentationQuality(h);};this.Bp=function(){return J.bM().get_scrollBars();};this.HY=function(h){ImageGear.bO.cX(h,'value',ImageGear.Web.UI.ScrollBars);J.bM().set_scrollBars(h);};this.CC=function(cK,DO){ImageGear.bO.aw(cK,'imagePoint');if(!(J.aQ())){return new ImageGear.Web.UI.Point(0,0);}var dr=J.bM().cv().transform(cK);if(DO){dr.constrain(J.bd());}return dr;};this.CW=function(dr,El){ImageGear.bO.aw(dr,'windowPoint');var bk=J.aQ();if(!bk){return new ImageGear.Web.UI.Point(0,0);}var gZ=J.bM().cv();gZ.jH();var cK=gZ.transform(dr);if(El){cK.constrain(bk);}return cK;};function sc(aW,C){var bp;if(window.Sys.Component){bp=bG.get_element();}else{bp=bG.cb();}var AS=bp.clientWidth;var zk=bp.clientHeight;var Ga=(cG&&cG.viewFitType===wC&&AS===vE&&zk===wf);if(Ga){if(sv>2){return;}sv++;}else{wC=cG?cG.viewFitType: -1;vE=AS;wf=zk;sv=0;}sJ();};function Ez(aW,C){cG=null;};function Cv(aW,C){switch(C.cn){case ImageGear.aX.vV:bG.xc(1.25,C.rS.windowPoint);break;case ImageGear.aX.wT:bG.wa(1.25,C.rS.windowPoint);break;case ImageGear.aX.tG:bG.wD(C.h);break;case ImageGear.aX.yH:bG.zI();break;case ImageGear.aX.zt:bG.zX();break;case ImageGear.aX.wb:bG.Ap(C.h);break;case ImageGear.aX.yR:bG.uh(C.h);break;}};this.get_contextMenuVisibility=function(){return J.Rm();};this.set_contextMenuVisibility=function(visible){J.Qr(visible);};this.initialize=function(){if(window.Sys.Component){ImageGear.Web.UI.PageView.callBaseMethod(this,'initialize');}if(window.Sys.Component){J.pG(this.get_element().id);}else{J.pG(this.cb().id);J.jE(this.cb().id);}if(qq=== -1){this.uh(ImageGear.Web.UI.MouseTool.RectangleZoom);}fQ('mouseDown');fQ('mouseMove');fQ('mouseUp');fQ('contextMenu');fQ('markCreating');fQ('pageOpenFailed');fQ('artPageOpenFailed');fQ('pageDisplayed');nN('markAdded');nN('markChanged');nN('markRemoved');nN('markReordered');nN('marksLoaded');fQ('markSelectionChanged');vg();J.ze(sc);J.Cd(Ez);J.GO(Cv);J.xO();var bp;if(window.Sys.Component){bp=this.get_element();}else if(typeof jQuery!='undefined'){bp=this.cb();}bp.dN=this;};this.OH=function(QN){var Pa=QN.split(',');var OT=[];for(k=0;k<Pa.length;k++){var OA=Pa[k].split('-');var Pl=OA[0].replace(/\s+/g,'');var PZ=Pl;if(OA[1]!=undefined&&OA[1]!=""){PZ=OA[1].replace(/\s+/g,'');}if(Pl<PZ){Ou=Pl;Py=PZ;}else{Ou=PZ;Py=Pl;}if(OA.length>1){for(var by=Ou;by<=Py;by++){OT.push(by);}}else{OT.push(Ou);}}OT.sort(function(a,b){return a-b});for(k=1;k<OT.length;k++){if(OT[k-1]==OT[k]){OT.splice(k,1);}}return OT;};this.Sa=function(printOptions){if(typeof(printOptions.imageHandlerUrl)!="string"){printOptions.imageHandlerUrl=this.get_imageHandlerUrl();if(typeof(printOptions.imageHandlerUrl)!="string")return;}if(printOptions.documentIdentifier==undefined||""==printOptions.documentIdentifier){var docId=this.iQ();if(docId&&""!=docId)printOptions.documentIdentifier=docId;else return;}if(typeof(printOptions.pageNumber)=="number"){printOptions.pageArray=[printOptions.pageNumber];}else if(typeof(printOptions.pageArray)!="object"|| !(printOptions.pageArray instanceof Array)){if(typeof(printOptions.pageFilter)=="string"){printOptions.pageArray=this.OH(printOptions.pageFilter);for(var i=printOptions.pageArray.length-1;i>=0;i--)printOptions.pageArray[i]=printOptions.pageArray[i]-1;if(printOptions.pageArray.length>0&&printOptions.pageArray[0]<0)printOptions.pageArray.splice(0,1);}else return;}var iframeIdentifier="i_hope_that_there_is_not_such_id";var oldIFrame=document.getElementById(iframeIdentifier);if(oldIFrame)document.body.removeChild(oldIFrame);printOptions.printFrame=document.createElement("iframe");printOptions.printFrame.setAttribute("id",iframeIdentifier);printOptions.printFrame.setAttribute("style","width: 300px; height: 0px; border: 0px");printOptions.printFrame.setAttribute("src","about:blank");document.body.appendChild(printOptions.printFrame);var innerHtml="";innerHtml+="<html>";innerHtml+="    <head>";innerHtml+="        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"/>";var scripts=document.getElementsByTagName("script");for(i=0;i<scripts.length;i++){var script=scripts[i];var attribute=script.attributes["type"];if(attribute&&attribute.value.toString()==="text/javascript"){attribute=script.attributes["src"];if(attribute&&attribute.value){innerHtml+="        <script type=\"text/javascript\" src=\""+attribute.value+"\"></script>";}}}innerHtml+='        <style type="text/css">';innerHtml+='          @page { size 8.5in 11in; margin: 0cm; }';innerHtml+='          body { margin: 0px; }';innerHtml+='          @media print { .tnDiv { page-break-after: always; } }';innerHtml+='        </style>';innerHtml+="        <title></title>";innerHtml+="    </head>";innerHtml+="    <body onload=\"onLoad()\">";innerHtml+="        <script type=\"text/javascript\">";innerHtml+="            function onLoad(){";innerHtml+="                if(!document.printMethod){";innerHtml+="                    setTimeout(onLoad, 100);";innerHtml+="                    return;";innerHtml+="                 }";innerHtml+="                 document.printTask.iframeWindow = window;";innerHtml+="                 document.printMethod(null)";innerHtml+="            }";innerHtml+="            function createThumbnail(imageHandlerUrl, parentDiv) {";innerHtml+="                return $create(ImageGear.Web.UI.ThumbnailView,";innerHtml+="                    { imageHandlerUrl: imageHandlerUrl, selected: false }, null, null, parentDiv);";innerHtml+="            }";innerHtml+="        </script>";innerHtml+="    </body>";innerHtml+="</html>";writeContext=(printOptions.printFrame.contentWindow||printOptions.printFrame.contentDocument);writeContext.document.open();writeContext.document.write(innerHtml);writeContext.document.close();writeContext.document.printTask=printOptions;printOptions.printedPageCount=0;pageOpenFailedHandler=function(eventArgs){writeContext.document.printMethod(eventArgs.error);};artPageOpenFailedHandler=function(eventArgs){if(typeof(printOptions.callback)=="function"){var arguments={};arguments.documentIdentifier=printOptions.documentIdentifier;arguments.pageArray=printOptions.pageArray;arguments.canceled=false;arguments.error=eventArgs.error;arguments.printingPageIndex=printOptions.printedPageCount;printOptions.callback(arguments);if(arguments.canceled){document.body.removeChild(printOptions.printFrame);return;}}};writeContext.document.printMethod=function(error){function processCallback(error){if(typeof(printOptions.callback)=="function"){var arguments={};arguments.documentIdentifier=printOptions.documentIdentifier;arguments.pageArray=printOptions.pageArray;arguments.canceled=false;arguments.error=error;arguments.printingPageIndex=printOptions.printedPageCount;printOptions.callback(arguments);if(arguments.canceled){document.body.removeChild(printOptions.printFrame);return false;}return true;}return true;};if(printOptions.printedPageCount<printOptions.pageArray.length){if(!processCallback(null))return;var newDiv=writeContext.document.createElement("div");var divId="thumbnailView"+printOptions.printedPageCount;newDiv.setAttribute("id",divId);newDiv.setAttribute("style","width:800px; height:990px; border:0px;");writeContext.document.body.appendChild(newDiv);if(printOptions.printedPageCount+1<printOptions.pageArray.length){newDiv.setAttribute("class","tnDiv");var brElement=writeContext.document.createElement("br");writeContext.document.body.appendChild(brElement);}var Ph=printOptions.includeAnnotations?ImageGear.Web.UI.ImGearArtDataServices.ArtDataService:ImageGear.Web.UI.ImGearArtDataServices.None;var pageNumberIndex=printOptions.printedPageCount;if(window.Sys.Component){var thumbnailView=printOptions.iframeWindow["createThumbnail"](printOptions.imageHandlerUrl,newDiv);thumbnailView.add_pageOpened(writeContext.document.printMethod);thumbnailView.add_pageOpenFailed(pageOpenFailedHandler);thumbnailView.add_artPageOpenFailed(artPageOpenFailedHandler);setTimeout(function(){thumbnailView.openPage({documentIdentifier:printOptions.documentIdentifier,pageNumber:printOptions.pageArray[pageNumberIndex],artServiceOption:Ph});},100);}else{var element=printOptions.iframeWindow.$("#thumbnailView"+printOptions.printedPageCount);element.ImGearThumbnailViewPlugin({imageHandlerUrl:printOptions.imageHandlerUrl,resourcePath:printOptions.resourcePath,artServiceOption:Ph});element.ImGearThumbnailViewPlugin().add_pageOpened(writeContext.document.printMethod);element.ImGearThumbnailViewPlugin().add_pageOpenFailed(pageOpenFailedHandler);element.ImGearThumbnailViewPlugin().add_artPageOpenFailed(artPageOpenFailedHandler);setTimeout(function(){element.ImGearThumbnailViewPlugin().openPage({documentIdentifier:printOptions.documentIdentifier,pageNumber:printOptions.pageArray[pageNumberIndex],artServiceOption:Ph});},100);}printOptions.printedPageCount++;}else{if(!processCallback(null))return;printFrame();}};function printFrame(){if(ImageGear.cg.agent==ImageGear.cg.InternetExplorer){setTimeout(function(){var frame=window.frames[iframeIdentifier];frame.focus();frame.print();setTimeout(function(){document.body.removeChild(printOptions.printFrame);},300000);},500);}else{setTimeout(function(){var frame=document.getElementById("i_hope_that_there_is_not_such_id");frame.contentWindow.print();setTimeout(function(){document.body.removeChild(printOptions.printFrame);},300000);},500);}}};this.QU=function(printOptions){if(typeof(printOptions.imageHandlerUrl)!="string"){printOptions.imageHandlerUrl=this.get_imageHandlerUrl();if(typeof(printOptions.imageHandlerUrl)!="string")return;}var docId=this.iQ();if(docId&&""!=docId)printOptions.documentIdentifier=docId;else return;var blockDiv=document.createElement("div");var style="position:absolute;";style+="display:block;";style+="top:0;";style+="left:0;";style+="background-color:rgba(50,50,50,0.6);";style+="height:100%;";style+="width:100%;";style+="z-index:10;";blockDiv.setAttribute("style",style);document.body.appendChild(blockDiv);var rootDiv=document.createElement("div");style="position:absolute;";style+="left:30%;";style+="top:20%;";style+="display:block;";style+="height: 200px;";style+="width: 300px;";style+="border:2px solid #000;";style+="border-radius: 8px;";style+="background:#707070; ";style+="z-index:50;";style+="font-family: arial, Helvetica, sans-serif;";style+="font-size:small;";rootDiv.setAttribute("style",style);var titleDiv=document.createElement("div");style="background:#fff;";style+="height:30px;";style+="margin: 5px;";style+="padding: 1px;";style+="border-radius: 5px;";style+="text-align: left;";style+="text-indent: 10px;";style+="line-height:230%;";style+="font-size:14px;";style+="font-family: arial, Helvetica, sans-serif;";titleDiv.setAttribute("style",style);var titleElement=document.createElement("b");titleElement.appendChild(document.createTextNode("Print Pages"));titleDiv.appendChild(titleElement);var contentDiv=document.createElement("div");style="background:#fff;";style+="margin:5px;";style+="padding:1px;";style+="border-radius: 6px;";style+="text-align:center;";style+="vertical-align:middle;";style+="height:150px;";style+="font-size:13px;";contentDiv.setAttribute("style",style);var mainTable=document.createElement("table");mainTable.setAttribute("border","0");mainTable.setAttribute("width","100%");mainTable.setAttribute("height","100%");mainTable.setAttribute("cellspacing","0");contentDiv.appendChild(mainTable);var firstRow=document.createElement("tr");firstRow.setAttribute("width","100%");mainTable.appendChild(firstRow);var secondRow=document.createElement("tr");secondRow.setAttribute("width","100%");mainTable.appendChild(secondRow);var firstRowCell=document.createElement("td");firstRowCell.setAttribute("height","65%");firstRow.appendChild(firstRowCell);var secondRowCell=document.createElement("td");secondRowCell.setAttribute("height","35%");secondRowCell.setAttribute("style","text-align:right; padding-right:14px");secondRow.appendChild(secondRowCell);style="background:#c0c0c0;";style+="text-align:center;";style+="width:90px;";style+="height:30px;";var printButton=document.createElement("input");printButton.setAttribute("type","button");printButton.setAttribute("value","Print");printButton.setAttribute("style",style);var cancelButton=document.createElement("input");cancelButton.setAttribute("type","button");cancelButton.setAttribute("value","Cancel");cancelButton.setAttribute("style",style);secondRowCell.appendChild(printButton);secondRowCell.appendChild(document.createTextNode("   "));secondRowCell.appendChild(cancelButton);var controlTable=document.createElement("table");controlTable.setAttribute("width","100%");controlTable.setAttribute("height","100%");firstRowCell.appendChild(controlTable);var firstControlRow=document.createElement("tr");controlTable.appendChild(firstControlRow);var radioAllCell=document.createElement("td");radioAllCell.setAttribute("width","35%");radioAllCell.setAttribute("align","left");firstControlRow.appendChild(radioAllCell);var radioAll=document.createElement("input");radioAll.setAttribute("type","radio");radioAll.setAttribute("name","pageFilter");radioAllCell.appendChild(radioAll);radioAllCell.appendChild(document.createTextNode("All"));var checkIncludeAnnotationsCell=document.createElement("td");checkIncludeAnnotationsCell.setAttribute("width","65%");checkIncludeAnnotationsCell.setAttribute("align","left");checkIncludeAnnotationsCell.setAttribute("rowspan","2");firstControlRow.appendChild(checkIncludeAnnotationsCell);var secondControlRow=document.createElement("tr");controlTable.appendChild(secondControlRow);var radioCurrentCell=document.createElement("td");radioCurrentCell.setAttribute("width","35%");radioCurrentCell.setAttribute("align","left");secondControlRow.appendChild(radioCurrentCell);var radioCurrent=document.createElement("input");radioCurrent.setAttribute("type","radio");radioCurrent.setAttribute("name","pageFilter");radioCurrentCell.appendChild(radioCurrent);radioCurrentCell.appendChild(document.createTextNode("Current"));var thirdControlRow=document.createElement("tr");controlTable.appendChild(thirdControlRow);var radioFilterCell=document.createElement("td");radioFilterCell.setAttribute("width","35%");radioFilterCell.setAttribute("align","left");thirdControlRow.appendChild(radioFilterCell);var radioFilter=document.createElement("input");radioFilter.setAttribute("type","radio");radioFilter.setAttribute("name","pageFilter");radioFilterCell.appendChild(radioFilter);radioFilterCell.appendChild(document.createTextNode("Pages:"));var textFilterCell=document.createElement("td");textFilterCell.setAttribute("width","65%");textFilterCell.setAttribute("align","left");thirdControlRow.appendChild(textFilterCell);var textFilter=document.createElement("input");textFilter.setAttribute("type","text");textFilter.setAttribute("size","23");textFilterCell.appendChild(textFilter);rootDiv.appendChild(titleDiv);rootDiv.appendChild(contentDiv);document.body.appendChild(rootDiv);var documentPageCount=this.uH();var selectedPageNumber=this.jf();textFilter.disabled=true;if(typeof(printOptions.pageNumber)=="number"){if(selectedPageNumber==printOptions.pageNumber)radioCurrent.checked=true;else{radioFilter.checked=true;textFilter.disabled=false;textFilter.value=printOptions.pageNumber;}}else if(typeof(printOptions.pageArray)=="object"&&(printOptions.pageArray instanceof Array)&&printOptions.pageArray.length>0){printOptions.pageArray.sort(function(a,b){return a-b;});for(var i=1;i<printOptions.pageArray.length;i++){if(printOptions.pageArray[i-1]==printOptions.pageArray[i]){printOptions.pageArray.splice(i,1);}}for(i=0;i<printOptions.pageArray.length;i++)if(printOptions.pageArray[i]>=documentPageCount)break;if(i<printOptions.pageArray.length)printOptions.pageArray.splice(i,printOptions.pageArray.length-i);if(printOptions.pageArray.length==documentPageCount){if(printOptions.pageArray.length==1)textFilter.value="1";else if(printOptions.pageArray.length==2)textFilter.value="1, 2";else textFilter.value="1-"+printOptions.pageArray.length.toString();radioAll.checked=true;}else if(printOptions.pageArray.length==1){if(printOptions.pageArray[0]==selectedPageNumber)radioCurrent.checked=true;else{textFilter.value=printOptions.pageArray[0].toString();radioFilter.checked=true;textFilter.disabled=false;}}else{var textFilterValue=(printOptions.pageArray[0]+1).toString();var isSequenceExpected=false,isSequenceConformed;for(i=1;i<printOptions.pageArray.length;i++){var prevValue=printOptions.pageArray[i-1];var currValue=printOptions.pageArray[i];if(currValue-prevValue==1){if(!isSequenceExpected){if(i+1==printOptions.pageArray.length)textFilterValue+=", "+(currValue+1);else isSequenceExpected=true;}else{if(!isSequenceConformed){if(i+1==printOptions.pageArray.length)textFilterValue+="-"+(currValue+1);else{isSequenceConformed=true;textFilterValue+="-";}}else if(i+1==printOptions.pageArray.length)textFilterValue+=(currValue+1);}}else{if(isSequenceExpected){if(isSequenceConformed){textFilterValue+=(prevValue+1)+", "+(currValue+1);isSequenceConformed=false;isSequenceExpected=false;}else{textFilterValue+=", "+(prevValue+1)+", "+(currValue+1);isSequenceExpected=false;}}else textFilterValue+=", "+(currValue+1);}}textFilter.value=textFilterValue;radioFilter.checked=true;textFilter.disabled=false;}}else{radioAll.checked=true;}cancelButton.onclick=function(){document.body.removeChild(blockDiv);document.body.removeChild(rootDiv);};printButton.onclick=function(){var pageArray=[];if(radioAll.checked){for(i=0;i<documentPageCount;i++)pageArray.push(i);}else if(radioCurrent.checked)pageArray.push(selectedPageNumber);else{pageArray=bG.OH(textFilter.value);for(var i=pageArray.length-1;i>=0;i--)pageArray[i]=pageArray[i]-1;if(pageArray.length>0&&pageArray[0]<0)pageArray.splice(0,1);for(i=0;i<pageArray.length;i++)if(pageArray[i]>documentPageCount)break;pageArray.splice(i,pageArray.length-i);}printOptions.includeAnnotations=false;printOptions.pageArray=pageArray;printOptions.pageNumber=undefined;document.body.removeChild(rootDiv);var progressMainDiv=document.createElement("div");style="position:absolute;";style+="display:block;";style+="left:35%;";style+="top:25%;";style+="width:300px;";style+="height:180px;";style+="border-radius:8px;";style+="border:2px solid #000;";style+="background:#707070;";style+="font-size:13px;";style+="font-family: arial, Helvetica, sans-serif;";style+="z-index:50;";progressMainDiv.setAttribute("style",style);titleDiv=document.createElement("div");style="background:#fff;";style+="margin:5px;";style+="height:30px;";style+="padding:1px;";style+="border-radius: 5px;";style+="text-align:left;";style+="text-indent: 10px;";style+="line-height:150%;";style+="font-size:14px;";style+="font-family: arial, Helvetica, sans-serif;";titleDiv.setAttribute("style",style);progressMainDiv.appendChild(titleDiv);var titleElement=document.createElement("b");titleElement.appendChild(document.createTextNode("Print Progress"));titleDiv.appendChild(titleElement);contentDiv=document.createElement("div");contentDiv.setAttribute("style","background:#fff; margin:5px; padding:1px; border-radius: 6px; text-align:center; height:130px; text-indent: 10px;");progressMainDiv.appendChild(contentDiv);var progressTextDiv=document.createElement("div");progressTextDiv.setAttribute("style","margin:10px");progressTextDiv.appendChild(document.createTextNode("Printing page 1"));contentDiv.appendChild(progressTextDiv);var progressBarDiv=document.createElement("div");progressBarDiv.setAttribute("style","position:absolute; left:20px; width:255px; border:1px solid #333; padding:2px; margin: 0px;");contentDiv.appendChild(progressBarDiv);var progressDiv=document.createElement("div");progressDiv.setAttribute("style","background:#00ff00; width:0%; height:20px;");progressBarDiv.appendChild(progressDiv);var percentDiv=document.createElement("div");percentDiv.setAttribute("style","position:absolute; display:inline-block; left:48%; top:2px");percentDiv.appendChild(document.createTextNode("0%"));progressBarDiv.appendChild(percentDiv);cancelButton=document.createElement("input");cancelButton.setAttribute("type","button");cancelButton.setAttribute("value","Cancel");cancelButton.setAttribute("style","position:absolute; background:#c0c0c0; text-align:center; width:100px; height:30px; left:100px; top:130px;");contentDiv.appendChild(cancelButton);var cancelPressed=false;cancelButton.onclick=function(){cancelPressed=true;};document.body.appendChild(progressMainDiv);printOptions.callback=function(arguments){arguments.canceled=cancelPressed;if(arguments.printingPageIndex>=printOptions.pageArray.length||cancelPressed){document.body.removeChild(progressMainDiv);document.body.removeChild(blockDiv);}else{if(arguments.error)progressTextDiv.innerHTML="Error of page "+arguments.pageArray[arguments.printingPageIndex]+" printing.";else progressTextDiv.innerHTML="Printing page "+arguments.pageArray[arguments.printingPageIndex]+" of "+arguments.pageArray.length;var percent=Math.round(arguments.printingPageIndex*100/arguments.pageArray.length);progressDiv.style.width=percent.toString()+"%";percentDiv.innerHTML=percent.toString()+"%";}};bG.print(printOptions);};radioFilter.onchange=function(){textFilter.disabled= !(radioFilter.checked);};radioAll.onchange=function(){textFilter.disabled= !(radioFilter.checked);};radioCurrent.onchange=function(){textFilter.disabled= !(radioFilter.checked);}};this.Qg=function(){return J?J.Qg():null;};this.Qm=function(NQ){if(J)J.Qm(NQ);};J=new ImageGear.vs();J.wg('PageView');};ImageGear.Web.UI.PageView.prototype={dispose:function(){this.ag('dispose',arguments);this.ky();if(window.Sys.Component){ImageGear.Web.UI.PageView.callBaseMethod(this,'dispose');}},get_debug:function(){try{var T=this.js();this.bh('get_debug',arguments,T);return T;}catch(e){this.F('get_debug',e);throw e;}},set_debug:function(value){try{this.ag('set_debug',arguments);var gN=this.js();this.ow(value);if(!gN){this.ag('set_debug',arguments);}}catch(e){this.F('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var T=this.fZ();this.bh('get_debugErrorLevel',arguments,T);return T;}catch(e){this.F('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ag('set_debugErrorLevel',arguments);var gN=this.fZ();this.ks(value);if(gN<ImageGear.Web.UI.DebugErrorLevel.Development){this.ag('set_debugErrorLevel',arguments);}}catch(e){this.F('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var T=this.kB();this.bh('get_artServiceOption',arguments,T);return T;}catch(e){this.F('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.ag('set_artServiceOption',arguments);this.kY(value);}catch(e){this.F('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.uk(handler);}catch(e){this.F('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.tn(handler);}catch(e){this.F('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.ud(handler);}catch(e){this.F('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.uq(handler);}catch(e){this.F('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.um(handler);}catch(e){this.F('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.uy(handler);}catch(e){this.F('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Be(handler);}catch(e){this.F('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Kg(handler);}catch(e){this.F('remove_pageOpenFailed',e);throw e;}},add_artPageOpenFailed:function(handler){try{this.Ps(handler);}catch(e){this.F('add_artPageOpenFailed',e);throw e;}},remove_artPageOpenFailed:function(handler){try{this.Ow(handler);}catch(e){this.F('remove_artPageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.OI(handler);}catch(e){this.F('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.PR(handler);}catch(e){this.F('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.qt(handler);}catch(e){this.F('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.qK(handler);}catch(e){this.F('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.qb(handler);}catch(e){this.F('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.qI(handler);}catch(e){this.F('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.qP(handler);}catch(e){this.F('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.pv(handler);}catch(e){this.F('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.uV(handler);}catch(e){this.F('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.ti(handler);}catch(e){this.F('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.lJ(handler);}catch(e){this.F('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.lM(handler);}catch(e){this.F('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.AY(handler);}catch(e){this.F('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Fy(handler);}catch(e){this.F('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.qo(handler);}catch(e){this.F('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.sN(handler);}catch(e){this.F('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.mE(handler);}catch(e){this.F('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.me(handler);}catch(e){this.F('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.sY(handler);}catch(e){this.F('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.qr(handler);}catch(e){this.F('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.rf(handler);}catch(e){this.F('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.qm(handler);}catch(e){this.F('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.pL(handler);}catch(e){this.F('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.re(handler);}catch(e){this.F('remove_markSelectionChanged',e);throw e;}},writeToLog:function(message){try{this.fe(message);}catch(e){this.F('writeToLog',e);throw e;}},fitPage:function(type){try{this.ag('fitPage',arguments);this.Ap(type);}catch(e){this.F('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var T=this.Bc();this.bh('get_pageIsOpen',arguments,T);return T;}catch(e){this.F('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var T=this.Cw();this.bh('get_pageWidth',arguments,T);return T;}catch(e){this.F('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var T=this.Bn();this.bh('get_pageHeight',arguments,T);return T;}catch(e){this.F('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var T=this.Co();this.bh('get_pageXResolution',arguments,T);return T;}catch(e){this.F('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var T=this.Cs();this.bh('get_pageYResolution',arguments,T);return T;}catch(e){this.F('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var T=this.iQ();this.bh('get_documentIdentifier',arguments,T);return T;}catch(e){this.F('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var T=this.lu();this.bh('get_encodedDocumentIdentifier',arguments,T);return T;}catch(e){this.F('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var T=this.jf();this.bh('get_pageNumber',arguments,T);return T;}catch(e){this.F('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var T=this.uH();this.bh('get_documentPageCount',arguments,T);return T;}catch(e){this.F('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var T=this.yJ();this.bh('get_displayedPageRectangle',arguments,T);return T;}catch(e){this.F('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var T=this.kH();this.bh('get_currentState',arguments,T);return T;}catch(e){this.F('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.ag('zoomIn',arguments);this.Gy(factor);}catch(e){this.F('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ag('zoomOut',arguments);this.GG(factor);}catch(e){this.F('zoomOut',e);throw e;}},rotate:function(degreesClockwise){try{this.ag('rotate',arguments);this.wD(degreesClockwise);}catch(e){this.F('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.ag('showPageRectangle',arguments,1);this.Cy(imageRectangle);}catch(e){this.F('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.ag('showPagePointAtCenter',arguments,1);this.BW(imagePoint);}catch(e){this.F('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.ag('mirror',arguments);this.zX();}catch(e){this.F('mirror',e);throw e;}},flip:function(){try{this.ag('flip',arguments);this.zI();}catch(e){this.F('flip',e);throw e;}},display:function(){try{this.ag('display',arguments);this.cD();}catch(e){this.F('display',e);throw e;}},openPage:function(parameters){try{this.ag('openPage',arguments,1);this.rY(parameters);}catch(e){this.F('openPage',e);throw e;}},closePage:function(){try{this.ag('closePage',arguments);this.ky();}catch(e){this.F('closePage',e);throw e;}},hideSelection:function(){try{this.ag('hideSelection',arguments);this.hq();}catch(e){this.F('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.ag('showSelection',arguments);this.Bg(imageRectangle);}catch(e){this.F('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.ag('showEmptySelection',arguments);this.lU(imagePoint);}catch(e){this.F('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.ag('extendSelection',arguments);this.jQ(imagePoint);}catch(e){this.F('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.ag('saveArtPage',arguments);this.nr(onSave);}catch(e){this.F('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var T=this.ip();this.bh('get_selectionPageRectangle',arguments,T);return T;}catch(e){this.F('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var T=this.Bq();this.bh('get_selectionWindowRectangle',arguments,T);return T;}catch(e){this.F('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var T=this.kF();this.bh('get_selectionIsVisible',arguments,T);return T;}catch(e){this.F('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var T=this.oa();this.bh('get_controlStateElementId',arguments,T);return T;}catch(e){this.F('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.ag('set_controlStateElementId',arguments);this.oK(value);}catch(e){this.F('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var T=this.tC();this.bh('get_includeArtInPostBack',arguments,T);return T;}catch(e){this.F('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.ag('set_includeArtInPostBack',arguments);this.va(value);}catch(e){this.F('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var T=this.as();this.bh('get_artPage',arguments,T);return T;}catch(e){this.F('get_artPage',e);throw e;}},set_artPage:function(value){try{this.ag('set_artPage',arguments);this.fr(value);}catch(e){this.F('set_artPage',e);throw e;}},get_imageHandlerUrl:function(){try{var T=this.gs();this.bh('get_imageHandlerUrl',arguments,T);return T;}catch(e){this.F('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.ag('set_imageHandlerUrl',arguments);this.nc(value);}catch(e){this.F('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var T=this.eh();this.bh('get_resourcePath',arguments,T);return T;}catch(e){this.F('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.ag('set_resourcePath',arguments);this.iu(h);}catch(e){this.F('set_resourcePath',e);throw e;}},get_magnifierMagnification:function(){try{var T=this.BF();this.bh('get_magnifierMagnification',arguments,T);return T;}catch(e){this.F('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.ag('set_magnifierMagnification',arguments);this.HV(value);}catch(e){this.F('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var T=this.Bf();this.bh('get_magnifierWidth',arguments,T);return T;}catch(e){this.F('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.ag('set_magnifierWidth',arguments);this.Is(value);}catch(e){this.F('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var T=this.Cb();this.bh('get_magnifierHeight',arguments,T);return T;}catch(e){this.F('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.ag('set_magnifierHeight',arguments);this.HB(value);}catch(e){this.F('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var T=this.te();this.bh('get_magnifierXOffset',arguments,T);return T;}catch(e){this.F('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.ag('set_magnifierXOffset',arguments);this.ur(value);}catch(e){this.F('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var T=this.sx();this.bh('get_magnifierYOffset',arguments,T);return T;}catch(e){this.F('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.ag('set_magnifierYOffset',arguments);this.tX(value);}catch(e){this.F('set_magnifierYOffset',e);throw e;}},get_markHandleSize:function(){try{var T=this.tc();this.bh('get_markHandleSize',arguments,T);return T;}catch(e){this.F('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.ag('set_markHandleSize',arguments);this.ug(value);}catch(e){this.F('set_markHandleSize',e);throw e;}},get_mouseTool:function(){try{var T=this.CL();this.bh('get_mouseTool',arguments,T);return T;}catch(e){this.F('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ag('set_mouseTool',arguments);this.uh(value);}catch(e){this.F('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var T=this.BY();this.bh('get_presentationQuality',arguments,T);return T;}catch(e){this.F('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.ag('set_presentationQuality',arguments);this.Hh(value);}catch(e){this.F('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var T=this.Bp();this.bh('get_scrollBars',arguments,T);return T;}catch(e){this.F('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.ag('set_scrollBars',arguments);this.HY(value);}catch(e){this.F('set_scrollBars',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var T=this.CC(imagePoint,constrainResultToWindow);this.qB('transformPagePointToWindow',arguments,T,1);return T;}catch(e){this.F('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var T=this.CW(windowPoint,constrainResultToImage);this.qB('transformWindowPointToPage',arguments,T,1);return T;}catch(e){this.F('transformWindowPointToPage',e);throw e;}},showContextMenu:function(){try{this.set_contextMenuVisibility(true);}catch(e){this.F('showContextMenu',e);throw e;}},hideContextMenu:function(){try{this.set_contextMenuVisibility(false);}catch(e){this.F('hideContextMenu',e);throw e;}},print:function(printOptions){try{this.Sa(printOptions);}catch(e){this.F('print',e);throw e;}},showPrintDialog:function(printOptions){try{this.QU(printOptions);}catch(e){this.F('showPrintDialog',e);throw e;}},get_vectorFormatsRendering:function(){try{return this.Qg();}catch(e){this.F('get_vectorFormatsRendering',e);throw e;}},set_vectorFormatsRendering:function(newValue){try{this.Qm(newValue);}catch(e){this.F('set_vectorFormatsRendering',e);throw e;}}};if(!window.Sys.Component){ImageGear.Web.UI.PageView.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.PageView.registerClass('ImageGear.Web.UI.PageView',Sys.UI.Control);ImageGear.Web.UI.ThumbnailView=function(element){if(window.Sys.Component){ImageGear.Web.UI.ThumbnailView.initializeBase(this,[element]);}var bG=this;var aR;var J;var jd=0;var ev='';var iV=false;var mf='';var fm=null;var qx=null;var gw=false;var aP=new ImageGear.Web.UI.fh();function cO(jS){if(!J){return false;}return J.cO(jS);};this.F=function(dw,fS){if(cO(ImageGear.Web.UI.DebugErrorLevel.Production)){J.logException(dw,fS);}};this.ag=function(dw,dq,eL){if(!cO(ImageGear.Web.UI.DebugErrorLevel.Development)){return;}var ad=dw+'(';var k;for(k=0;k<dq.length;k++){if(k>0){ad+=', ';}ad+=ImageGear.ds.fE(dq[k],(eL?eL:0));}ad+=')';this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Development);};this.qB=function(dw,dq,ga,eL){if(!cO(ImageGear.Web.UI.DebugErrorLevel.Development)){return;}var ad=dw+'(';var k;for(k=0;k<dq.length;k++){if(k>0){ad+=', ';}ad+=ImageGear.ds.fE(dq[k],(eL?eL:0));}ad+=') = ';ad+=ImageGear.ds.fE(ga,1);this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Development);};this.bh=function(dw,dq,ga){if(!cO(ImageGear.Web.UI.DebugErrorLevel.Detailed)){return;}var ad=dw+'(';var k;for(k=0;k<dq.length;k++){if(k>0){ad+=', ';}ad+=ImageGear.ds.fE(dq[k],0);}ad+=') = ';ad+=ImageGear.ds.fE(ga,1);this.gE(ad,ImageGear.Web.UI.DebugErrorLevel.Detailed);};this.gE=function(cZ,bA){if(J){J.fe(cZ,ImageGear.Web.UI.DebugItemCause.FunctionCall,bA);}};this.fe=function(cZ){if(J){J.fe(cZ,ImageGear.Web.UI.DebugItemCause.Custom,ImageGear.Web.UI.DebugErrorLevel.Production);}};this.js=function(){return J.get_debug();};this.ow=function(h){J.set_debug(h);};this.fZ=function(){return J.fZ();};this.ks=function(h){ImageGear.bO.cX(h,'value',ImageGear.Web.UI.DebugErrorLevel);J.ks(h);};function ao(al,O){aP.addHandler(al,O);};function ax(al,O){aP.removeHandler(al,O);};this.uk=function(O){ao('pageOpening',O);};this.tn=function(O){ax('pageOpening',O);};this.ud=function(O){ao('pageOpened',O);};this.uq=function(O){ax('pageOpened',O);};this.um=function(O){ao('pageClosed',O);};this.Be=function(O){ao('pageOpenFailed',O);};this.Kg=function(O){ax('pageOpenFailed',O);};this.Ps=function(O){ao('artPageOpenFailed',O);};this.Ow=function(O){ax('artPageOpenFailed',O);};this.OI=function(O){ao('pageDisplayed',O);};this.PR=function(O){ax('pageDisplayed',O);};this.uy=function(O){ax('pageClosed',O);};this.qt=function(O){ao('mouseDown',O);};this.qK=function(O){ax('mouseDown',O);};this.qb=function(O){ao('mouseMove',O);};this.qI=function(O){ax('mouseMove',O);};this.qP=function(O){ao('mouseUp',O);};this.pv=function(O){ax('mouseUp',O);};this.uV=function(O){ao('contextMenu',O);};this.ti=function(O){ax('contextMenu',O);};this.lJ=function(O){ao('markAdded',O);};this.lM=function(O){ax('markAdded',O);};this.qo=function(O){ao('markChanged',O);};this.sN=function(O){ax('markChanged',O);};this.mE=function(O){ao('markRemoved',O);};this.me=function(O){ax('markRemoved',O);};this.sY=function(O){ao('markReordered',O);};this.qr=function(O){ax('markReordered',O);};this.rf=function(O){ao('marksLoaded',O);};this.qm=function(O){ax('marksLoaded',O);};this.CO=function(O){ao('marksSaved',O);};this.Fg=function(O){ax('marksSaved',O);};this.pL=function(O){ao('markSelectionChanged',O);};this.re=function(O){ax('markSelectionChanged',O);};if(!window.Sys.Component){this.raisePropertyChanged=function(bK){if(J){J.ac(bK);}};}var bv=function(al,C){try{var O;O=aP.getHandler(al);if(O){O(bG,C);}}catch(e){bG.F(al+'Event',e);}};var fQ=function(al){function eU(aW,C){bv(al,C);};J['add_'+al](eU);};var ph=function(al){function eU(aW,C){if(J.mk()){hG();}};J['add_'+al](eU);};function hG(){var gj,dA,cW;if(ev!==''){gj=document.getElementById(ev);if(gj){dA=bG.kH();cW='{encodedDocumentIdentifier:"'+dA.encodedDocumentIdentifier;cW+='",pageNumber:'+dA.pageNumber.toString();cW+=',selected:'+gw.toString();if(iV){var an=J.as();if(an){cW+=',artPageJson:"'+ImageGear.dK.lP(an.saveToJson())+'"';}}cW+='}';gj.value=cW;}}};var vg=function(){function eU(aW,C){var kZ=true;switch(C.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':hG();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'kf':case 'iP':kZ=false;break;case 'mt':if(J.mk()){hG();}kZ=false;break;}if(kZ){bv('propertyChanged',C);}};J.eo(eU);};this.iQ=function(){if(!J|| !(J.aQ())){return '';}return J.aQ().get_identifier();};this.lu=function(){if(!J|| !(J.aQ())){return '';}return J.aQ().get_encodedIdentifier();};this.jf=function(){if(!J|| !(J.aQ())){return-1;}return J.aQ().eQ;};this.uH=function(){if(!J|| !(J.aQ())){return 0;}return J.aQ().dY;};function na(){var ab={};ab.documentIdentifier=bG.iQ();ab.encodedDocumentIdentifier=bG.lu();ab.pageNumber=bG.jf();ab.referenceDocumentIdentifier=bG.iQ();ab.referencePageNumber=bG.jf();ab.selected=bG.sV();ab.artPage=bG.as();return ab;};this.kH=function(){var ab;if(aR){ab=new ImageGear.Web.UI.ThumbnailViewState();ab.documentIdentifier=aR.documentIdentifier;ab.encodedDocumentIdentifier=aR.encodedDocumentIdentifier;ab.pageNumber=aR.pageNumber;ab.referenceDocumentIdentifier=aR.documentIdentifier;ab.referencePageNumber=aR.pageNumber;ab.selected=aR.selected;ab.artPage=aR.artPage;}else{ab=na();}return ab;};var uj=function(){var aa=J.bM();var bb=J.aQ();var K=J.bd();var aK=aa.cv();aK.xS(bb,K);aK.wL(bb,K);aK.cN(bb,K);aa.fz(aK);};this.cD=function(){J.cD();};function Aw(){if(qx){qx.remove_pageOpened(xz);qx=null;}};function xz(sender,eventArgs){var aR=bG.kH();if(eventArgs.documentIdentifier!==aR.documentIdentifier||eventArgs.pageNumber!==aR.pageNumber){Aw();bG.rQ(false);}};function tN(){if(!mf){return;}if(!fm){if(window.Sys.Component){fm=document.getElementById(mf).dN;}else{fm=document.getElementById(mf).dN;}}if(!fm){return;}Aw();fm.add_pageOpened(xz);qx=fm;var aR=bG.kH();if(aR.encodedDocumentIdentifier!==''){fm.openPage({encodedDocumentIdentifier:aR.encodedDocumentIdentifier,pageNumber:aR.pageNumber,viewFitType:ImageGear.Web.UI.FitType.FullImage,artPage:aR.artPage});}};this.rY=function(ak){jd++;var wx=jd;var vD;ImageGear.dK.za(ak);aR=new ImageGear.Web.UI.ThumbnailViewState();var k;for(k in ak){if(ak.hasOwnProperty(k)){aR[k]=ak[k];}}if(ak.documentIdentifier===''){this.ky();return;}if(ak.isImageSVGType){J.OU(true);}if(ImageGear.Web.UI.ArtPage){if(aR){if(!aR.artPage){var an=new ImageGear.Web.UI.ArtPage();if(aR.artPageJson){an.loadFromJson(aR.artPageJson);}aR.artPage=an;}}}bv('pageOpening',ak);if(gw){tN();}var bk=new ImageGear.dK(ak.encodedDocumentIdentifier,ak.pageNumber,0,0,0,0);function BP(){uj();if(ak.selected!==undefined){bG.set_selected(ak.selected);}aR=null;};var hx=function(){if(wx!==jd){return;}var jC=null;if(J.aQ()){jC=na();}if(ak.isImageSVGType){bk.lK=false;}J.pQ(bk);if(ak.artServiceOption===ImageGear.Web.UI.ImGearArtDataServices.ArtDataService){if(aR){if(aR.artPage){J.fr(aR.artPage);J.as().loadFromJson(bk.vn);}}}else{if(aR){if(aR.artPage){J.fr(aR.artPage);}}}BP();hG();if(jC){bv('pageClosed',jC);}hG();bv('pageOpened',ak);};if(ak.artServiceOption===ImageGear.Web.UI.ImGearArtDataServices.ArtDataService){if(aR){if(!aR.artPageJson){bk.As(J.gs(),J,hx,vD);}else{bk.sP(J.gs(),J,hx);}}}else{bk.sP(J.gs(),J,hx);if(ak.artPageError){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=new ImageGear.Web.UI.ImGearArgumentException(null,ak.artPageError==null?"ART page opening is failed.":ak.artPageError);bW.pageNumber=ak.pageNumber;bv('artPageOpenFailed',bW);}}};this.ky=function(){aR=null;J.pQ(undefined);bG.cD();hG();bv('pageClosed',{});};this.nr=function(kV){J.nr(kV);};this.fr=function(h){J.fr(h);};this.as=function(){return J.as();};this.iu=function(h){J.iu(h);};this.eh=function(){return J.eh();};this.kY=function(ka){J.kY(ka);};this.kB=function(){return J.kB();};this.sV=function(){return gw;};this.rQ=function(h){if(gw!==h){gw=h;hG();if(gw){tN();}this.raisePropertyChanged('selected');}};this.gs=function(){return J.gs();};this.nc=function(h){ImageGear.bO.iZ(h,'value');J.nc(h);};this.oa=function(){return ev;};this.oK=function(h){ImageGear.bO.iZ(h,'value');ev=h;};this.tC=function(){return iV;};this.va=function(h){iV=h;};this.Bx=function(){return mf;};this.Hn=function(h){if(mf!==h){mf=h;fm=null;this.raisePropertyChanged('pageViewClientID');}};this.PP=function(h){J.PP(h);};this.Pg=function(){return J.Pg();};this.Pm=function(h){J.Pm(h);};this.PG=function(){return J.PG();};var ht='';this.jE=function(h){J.jE(h);ht=h;};this.cb=function(){return ht;};function sc(aW,C){uj();};this.initialize=function(){var bp;if(window.Sys.Component){ImageGear.Web.UI.ThumbnailView.callBaseMethod(this,'initialize');J.pG(this.get_element().id);bp=this.get_element();bp.dN=this;}else{J.pG(this.cb().id);bp=this.cb();bp.dN=this;}var k;for(k=bp.childNodes.length-1;k>=0;k--){if(bp.childNodes[k].tagName!=='INPUT'){bp.removeChild(bp.childNodes[k]);}}J.xO();J.bM().set_cursor(ImageGear.au.None);J.bM().set_scrollBars(ImageGear.Web.UI.ScrollBars.None);J.bM().set_presentationQuality(100);fQ('mouseDown');fQ('mouseMove');fQ('mouseUp');fQ('pageOpenFailed');fQ('artPageOpenFailed');fQ('contextMenu');fQ('pageDisplayed');ph('markAdded');ph('markChanged');ph('markRemoved');ph('markReordered');ph('marksLoaded');vg();J.ze(sc);bp.dN=this;var ts=bp.dN;};J=new ImageGear.vs();J.wg('ThumbnailView');};ImageGear.Web.UI.ThumbnailView.prototype={dispose:function(){this.ag('dispose',arguments);this.ky();if(window.Sys.Component){ImageGear.Web.UI.ThumbnailView.callBaseMethod(this,'dispose');}},get_debug:function(){try{var T=this.js();this.bh('get_debug',arguments,T);return T;}catch(e){this.F('get_debug',e);throw e;}},set_debug:function(value){try{this.ag('set_debug',arguments);var gN=this.js();this.ow(value);if(!gN){this.ag('set_debug',arguments);}}catch(e){this.F('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var T=this.fZ();this.bh('get_debugErrorLevel',arguments,T);return T;}catch(e){this.F('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ag('set_debugErrorLevel',arguments);var gN=this.fZ();this.ks(value);if(gN<ImageGear.Web.UI.DebugErrorLevel.Development){this.ag('set_debugErrorLevel',arguments);}}catch(e){this.F('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var T=this.kB();this.bh('get_artServiceOption',arguments,T);return T;}catch(e){this.F('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.ag('set_artServiceOption',arguments);this.kY(value);}catch(e){this.F('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.uk(handler);}catch(e){this.F('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.tn(handler);}catch(e){this.F('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.ud(handler);}catch(e){this.F('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.uq(handler);}catch(e){this.F('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.um(handler);}catch(e){this.F('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.uy(handler);}catch(e){this.F('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Be(handler);}catch(e){this.F('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Kg(handler);}catch(e){this.F('remove_pageOpenFailed',e);throw e;}},add_artPageOpenFailed:function(handler){try{this.Ps(handler);}catch(e){this.F('add_artPageOpenFailed',e);throw e;}},remove_artPageOpenFailed:function(handler){try{this.Ow(handler);}catch(e){this.F('remove_artPageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.OI(handler);}catch(e){this.F('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.PR(handler);}catch(e){this.F('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.qt(handler);}catch(e){this.F('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.qK(handler);}catch(e){this.F('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.qb(handler);}catch(e){this.F('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.qI(handler);}catch(e){this.F('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.qP(handler);}catch(e){this.F('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.pv(handler);}catch(e){this.F('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.uV(handler);}catch(e){this.F('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.ti(handler);}catch(e){this.F('remove_contextMenu',e);throw e;}},writeToLog:function(message){try{this.fe(message);}catch(e){this.F('writeToLog',e);throw e;}},get_documentIdentifier:function(){try{var T=this.iQ();this.bh('get_documentIdentifier',arguments,T);return T;}catch(e){this.F('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var T=this.lu();this.bh('get_encodedDocumentIdentifier',arguments,T);return T;}catch(e){this.F('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var T=this.jf();this.bh('get_pageNumber',arguments,T);return T;}catch(e){this.F('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var T=this.uH();this.bh('get_documentPageCount',arguments,T);return T;}catch(e){this.F('get_documentPageCount',e);throw e;}},get_currentState:function(){try{var T=this.kH();this.bh('get_currentState',arguments,T);return T;}catch(e){this.F('get_currentState',e);throw e;}},openPage:function(parameters){try{this.ag('openPage',arguments,1);this.rY(parameters);}catch(e){this.F('openPage',e);throw e;}},closePage:function(){try{this.ag('closePage',arguments);this.ky();}catch(e){this.F('closePage',e);throw e;}},saveArtPage:function(onSave){try{this.ag('saveArtPage',arguments);this.nr(onSave);}catch(e){this.F('saveArtPage',e);throw e;}},display:function(){try{this.ag('display',arguments);this.cD();}catch(e){this.F('display',e);throw e;}},get_controlStateElementId:function(){try{var T=this.oa();this.bh('get_controlStateElementId',arguments,T);return T;}catch(e){this.F('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.ag('set_controlStateElementId',arguments);this.oK(value);}catch(e){this.F('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var T=this.tC();this.bh('get_includeArtInPostBack',arguments,T);return T;}catch(e){this.F('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.ag('set_includeArtInPostBack',arguments);this.va(value);}catch(e){this.F('set_includeArtInPostBack',e);throw e;}},get_pageViewClientID:function(){try{var T=this.Bx();this.bh('get_pageViewClientID',arguments,T);return T;}catch(e){this.F('get_pageViewClientID',e);throw e;}},set_pageViewClientID:function(value){try{this.ag('set_pageViewClientID',arguments);this.Hn(value);}catch(e){this.F('set_pageViewClientID',e);throw e;}},get_artPage:function(){try{var T=this.as();this.bh('get_artPage',arguments,T);return T;}catch(e){this.F('get_artPage',e);throw e;}},set_artPage:function(value){try{this.ag('set_artPage',arguments);this.fr(value);}catch(e){this.F('set_artPage',e);throw e;}},get_resourcePath:function(){try{var T=this.eh();this.bh('get_resourcePath',arguments,T);return T;}catch(e){this.F('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.ag('set_resourcePath',arguments);this.iu(h);}catch(e){this.F('set_resourcePath',e);throw e;}},get_imageHandlerUrl:function(){try{var T=this.gs();this.bh('get_imageHandlerUrl',arguments,T);return T;}catch(e){this.F('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.ag('set_imageHandlerUrl',arguments);this.nc(value);}catch(e){this.F('set_imageHandlerUrl',e);throw e;}},get_selected:function(){try{var T=this.sV();this.bh('get_selected',arguments,T);return T;}catch(e){this.F('get_selected',e);throw e;}},set_selected:function(value){try{this.ag('set_selected',arguments);this.rQ(value);}catch(e){this.F('set_selected',e);throw e;}}};if(!window.Sys.Component){ImageGear.Web.UI.ThumbnailView.registerClass=ImageGear.Web.regClass;}ImageGear.Web.UI.ThumbnailView.registerClass('ImageGear.Web.UI.ThumbnailView',Sys.UI.Control);ImageGear.ap=function(ct,dG,cj,dz,dn,cL){if(arguments.length===0){ct=dz=1;dG=cj=dn=cL=0;}this.xK=function(){return ct*dz-dG*cj;};this.Jj=function(){return ct===1&&dG===0&&cj===0&&dz===1&&dn===0&&cL===0;};this.iL=function(){return ct;};this.jm=function(){return dG;};this.jq=function(){return cj;};this.jc=function(){return dz;};this.kX=function(){return dn;};this.kG=function(){return cL;};this.append=function(aU){var oi=ct*aU.iL()+dG*aU.jq();var nC=ct*aU.jm()+dG*aU.jc();var pn=cj*aU.iL()+dz*aU.jq();var pf=cj*aU.jm()+dz*aU.jc();var oq=dn*aU.iL()+cL*aU.jq()+aU.kX();var nQ=dn*aU.jm()+cL*aU.jc()+aU.kG();ct=oi;dG=nC;cj=pn;dz=pf;dn=oq;cL=nQ;};this.equals=function(h){if(ct!==h.iL()){return false;}if(dG!==h.jm()){return false;}if(cj!==h.jq()){return false;}if(dz!==h.jc()){return false;}if(dn!==h.kX()){return false;}if(cL!==h.kG()){return false;}return true;};this.jH=function(){if(!this.yo()){throw new ImageGear.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var mL=this.xK();var oi=dz/mL;var nC= -dG/mL;var pn= -cj/mL;var pf=ct/mL;var oq=(cj*cL-dz*dn)/mL;var nQ=(dG*dn-ct*cL)/mL;ct=oi;dG=nC;cj=pn;dz=pf;dn=oq;cL=nQ;};this.kn=function(aU){var oi=aU.iL()*ct+aU.jm()*cj;var nC=aU.iL()*dG+aU.jm()*dz;var pn=aU.jq()*ct+aU.jc()*cj;var pf=aU.jq()*dG+aU.jc()*dz;var oq=aU.kX()*ct+aU.kG()*cj+dn;var nQ=aU.kX()*dG+aU.kG()*dz+cL;ct=oi;dG=nC;cj=pn;dz=pf;dn=oq;cL=nQ;};this.ku=function(hM,ix,eP,ek){dn-=eP;cL-=ek;this.scale(hM,ix);dn+=eP;cL+=ek;};this.GZ=function(){ct=dz=1;dG=cj=dn=cL=0;};this.transform=function(aw){var dX=aw.x*ct+aw.y*cj+dn;var eg=aw.y*dz+aw.x*dG+cL;return new ImageGear.Web.UI.Point(dX,eg);};this.eH=function(uI,uE){dn+=uI;cL+=uE;};this.BG=function(h){if(Math.abs(ct-h.iL())>1e-8){return false;}if(Math.abs(dG-h.jm())>1e-8){return false;}if(Math.abs(cj-h.jq())>1e-8){return false;}if(Math.abs(dz-h.jc())>1e-8){return false;}if(Math.abs(dn-h.kX())>1e-8){return false;}if(Math.abs(cL-h.kG())>1e-8){return false;}return true;};this.toString=function(){return '{'+ct.toFixed(6)+', '+dG.toFixed(6)+', '+cj.toFixed(6)+', '+dz.toFixed(6)+', '+dn.toFixed(3)+', '+cL.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new ImageGear.ap(ct,dG,cj,dz,dn,cL);};this.vq=function(mT){ct=mT.iL();dG=mT.jm();cj=mT.jq();dz=mT.jc();dn=mT.kX();cL=mT.kG();};this.xS=function(bb,K){ct=1;dz=K.eF*bb.dI/(bb.eF*K.dI);dG=cj=dn=cL=0;};this.wr=function(bB,bb,K){switch(bB){case ImageGear.Web.UI.FitType.FullImage:this.wL(bb,K);break;case ImageGear.Web.UI.FitType.FullWidth:this.vk(bb,K);break;case ImageGear.Web.UI.FitType.FullHeight:this.vZ(bb,K);break;case ImageGear.Web.UI.FitType.ActualSize:this.wQ(bb,K);break;case ImageGear.Web.UI.FitType.OneToOne:if(!(bb.lK)){this.wQ(bb,K);}else{this.Bk(bb,K);}break;}};this.vk=function(bb,K){var eA=this.gY(bb);var kT=K.width-2;if(kT<1){kT=1;}var aE=kT/eA.width;this.scale(aE,aE);eA=this.gY(bb);if(eA.y<0){this.eH(0,-eA.y);}};this.vZ=function(bb,K){var eA=this.gY(bb);var kT=K.height-2;if(kT<1){kT=1;}var aE=kT/eA.height;this.scale(aE,aE);eA=this.gY(bb);if(eA.x<0){this.eH(-eA.x,0);}};this.wL=function(bb,K){var qH=this.clone();qH.vk(bb,K);this.vZ(bb,K);if(Math.max(Math.abs(ct),Math.abs(dG))>Math.max(Math.abs(qH.iL()),Math.abs(qH.jm()))){this.vq(qH);}};this.wQ=function(bb,K){var eA=this.gY({x:0,y:0,width:bb.dI,height:bb.eF});var aE=K.dI/eA.width;this.scale(aE,aE);};this.Bk=function(bb,K){var eA=this.gY({x:0,y:0,width:1,height:1});var aE=1/Math.min(eA.width,eA.height);this.scale(aE,aE);if(Math.abs(ct-1)<0.0001){ct=1;}if(Math.abs(dz-1)<0.0001){dz=1;}};return this;};ImageGear.ap.prototype.yo=function(){return Math.abs(this.xK())>1e-14;};ImageGear.ap.prototype.rotate=function(kw){this.vl(kw,0,0);};ImageGear.ap.prototype.vl=function(kw,eP,ek){var pe=kw*Math.PI*2/360;var dW=Math.sin(pe);var ir=Math.cos(pe);var aU=new ImageGear.ap(ir,dW,-dW,ir,eP*(1-ir)+ek*dW,ek*(1-ir)-eP*dW);this.append(aU);};ImageGear.ap.prototype.Gk=function(kw,eP,ek){var pe=kw*Math.PI*2/360;var dW=Math.sin(pe);var ir=Math.cos(pe);var aU=new ImageGear.ap(ir,dW,-dW,ir,eP*(1-ir)+ek*dW,ek*(1-ir)-eP*dW);this.kn(aU);};ImageGear.ap.prototype.IM=function(kw){this.Gk(kw,0,0);};ImageGear.ap.prototype.scale=function(hM,ix){var aU=new ImageGear.ap(hM,0,0,ix,0,0);this.append(aU);};ImageGear.ap.prototype.Ke=function(hM,ix,eP,ek){var aU=new ImageGear.ap(hM,0,0,ix,eP*(1-hM),ek*(1-ix));this.kn(aU);};ImageGear.ap.prototype.Jx=function(hM,ix){var aU=new ImageGear.ap(hM,0,0,ix,0,0);this.kn(aU);};ImageGear.ap.prototype.skew=function(uo,uO){var aU=new ImageGear.ap(1,Math.tan(uO*Math.PI*2/360),Math.tan(uo*Math.PI*2/360),1,0,0);this.append(aU);};ImageGear.ap.prototype.IU=function(uo,uO){var aU=new ImageGear.ap(1,Math.tan(uO*Math.PI*2/360),Math.tan(uo*Math.PI*2/360),1,0,0);this.kn(aU);};ImageGear.ap.prototype.JC=function(uI,uE){var aU=new ImageGear.ap(1,0,0,1,uI,uE);this.kn(aU);};ImageGear.ap.prototype.jF=function(L){var cf=this.transform({x:L.x,y:L.y});var gl=cf.x;var hZ=cf.x;var gJ=cf.y;var iT=cf.y;cf=this.transform({x:L.x+L.width,y:L.y});gl=Math.min(gl,cf.x);hZ=Math.max(hZ,cf.x);gJ=Math.min(gJ,cf.y);iT=Math.max(iT,cf.y);cf=this.transform({x:L.x+L.width,y:L.y+L.height});gl=Math.min(gl,cf.x);hZ=Math.max(hZ,cf.x);gJ=Math.min(gJ,cf.y);iT=Math.max(iT,cf.y);cf=this.transform({x:L.x,y:L.y+L.height});gl=Math.min(gl,cf.x);hZ=Math.max(hZ,cf.x);gJ=Math.min(gJ,cf.y);iT=Math.max(iT,cf.y);return new ImageGear.Web.UI.Rectangle(gl,gJ,hZ-gl,iT-gJ);};ImageGear.ap.prototype.CU=function(bb,K,di){var yf=this.clone();yf.jH();var Gd=yf.transform({x:di.x+di.width/2,y:di.y+di.height/2});var aE=Math.min(K.width/di.width,K.height/di.height);aE-=1e-10;var eW=this.pd();if(eW*aE>bb.ki){aE=bb.ki/eW;}if(eW*aE<bb.mW){aE=bb.mW/eW;}this.scale(aE,aE);this.wG(K,Gd);};ImageGear.ap.prototype.pD=function(bb,K,aY){this.CU(bb,K,this.jF(aY));};ImageGear.ap.prototype.JV=function(K){this.ku(1,-1,K.width/2,K.height/2);};ImageGear.ap.prototype.DV=function(K){this.ku(-1,1,K.width/2,K.height/2);};ImageGear.ap.prototype.uD=function(Ha,zf){var AJ=this.transform(Ha);this.eH(zf.x-AJ.x,zf.y-AJ.y);};ImageGear.ap.prototype.wG=function(K,cK){var yz=this.transform(cK);this.eH(K.width/2-yz.x,K.height/2-yz.y);};ImageGear.ap.prototype.cN=function(bk,K){var dX=0,eg=0,end;var fJ=this.gY(bk);if(fJ.width<K.width){dX=(K.width-fJ.width)/2-fJ.x;}else{end=fJ.x+fJ.width;if(end<K.width){dX=K.width-end;}if(fJ.x>0){dX= -fJ.x;}}if(fJ.height<K.height){eg=(K.height-fJ.height)/2-fJ.y;}else{end=fJ.y+fJ.height;if(end<K.height){eg=K.height-end;}if(fJ.y>0){eg= -fJ.y;}}this.eH(dX,eg);};ImageGear.ap.prototype.gY=function(bk){return this.jF({x:0,y:0,width:bk.width,height:bk.height});};ImageGear.ap.prototype.sq=function(){var fq,mA,gL,iH,wt,cE;fq=this.transform({x:0,y:0});mA=this.transform({x:0,y:1});gL=this.transform({x:1,y:0});iH=Math.atan2(mA.y-fq.y,mA.x-fq.x);wt=Math.atan2(gL.y-fq.y,gL.x-fq.x);cE=iH-wt;if(cE>Math.PI){cE=cE-2*Math.PI;}if(cE< -Math.PI){cE=cE+2*Math.PI;}return cE<0;};ImageGear.ap.prototype.qT=function(){var fq,mA,iH,cE;fq=this.transform({x:0,y:0});mA=this.transform({x:0,y:1});iH=Math.atan2(mA.y-fq.y,mA.x-fq.x)-Math.PI/2;if(iH<0){iH=iH+2*Math.PI;}return iH*360/(Math.PI*2);};ImageGear.ap.prototype.pd=function(){var cS;var fq,hn;var aV,af,aj;fq=this.transform({x:0,y:0});hn=this.transform({x:1,y:0});aV=hn.x-fq.x;af=hn.y-fq.y;cS=aV*aV+af*af;hn=this.transform({x:0,y:1});aV=hn.x-fq.x;af=hn.y-fq.y;aj=Math.min(cS,aV*aV+af*af);hn=this.transform({x:1,y:1});aV=hn.x-fq.x;af=hn.y-fq.y;aj=Math.min(cS,aV*aV+af*af);hn=this.transform({x:1,y: -1});aV=hn.x-fq.x;af=hn.y-fq.y;aj=Math.min(cS,aV*aV+af*af);return Math.sqrt(cS);};ImageGear.ap.KI=function(){return new ImageGear.ap(1,0,0,1,0,0);};ImageGear.mJ=function(aF,kg,dI,eF){this.width=aF;this.height=kg;this.dI=dI;this.eF=eF;return this;};ImageGear.mJ.prototype=new ImageGear.Web.UI.Rectangle(0,0,0,0);ImageGear.mJ.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.dI+', '+this.eF+')';};ImageGear.dK=function(fH,eQ,aF,kg,dI,eF){this.width=aF;this.height=kg;this.dI=dI;this.eF=eF;this.eQ=eQ||0;this.dY=0;this.lK=true;this.vn={};this.Qa=false;var G=this;this.get_url=function(ho,dh,ak){dh=dh||'Image';ak=ak||'';if(ak===null||ak===''){if(dh==='Attributes'){return ho+'/Page/q/'+eQ.toString()+'/'+dh+'?DocumentID=e'+fH;}else{return ho+'/Page/q/'+eQ.toString()+'/'+dh+'?DocumentID=e'+fH+'&'+ak;}}else{return ho+'/Page/q/'+eQ.toString()+'/'+dh+'?DocumentID=e'+fH+'&'+ak;}};this.get_urlArt=function(ho,dh,ak){dh=dh||'Art';ak=ak||'';if(ak===null||ak===''){if(dh==='Art'){return ho+'/Page/q/'+eQ.toString()+'/'+dh+'?DocumentID=e'+fH;}}else{return ho+'/Page/q/'+eQ.toString()+'/'+dh+'?DocumentID=e'+fH+'&'+ak;}};this.get_identifier=function(){return ImageGear.dK.rK(fH);};this.get_encodedIdentifier=function(){return fH;};this.toString=function(){return 'Image("'+fH+'", '+this.eQ+', '+this.width+' x '+this.height+', '+this.dI+', '+this.eF+')';};function QX(RA,J){if(J.Pg&&J.Pg()){G.lK=true;G.Qa=false;return;}var Pq=RA.split(',');var oJ=false;for(var V=0;V<Pq.length;V++){if(Pq[V]==="SVG"||Pq[V]==="svg"){if(ImageGear.nD.tP()){G.Qa=true;G.lK=false;}else{G.Qa=false;}oJ=true;break;}}if(!oJ){G.Qa=false;G.lK=true;}if(J){if(J.OU){J.OU(G.Qa);}}};this.sP=function(ho,J,oy){var G=this;var hx=function(zy,FZ){try{if(zy===null){throw new ImageGear.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}G.width= +(zy.imageWidth);G.height= +(zy.imageHeight);G.dI= +(zy.imageXResolution);if(G.dI<=0){G.dI=72;}G.eF= +(zy.imageYResolution);if(G.eF<=0){G.eF=72;}G.dY= +(zy.pageCount);G.lK=zy.isRaster!=='false';QX(zy.contentType,J);if(oy){oy();}}catch(e){J.F('openPage',e);if(typeof(J.bv)==='function'){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('pageOpenFailed',bW);}}};var dm=new XMLHttpRequest();function pb(){try{var gx,bD,ik,fo,el,jZ;var kD;var hN=gx;if(dm.readyState==4){gx=dm.status;if(dm.status==200){bD=null;try{if(typeof JSON!=='undefined'){bD=JSON.parse(dm.responseText);}else{bD=ImageGear.aG.rw(dm.responseText);}hx(bD,dm.status);}catch(ex){el="Attributes parsing error, Error meesage = "+ex.message;throw new ImageGear.Web.UI.ImGearArgumentException(null,el);}}else if((gx<200)||(gx>=300)){hN=dm.status;jZ=dm.getResponseHeader('Accusoft-Status-Message');if(jZ){var sI;kD=dm.getResponseHeader('Accusoft-Status-Number');if(ImageGear.Web.IW(kD)){sI=parseInt(kD);}throw new ImageGear.Web.UI.ImGearHttpException(hN,jZ,sI);}else{throw new ImageGear.Web.UI.ImGearHttpException(hN,"Unable to load the specified image");}}}}catch(e){J.F('openPage',e);if(typeof(J.bv)==='function'){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('pageOpenFailed',bW);}}};var ttttt=this.get_url(ho,'Attributes');dm.open('GET',ttttt,true);dm.setRequestHeader('Content-Type','application/json');dm.onreadystatechange=pb;dm.send();};this.As=function(ho,J,oy,GU){var G=this;var Jo=GU;var hz=new XMLHttpRequest();var hx=function(zy,FZ){try{if(zy===null){throw new ImageGear.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}G.width= +(zy.imageWidth);G.height= +(zy.imageHeight);G.dI= +(zy.imageXResolution);if(G.dI<=0){G.dI=72;}G.eF= +(zy.imageYResolution);if(G.eF<=0){G.eF=72;}G.dY= +(zy.pageCount);G.lK=zy.isRaster!=='false';hz.open('GET',G.get_urlArt(ho,'Art'),true);hz.setRequestHeader('Content-Type','application/json');hz.onreadystatechange=Hk;hz.send();}catch(e){if(typeof(J.bv)==='function'){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('pageOpenFailed',bW);}J.F('openPage',e);}};var EQ=function(zy,FZ){try{if(zy===null){throw new ImageGear.Web.UI.ImGearException('Unable to load the specified image. Returned annotations JSON from the server is null',{name:'ImageGear.Web.UI.ImGearHttpException',statusCode:FZ});}G.vn=zy;if(oy){oy();}}catch(e){J.F('openPage',e);if(typeof(J.bv)==='function'){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('artPageOpenFailed',bW);}}};var dm=new XMLHttpRequest();function pb(){try{var gx,bD,ik,fo,el,jZ;var kD,hN;if(dm.readyState==4){gx=dm.status;hN=gx;if(dm.status==200){bD=null;try{if(typeof JSON!=='undefined'){bD=JSON.parse(dm.responseText);}else{bD=ImageGear.aG.rw(dm.responseText);}hx(bD,gx);}catch(ex){el="Attributes parsing error, Error meesage = "+ex.message;throw new ImageGear.Web.UI.ImGearArgumentException(null,el);}}else if((gx<200)||(gx>=300)){hN=dm.status;jZ=dm.getResponseHeader('Accusoft-Status-Message');if(jZ){var sI;kD=dm.getResponseHeader('Accusoft-Status-Number');if(ImageGear.Web.IW(kD)){sI=parseInt(kD);}throw new ImageGear.Web.UI.ImGearHttpException(hN,jZ,sI);}else{throw new ImageGear.Web.UI.ImGearHttpException(hN,"Unable to load the specified image");}}}}catch(e){J.F('openPage',e);if(typeof(J.bv)==='function'){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('pageOpenFailed',bW);}}};function Hk(){try{var gx,bD,ik,fo,el,jZ;var kD,hN;if(hz.readyState==4){gx=hz.status;hN=gx;if(hz.status==200){bD=null;try{if(hz.responseText==null||hz.responseText==""){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=new ImageGear.Web.UI.ImGearHttpException(hN,jZ,sI);J.bv('artPageOpenFailed',bW);bD="{\"m\":[]}";}bD=hz.responseText;EQ(bD,gx);}catch(ex){}}else if((gx<200)||(gx>=300)){if(gx==500){try{bD="{\"m\":[]}";EQ(bD,gx);}catch(e){}bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();jZ=hz.getResponseHeader('Accusoft-Status-Message');kD=hz.getResponseHeader('Accusoft-Status-Number');bW.exception=new ImageGear.Web.UI.ImGearHttpException(hN,jZ,kD);bW.pageNumber=G.eQ;J.bv('artPageOpenFailed',bW);}else{hN=hz.status;jZ=hz.getResponseHeader('Accusoft-Status-Message');if(jZ){var sI;kD=hz.getResponseHeader('Accusoft-Status-Number');if(ImageGear.Web.IW(kD)){sI=parseInt(kD);}throw new ImageGear.Web.UI.ImGearHttpException(hN,jZ,sI);}else{throw new ImageGear.Web.UI.ImGearHttpException(hN,"Unable to obtain the specified annotations data");}}}}}catch(e){J.F('openARTPage',e);if(typeof(J.bv)==='function'){bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('artPageOpenFailed',bW);}}};dm.open('GET',this.get_url(ho,'Attributes'),true);dm.setRequestHeader('Content-Type','application/json');dm.onreadystatechange=pb;dm.send();};return this;};ImageGear.dK.prototype=new ImageGear.mJ(0,0,0,0);ImageGear.dK.prototype.clone=function(){var sz=new ImageGear.dK(this.get_encodedIdentifier(),this.eQ,this.width,this.height,this.dI,this.eF);sz.dY=this.dY;sz.lK=this.lK;return sz;};ImageGear.dK.prototype.equals=function(h){if(this.get_encodedIdentifier()!==h.get_encodedIdentifier()){return false;}if(this.eQ!==h.eQ){return false;}return true;};ImageGear.dK.prototype.ki=8;ImageGear.dK.prototype.mW=0.000001;ImageGear.dK.za=function(ak){var oH=ak.referenceDocumentIdentifier;var vJ=ImageGear.dK.lP(oH);var dv=ak.encodedDocumentIdentifier;var eb=ak.documentIdentifier;var co;if(dv===''){dv=undefined;}if(eb===''){eb=undefined;}if(oH&&oH!==''){if(dv===vJ){dv=undefined;}if(eb===oH){eb=undefined;}}if(eb){co=ImageGear.dK.lP(eb);if(dv){if(dv!==co){throw new ImageGear.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{dv=co;}}else{if(dv){eb=ImageGear.dK.rK(dv);}}if(!dv){eb=oH;dv=vJ;}var eu=ak.pageNumber;var wE=ak.referencePageNumber;if(eu===wE){eu=undefined;}if(eu!==0&& !eu){eu=wE;}ak.encodedDocumentIdentifier=dv;ak.documentIdentifier=eb;ak.pageNumber=eu;};ImageGear.dK.lP=function(mi){if(!mi||mi===''){return '';}var es=[];var k;for(k=0;k<mi.length;k++){es.push(mi.charCodeAt(k)%256);es.push(Math.floor(mi.charCodeAt(k)/256));}es.push(0);es.push(0);var qM='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var fc=[],fV;for(k=0;k<es.length-1;k+=3){fV=es[k]*0x10000+es[k+1]*0x100+es[k+2];fc.push(qM.charAt(Math.floor(fV/0x40000)));fc.push(qM.charAt(Math.floor(fV/0x1000)%0x40));fc.push(qM.charAt(Math.floor(fV/0x40)%0x40));fc.push(qM.charAt(fV%0x40));}var uY=Math.ceil(mi.length*16/6);while(fc.length>uY){fc.pop();}if((fc.length%4)===3){fc.push('1');}else if((fc.length%4)===2){fc.push('2');}else if((fc.length%4)===0){fc.push('0');}return fc.join('');};ImageGear.dK.rK=function(fH){if(!fH||fH===''){return '';}var Ae=fH.length-1;var rJ=[],fV;var fY,es=[],dZ=[];var k;for(k=0;k<Ae;k++){fY=fH.charCodeAt(k);if(fY>64&&fY<91){dZ.push(fY-65);}else if(fY>96&&fY<123){dZ.push(fY-97+26);}else if(fY>47&&fY<58){dZ.push(fY-48+52);}else if(fY===45){dZ.push(62);}else if(fY===95){dZ.push(63);}else{return '';}}dZ.push(0);dZ.push(0);dZ.push(0);for(k=0;k<dZ.length-3;k+=4){fV=dZ[k]*0x40000+dZ[k+1]*0x1000+dZ[k+2]*0x40+dZ[k+3];es.push(Math.floor(fV/0x10000));es.push(Math.floor(fV/0x100)%256);es.push(fV%256);}for(k=0;k<es.length-1;k+=2){rJ.push(String.fromCharCode(es[k]+es[k+1]*0x100));}var uY=Math.floor(Ae*6/16);while(rJ.length>uY){rJ.pop();}return rJ.join('');};ImageGear.iM=function(){this.bo=false;this.J=false;};ImageGear.iM.prototype.fb=function(J){J.bM().set_cursor(ImageGear.au.Magnifier);this.J=J;};ImageGear.iM.prototype.eY=function(){this.J=false;};ImageGear.iM.prototype.bq=function(){if(this.bo){this.J.bM().hideMagnifier();this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.iM.prototype.jl=function(C){this.bq();};ImageGear.iM.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){this.cI=this.J.bM().get_cursor();this.J.bM().set_cursor(ImageGear.au.None);this.bo=true;this.J.bM().showMagnifier(C.windowPoint);this.J.cD();}};ImageGear.iM.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){this.J.bM().showMagnifier(C.windowPoint);this.J.cD();}};ImageGear.iM.prototype.fl=function(C){this.bq();};ImageGear.iM.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.hs=function(){this.bo=false;this.J=false;};ImageGear.hs.prototype.fb=function(J){J.bM().set_cursor(ImageGear.au.RectangleZoom);this.J=J;};ImageGear.hs.prototype.eY=function(){this.J=false;};ImageGear.hs.prototype.bq=function(){if(this.bo){this.J.bM().hq();this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.hs.prototype.jl=function(C){this.bq();};ImageGear.hs.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){var aa=this.J.bM();this.cI=aa.get_cursor();aa.set_cursor(ImageGear.au.RectangleZoom);this.bo=true;aa.lU(C.constrainedImagePoint);this.ib=C.windowPoint;this.J.cD();}};ImageGear.hs.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var aa=this.J.bM();aa.jQ(C.constrainedImagePoint);this.J.cD();}};ImageGear.hs.prototype.fl=function(C){if(this.bo&&C.domEvent.button===0){var co=C.windowPoint.x-this.ib.x;var cS=co*co;co=C.windowPoint.y-this.ib.y;cS+=co*co;if(cS>25){var J=this.J;var aa=J.bM();var aK=aa.cv();var K=J.bd();var HC=K.width;var Iz=K.height;var bb=J.aQ();aa.jQ(C.constrainedImagePoint);var eN=aa.ip();aa.hq();J.bv('userModifiedViewState',{});aK.pD(bb,K,eN);aK.cN(bb,K);aa.fz(aK);J.cD();if(HC!==K.width||Iz!==K.height){aK=aa.cv();aK.pD(bb,K,eN);aK.cN(bb,K);aa.fz(aK);}}}this.bq();};ImageGear.hs.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.hs.prototype.fG=function(C){this.bq();};ImageGear.hy=function(){this.bo=false;this.J=false;};ImageGear.hy.prototype.fb=function(J){J.bM().set_cursor(ImageGear.au.HandOpen);this.J=J;};ImageGear.hy.prototype.eY=function(){this.J=false;};ImageGear.hy.prototype.bq=function(){if(this.bo){this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.hy.prototype.jl=function(C){this.bq();};ImageGear.hy.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){this.cI=this.J.bM().get_cursor();this.J.bM().set_cursor(ImageGear.au.HandClosed);this.bo=true;this.st=C.imagePoint;}};ImageGear.hy.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var J=this.J;var aa=J.bM();var aK=aa.cv();var K=J.bd();aK.uD(this.st,C.windowPoint);aK.cN(J.aQ(),K);J.bv('userModifiedViewState',{});aa.fz(aK);J.cD();}};ImageGear.hy.prototype.fl=function(C){this.bq();};ImageGear.hy.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.hy.prototype.fG=function(C){this.bq();};ImageGear.il=function(){this.bo=false;this.J=false;};ImageGear.il.prototype.fb=function(J){J.bM().set_cursor(ImageGear.au.Crosshair);this.J=J;};ImageGear.il.prototype.eY=function(){this.J=false;};ImageGear.il.prototype.bq=function(){if(this.bo){this.J.hq();this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.il.prototype.jl=function(C){this.bq();};ImageGear.il.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){var aa=this.J.bM();this.cI=aa.get_cursor();aa.set_cursor(ImageGear.au.Crosshair);this.bo=true;aa.lU(C.constrainedImagePoint);this.J.cD();}};ImageGear.il.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var aa=this.J.bM();aa.jQ(C.constrainedImagePoint);this.J.cD();}};ImageGear.il.prototype.fl=function(C){if(C.domEvent.button===0){this.bo=false;}this.bq();};ImageGear.il.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.il.prototype.fG=function(C){this.bq();};ImageGear.eG=function(){this.J=false;this.AA=1.5;};ImageGear.eG.prototype.fb=function(J){this.J=J;};ImageGear.eG.prototype.eY=function(){this.J=false;};ImageGear.eG.prototype.bq=function(){};ImageGear.eG.prototype.fG=function(C){var aa=this.J.bM();var bb=this.J.aQ();var K=this.J.bd();var aK=aa.cv();var vB=C.wheelDelta/120;if(C.domEvent.ctrlKey){C.domEvent.preventDefault();var aE=((this.AA-1)/2)+1;if(vB<0){aE=1/aE;}var eW=aK.pd();if(eW*aE>bb.ki){aE=bb.ki/eW;}if(eW*aE<bb.mW){aE=bb.mW/eW;}aK.ku(aE,aE,C.windowPoint.x,C.windowPoint.y);aK.cN(bb,K);this.J.bv('userModifiedViewState',{});aa.fz(aK);}else{var xQ=aK.transform({x:0,y:0});aK.eH(0,vB*K.eF);aK.cN(bb,K);var xU=aK.transform({x:0,y:0});if(Math.abs(xQ.x-xU.x)>0.001||Math.abs(xQ.y-xU.y)>0.001){C.domEvent.preventDefault();this.J.bv('userModifiedViewState',{});aa.fz(aK);}}};ImageGear.gz=function(it){this.bo=false;this.J=false;this.it=it;switch(this.it){case ImageGear.Web.UI.MarkType.Rectangle:this.aH=ImageGear.au.AddRectangleMark;break;case ImageGear.Web.UI.MarkType.Ellipse:this.aH=ImageGear.au.AddEllipseMark;break;case ImageGear.Web.UI.MarkType.Text:this.aH=ImageGear.au.AddTextMark;break;}};ImageGear.gz.prototype.fb=function(J){J.bM().set_cursor(this.aH);this.J=J;};ImageGear.gz.prototype.eY=function(){this.J=false;};ImageGear.gz.prototype.bq=function(){if(this.bo){this.v=null;this.J.gQ(null);this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.gz.prototype.jl=function(C){this.bq();};ImageGear.gz.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){var aa=this.J.bM();this.cI=aa.get_cursor();aa.set_cursor(this.aH);this.bo=true;this.v=new ImageGear.Web.UI.Mark(this.it);this.v.set_rectangle({x:C.imagePoint.x,y:C.imagePoint.y,width:0,height:0});this.J.gQ(this.v);this.hl=C.imagePoint;this.ib=C.windowPoint;}};ImageGear.gz.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var aa=this.J.bM();var gk={x:Math.min(C.imagePoint.x,this.hl.x),y:Math.min(C.imagePoint.y,this.hl.y)};gk.width=Math.max(C.imagePoint.x,this.hl.x)-gk.x;gk.height=Math.max(C.imagePoint.y,this.hl.y)-gk.y;this.v.set_rectangle(gk);this.J.cD();}};ImageGear.gz.prototype.fl=function(C){if(this.bo&&C.domEvent.button===0){var co=C.windowPoint.x-this.ib.x;var cS=co*co;co=C.windowPoint.y-this.ib.y;cS+=co*co;if(cS>25){var gk={x:Math.min(C.imagePoint.x,this.hl.x),y:Math.min(C.imagePoint.y,this.hl.y)};gk.width=Math.max(C.imagePoint.x,this.hl.x)-gk.x;gk.height=Math.max(C.imagePoint.y,this.hl.y)-gk.y;this.J.gQ(null);this.v.set_rectangle(gk);var bn=this.v;var J=this.J;this.J.as().addMark(this.v);if(bn.tk()===ImageGear.Web.UI.MarkType.Text){J.zn(bn);}}}this.bq();};ImageGear.gz.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.gz.prototype.fG=function(C){this.bq();};ImageGear.jr=function(){this.bo=false;this.J=false;this.aH=ImageGear.au.AddLineMark;};ImageGear.jr.prototype.fb=function(J){J.bM().set_cursor(this.aH);this.J=J;};ImageGear.jr.prototype.eY=function(){this.J=false;};ImageGear.jr.prototype.bq=function(){if(this.bo){this.v=null;this.J.gQ(null);this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.jr.prototype.jl=function(C){this.bq();};ImageGear.jr.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){var aa=this.J.bM();this.cI=aa.get_cursor();aa.set_cursor(this.aH);this.bo=true;this.v=new ImageGear.Web.UI.Mark(ImageGear.Web.UI.MarkType.Line);this.v.get_points().setPoint(0,C.imagePoint);this.v.get_points().setPoint(1,C.imagePoint);this.J.gQ(this.v);this.hl=C.imagePoint;this.ib=C.windowPoint;}};ImageGear.jr.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var aa=this.J.bM();this.v.get_points().setPoint(1,C.imagePoint);this.J.cD();}};ImageGear.jr.prototype.fl=function(C){if(this.bo&&C.domEvent.button===0){var co=C.windowPoint.x-this.ib.x;var cS=co*co;co=C.windowPoint.y-this.ib.y;cS+=co*co;if(cS>25){this.v.get_points().setPoint(1,C.imagePoint);this.J.gQ(null);this.J.as().addMark(this.v);}}this.bq();};ImageGear.jr.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.jr.prototype.fG=function(C){this.bq();};ImageGear.iI=function(){this.bo=false;this.J=false;this.aH=ImageGear.au.AddFreehandMark;};ImageGear.iI.prototype.fb=function(J){J.bM().set_cursor(this.aH);this.J=J;};ImageGear.iI.prototype.eY=function(){this.J=false;};ImageGear.iI.prototype.bq=function(){if(this.bo){this.v=null;this.J.gQ(null);this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.iI.prototype.jl=function(C){this.bq();};ImageGear.iI.prototype.ed=function(C){this.bq();if(C.domEvent.button===0){var aa=this.J.bM();this.cI=aa.get_cursor();aa.set_cursor(this.aH);this.bo=true;this.v=new ImageGear.Web.UI.Mark(ImageGear.Web.UI.MarkType.Polyline);this.v.get_points().addPoint(C.imagePoint);this.J.gQ(this.v);this.hl=C.imagePoint;this.ib=C.windowPoint;}};ImageGear.iI.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var aa=this.J.bM();this.v.get_points().addPoint(C.imagePoint);this.J.cD();}};ImageGear.iI.prototype.fl=function(C){if(this.bo&&C.domEvent.button===0){this.v.get_points().addPoint(C.imagePoint);this.J.gQ(null);this.J.as().addMark(this.v);}this.bq();};ImageGear.iI.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.iI.prototype.fG=function(C){this.bq();};ImageGear.gK=function(it){this.bo=false;this.J=false;this.it=it;switch(this.it){case ImageGear.Web.UI.MarkType.Polygon:this.aH=ImageGear.au.AddPolygonMark;break;case ImageGear.Web.UI.MarkType.Polyline:this.aH=ImageGear.au.AddPolylineMark;break;}};ImageGear.gK.prototype.fb=function(J){J.bM().set_cursor(this.aH);this.J=J;};ImageGear.gK.prototype.eY=function(){this.J=false;};ImageGear.gK.prototype.bq=function(){if(this.bo){this.v=null;this.J.gQ(null);this.J.bM().set_cursor(this.cI);this.bo=false;}};ImageGear.gK.prototype.jl=function(C){this.bq();};ImageGear.gK.prototype.ed=function(C){if(C.domEvent.button===0){if(!this.bo){var aa=this.J.bM();this.cI=aa.get_cursor();aa.set_cursor(this.aH);this.bo=true;this.v=new ImageGear.Web.UI.Mark(this.it);this.v.get_points().addPoint(C.imagePoint);this.J.gQ(this.v);}var bE=this.v.get_points();if(bE.get_length()>0){bE.setPoint(bE.get_length()-1,C.imagePoint);}bE.addPoint(C.imagePoint);this.hl=C.imagePoint;this.ib=C.windowPoint;}else{this.bq();}};ImageGear.gK.prototype.lG=function(C){if(this.bo&&C.domEvent.button===0){var bE=this.v.get_points();if(bE.get_length()>0){bE.setPoint(bE.get_length()-1,C.imagePoint);}this.J.gQ(null);this.J.as().addMark(this.v);}this.bq();};ImageGear.gK.prototype.fa=function(C){if(C.domEvent.button!==0){this.bq();}if(this.bo){var bE=this.v.get_points();if(bE.get_length()>0){bE.setPoint(bE.get_length()-1,C.imagePoint);}this.J.cD();}};ImageGear.gK.prototype.gB=function(C){var K=this.J.bd();if(C.windowPoint.x<=0||C.windowPoint.x>=K.width){this.bq();}if(C.windowPoint.y<=0||C.windowPoint.y>=K.height){this.bq();}};ImageGear.gK.prototype.fG=function(C){this.bq();};ImageGear.aX={vV:1,wT:2,tG:3,yH:4,zt:5,lD:6,rc:7,yl:8,tx:9,Av:10,zi:11,An:12,AU:13,Af:14,wb:15,yR:16};ImageGear.cU=function(tJ){this.J=false;this.tJ=tJ;var ez=ImageGear.Web.UI;var FN={az:'Zoom In 25%',cn:ImageGear.aX.vV,h:1.25};var EY={az:'Zoom Out 25%',cn:ImageGear.aX.wT,h:1.25};var Am={az:'Full Image',h:ez.FitType.FullImage};var Cf={az:'Full Width',h:ez.FitType.FullWidth};var zc={az:'Full Height',h:ez.FitType.FullHeight};var Ey={az:'1 to 1 Ratio',h:ez.FitType.OneToOne};var Hl={az:'Actual Size',h:ez.FitType.ActualSize};var Fr={az:'Rotate Clockwise',cn:ImageGear.aX.tG,h:90};var FS={az:'Rotate Counter-Clockwise',cn:ImageGear.aX.tG,h: -90};var Fb={az:'Mirror Horizontal',cn:ImageGear.aX.yH};var FO={az:'Mirror Vertical',cn:ImageGear.aX.zt};var wv={az:'Pan Tool',h:ez.MouseTool.HandPan};var AO={az:'Area Selection Tool',h:ez.MouseTool.Select};var ws={az:'Zoom Rectangle Tool',h:ez.MouseTool.RectangleZoom};var yW={az:'Flying Magnifier Tool',h:ez.MouseTool.Magnifier};var Ea={az:'Create Text Mark',h:ez.MouseTool.CreateTextMark};var En={az:'Create Line Mark',h:ez.MouseTool.CreateLineMark};var DG={az:'Create Polygon Mark',h:ez.MouseTool.CreatePolygonMark};var EA={az:'Create Polyline Mark',h:ez.MouseTool.CreatePolylineMark};var Dc={az:'Create Rectangle Mark',h:ez.MouseTool.CreateRectangleMark};var EI={az:'Create Ellipse Mark',h:ez.MouseTool.CreateEllipseMark};var Dy={az:'Create Freehand Mark',h:ez.MouseTool.CreateFreehandMark};var Dv={az:'Edit Marks',h:ez.MouseTool.EditMarks};var Fz={az:'Run Marks',h:ez.MouseTool.RunMarks};var yG={aF:55,aO:[{az:'1',h:1},{az:'2',h:2},{az:'3',h:3},{az:'4',h:4},{az:'5',h:5},{az:'6',h:6},{az:'7',h:7},{az:'8',h:8}]};var DW={aF:145,aO:[{az:'Translucent (127)',h:127},{az:'Opaque (255)',h:255}]};var RW={aF:140,aO:[{az:'Even Odd (0)',h:0},{az:'Non Zero (1)',h:1}]};var Bl={aF:80,aO:[{az:'Line',h:0},{az:'Triangle',h:1}]};var tZ={az:'Border Thickness',cn:ImageGear.aX.lD,aT:'lineWidth',fv:yG};var wz={az:'Border Color...',cn:ImageGear.aX.rc,aT:'lineColor'};var uc={az:'Fill Color...',cn:ImageGear.aX.rc,aT:'fillColor'};var xP={az:'Thickness',cn:ImageGear.aX.lD,aT:'lineWidth',fv:yG};var xk={az:'Color...',cn:ImageGear.aX.rc,aT:'lineColor'};var BB={az:'Font...',cn:ImageGear.aX.yl};var nH={az:'Opacity',cn:ImageGear.aX.lD,aT:'opacity',fv:DW};var Rr={az:'Fill Rule',cn:ImageGear.aX.lD,aT:'fillRule',fv:RW};var CK={az:'Callout Type',cn:ImageGear.aX.lD,aT:'calloutType',fv:Bl};var Cz={az:'Callout Visible',cn:ImageGear.aX.tx,aT:'calloutVisible'};var He={az:'Move to Back',cn:ImageGear.aX.Av};var Fv={az:'Move Backward',cn:ImageGear.aX.zi};var GH={az:'Move Forward',cn:ImageGear.aX.An};var Iq={az:'Move to Front',cn:ImageGear.aX.AU};var mB={az:'Delete Mark',cn:ImageGear.aX.Af};var Fm={aF:110,aO:[Am,Cf,zc,Ey,Hl]};var Fh={az:'Zoom to Fit',cn:ImageGear.aX.wb,fv:Fm};var EK={aF:200,aO:[Fr,FS,Fb,FO]};var Ev={az:'Orientation',fv:EK};var rE;if(ImageGear.aD){rE={aF:180,aO:[wv,ws,yW,AO,null,Dv,Ea,En,DG,EA,Dc,EI,Dy,Fz]};}else{rE={aF:180,aO:[wv,ws,yW,AO]};}var FH={az:'Mouse Tools',cn:ImageGear.aX.yR,fv:rE};var FJ={aF:150,aO:[uc,tZ,wz,null,nH]};var wK={az:'Properties',fv:FJ};var Eu={aF:150,aO:[BB,uc,tZ,wz,Cz,CK,null,nH]};var Ee={az:'Properties',fv:Eu};var DN={aF:150,aO:[uc,tZ,wz,null,nH,Rr]};var Ew={az:'Properties',fv:DN};var BK={aF:110,aO:[xP,xk,null,nH]};var Ba={az:'Properties',fv:BK};var Fk={aF:110,aO:[xP,xk,null,nH]};var FT={az:'Properties',fv:Fk};var FP={aF:140,aO:[Iq,GH,Fv,He]};var lH={az:'Ordering',fv:FP};this.BH={aF:130,aO:[FN,EY,Fh,Ev,FH]};this.Eg={aF:115,aO:[Ee,lH,mB]};this.Gf={aF:115,aO:[wK,lH,mB]};this.EF={aF:115,aO:[wK,lH,mB]};this.Dh={aF:115,aO:[Ew,lH,mB]};this.CN={aF:115,aO:[Ba,lH,mB]};this.FL={aF:115,aO:[FT,lH,mB]};};ImageGear.cU.prototype.fb=function(J){this.J=J;};ImageGear.cU.prototype.eY=function(){this.J=false;};ImageGear.cU.prototype.bq=function(){};ImageGear.cU.prototype.pw=function(C){var cd;if(C.mark&&this.tJ){switch(C.mark.get_type()){case ImageGear.Web.UI.MarkType.Line:cd=this.FL;break;case ImageGear.Web.UI.MarkType.Polyline:cd=this.CN;break;case ImageGear.Web.UI.MarkType.Rectangle:cd=this.Gf;break;case ImageGear.Web.UI.MarkType.Ellipse:cd=this.EF;break;case ImageGear.Web.UI.MarkType.Polygon:cd=this.Dh;break;case ImageGear.Web.UI.MarkType.Text:cd=this.Eg;break;}}if(!cd){cd=this.BH;}var jn=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var jA=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var wY=new ImageGear.Web.UI.Point(C.domEvent.clientX+jn,C.domEvent.clientY+jA);var G=this;function iA(bI){if(hX){var bN=bI.target;var mX,Au;while(bN!==document.body){if(bN===hX){Au=true;}if(!mX&&bN.ImGearCommand){mX=bN.ImGearCommand;}bN=bN.parentNode;}if(!Au||mX){ImGearRemoveHandler(document.body,'mousedown',iA);ImGearRemoveHandler(document.body,'mousemove',xa);document.body.removeChild(hX);hX=null;if(mX){mX.rS=C;G.Bz(mX);}}}};function vu(ox,ly,kL,oO){var ji=false,k,bN;for(k=0;k<ly.length;k++){if(ox===ly[k]){ji=true;}}if(!ji&&ox.ImGearType==='menu'){ox.style.display='none';}else{ox.style.display='block';}bN=ox.firstChild;while(bN){if(bN.ImGearType==='menuItemHighlight'){if(bN===oO){bN.style.display='block';}else{bN.style.display='none';}}if(bN.firstChild){vu(bN,ly,kL,oO);}bN=bN.nextSibling;}};function xa(bI){if(hX){var bN=bI.target;var ly=[hX],kL,oO;while(bN!==document.body){if(!kL&&bN.ImGearType==='menuItem'){kL=bN;}if(bN.ImGearType==='menu'){ly.push(bN);}bN=bN.parentNode;}if(kL){bN=kL.firstChild;while(bN){if(bN.ImGearType==='menuItemHighlight'){oO=bN;}else if(bN.ImGearType==='menu'){ly.push(bN);}bN=bN.nextSibling;}}vu(hX,ly,kL,oO);}};var bJ;if(window.innerWidth){bJ={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bJ={x:jn,y:jA,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bJ={x:jn,y:jA,width:document.body.clientWidth,height:document.body.clientHeight};}var hX=this.xH(cd,false,false,wY,wY,true,bJ,document.body,C.mark);vu(hX,[hX],null,null);document.body.appendChild(hX);cr(document.body,'mousedown',iA);cr(document.body,'mousemove',xa);};ImageGear.cU.prototype.xH=function(cd,cn,aT,uT,wM,lV,bJ,DM,v){var xR=24,vL=1;var k,ta=0;for(k=0;k<cd.aO.length;k++){var Fi=cd.aO[k];if(Fi){ta+=xR;}else{ta+=vL;}}var rC,JA,JW;if(lV){rC=wM.x+cd.aF;if(rC>bJ.x+bJ.width){lV=false;}}if(!lV){rC=uT.x-cd.aF;if(rC<bJ.x){lV=true;}}var gI={x:wM.x,y:wM.y};if(!lV){gI={x:uT.x-cd.aF-2,y:uT.y-2};}var zL=bJ.y+bJ.height-ta-8;if(gI.y>zL){gI.y=zL;}if(gI.y<bJ.y+2){gI.y=bJ.y+2;}function bX(fB){var kj=document.createElement('div');var k;for(k in fB){if(fB.hasOwnProperty(k)){kj.style[k]=fB[k];}}return kj;};var sh=bX({width:cd.aF+'px',left:gI.x+'px',top:gI.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'12px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold'});sh.ImGearType='menu';for(k=0;k<cd.aO.length;k++){var iw=cd.aO[k];var hQ;if(iw){hQ=bX({position:'relative',height:'24px'});hQ.ImGearType='menuItem';var ln=bX({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});hQ.appendChild(ln);var xm=bX({position:'absolute',left:'25px',padding:'5px 0px 0px 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px'});hQ.appendChild(xm);var xs=bX({display:'none',position:'absolute',height:'24px',width:cd.aF+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});xs.ImGearType='menuItemHighlight';hQ.appendChild(xs);xm.appendChild(document.createTextNode(iw.az));var rg=iw.cn||cn;var nG=iw.aT||aT;if(nG){if(rg===ImageGear.aX.lD){var pk=v['get_'+nG]();if(pk===iw.h){if(this.J.eh()){ln.style.backgroundImage='url(\''+this.J.eh()+'/MenuIcons.png'+'\')';}else{ln.style.backgroundImage='url(\''+'<%=WebResource("ImageGear.Web.UI.MenuIcons.png")%>'+'\')';}ln.style.backgroundPosition='0px';}}else if(rg===ImageGear.aX.tx){var Jg=v['get_'+nG]();if(Jg){if(this.J.eh()){ln.style.backgroundImage='url(\''+this.J.eh()+'/MenuIcons.png'+'\')';}else{ln.style.backgroundImage='url(\''+'<%=WebResource("ImageGear.Web.UI.MenuIcons.png")%>'+'\')';}ln.style.backgroundPosition='24px 0px';}}}if(!iw.fv){hQ.ImGearCommand={cn:rg,aT:nG,h:iw.h};}else{var Bd={x:bJ.x-gI.x,y:bJ.y-gI.y,width:bJ.width,height:bJ.height};this.xH(iw.fv,rg,nG,{x:0,y: -1},{x:cd.aF,y: -1},lV,Bd,hQ,v);}gI.y+=xR;}else{hQ=bX({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});gI.y+=vL;}sh.appendChild(hQ);}DM.appendChild(sh);return sh;};ImageGear.cU.prototype.EJ=function(v,bK){var jn=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var jA=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bJ;if(window.innerWidth){bJ={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bJ={x:jn,y:jA,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bJ={x:jn,y:jA,width:document.body.clientWidth,height:document.body.clientHeight};}var eP=bJ.x+bJ.width/2;var ek=bJ.y+bJ.height/2;var cq=document.createElement('div');cq.innerHTML='	<div style="border:1px solid #000000;font-size:14px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ek-85)+'px;left:'+(eP-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;">Select Color</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;">Red:</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;">Green:</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;">Blue:</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<input id="ImGearColorOKButton" type="button" value="OK" style="position:absolute;left:20px;top:108px;" />'+'<input id="ImGearColorCancelButton" type="button" value="Cancel" style="position:absolute;left:80px;top:108px;" />'+'</div>'+'</div>';document.body.appendChild(cq);var sD=document.getElementById('ImGearColorRed');var yj=document.getElementById('ImGearColorGreen');var Ar=document.getElementById('ImGearColorBlue');var pl=document.getElementById('ImGearColorOKButton');var nS=document.getElementById('ImGearColorCancelButton');var rH=v['get_'+bK]();if(rH.length===7&&rH.charAt(0)==='#'){var ru=parseInt(rH.slice(1),16);}sD.value=(ru>>16);yj.value=((ru>>8)&255);Ar.value=(ru&255);function rs(vF){var h=Math.floor(+(vF.value));if(!isFinite(h)){h=0;}if(h<0){h=0;}if(h>255){h=255;}return h;};function jP(){ImGearRemoveHandler(pl,'click',oX);ImGearRemoveHandler(nS,'click',pr);ImGearRemoveHandler(document.body,'mousedown',iA);};function oX(){var qD=rs(sD)*65536+rs(yj)*256+rs(Ar);v['set_'+bK]('#'+(0x1000000+qD).toString(16).slice(1));jP();document.body.removeChild(cq);cq=null;};function pr(){jP();document.body.removeChild(cq);cq=null;};function iA(bI){if(cq){var bN=bI.target;var qu;while(bN!==document.body){if(bN===cq){qu=true;}bN=bN.parentNode;}if(!qu){jP();document.body.removeChild(cq);cq=null;}}};cr(pl,'click',oX);cr(nS,'click',pr);cr(document.body,'mousedown',iA);sD.focus();};ImageGear.cU.prototype.Dn=function(v){var jn=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var jA=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bJ;if(window.innerWidth){bJ={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bJ={x:jn,y:jA,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bJ={x:jn,y:jA,width:document.body.clientWidth,height:document.body.clientHeight};}var eP=bJ.x+bJ.width/2;var ek=bJ.y+bJ.height/2;var cq=document.createElement('div');cq.innerHTML='<div style="border:1px solid #000000;font-size:14px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ek-85)+'px;left:'+(eP-200)+'px;width:400px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+'Select Font</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;">Font:</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:80px;top:8px;width:312px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;">Size:</div>'+'<input id="ImGearFontSize" style="position:absolute;left:80px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" />Italic</div>'+'<div style="position:absolute;left:80px;top:70px;"><input id="ImGearFontBold" type="checkbox" />Bold</div>'+'<div style="position:absolute;left:152px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" />Underline</div>'+'<div style="position:absolute;left:250px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" />Strikeout</div>'+'<input id="ImGearFontOKButton" type="button" value="OK" style="position:absolute;left:260px;top:108px;" />'+'<input id="ImGearFontCancelButton" type="button" value="Cancel" style="position:absolute;left:320px;top:108px;" />'+'</div>'+'</div>';document.body.appendChild(cq);var wP=document.getElementById('ImGearFontFamily');var xu=document.getElementById('ImGearFontSize');var yp=document.getElementById('ImGearFontItalic');var xT=document.getElementById('ImGearFontBold');var xe=document.getElementById('ImGearFontUnderline');var yF=document.getElementById('ImGearFontStrikeout');var pl=document.getElementById('ImGearFontOKButton');var nS=document.getElementById('ImGearFontCancelButton');var Ck=v.get_fontName();var Bb=v.get_fontSize();var qU=v.get_fontStyle();wP.value=Ck;xu.value=Bb;yp.checked=qU&ImageGear.Web.UI.FontStyle.Italic;xT.checked=qU&ImageGear.Web.UI.FontStyle.Bold;xe.checked=qU&ImageGear.Web.UI.FontStyle.Underline;yF.checked=qU&ImageGear.Web.UI.FontStyle.Strikeout;function EH(vF){var h=Math.floor(+(vF.value));if(!isFinite(h)){h=12;}if(h<0.1){h=0.1;}if(h>288){h=288;}return h;};function jP(){ImGearRemoveHandler(pl,'click',oX);ImGearRemoveHandler(nS,'click',pr);ImGearRemoveHandler(document.body,'mousedown',iA);};function oX(){v.set_fontName(wP.value);var lA=EH(xu);v.set_fontSize(lA);var bx=0;if(yp.checked){bx|=ImageGear.Web.UI.FontStyle.Italic;}if(xT.checked){bx|=ImageGear.Web.UI.FontStyle.Bold;}if(xe.checked){bx|=ImageGear.Web.UI.FontStyle.Underline;}if(yF.checked){bx|=ImageGear.Web.UI.FontStyle.Strikeout;}v.set_fontStyle(bx);jP();document.body.removeChild(cq);cq=null;};function pr(){jP();document.body.removeChild(cq);cq=null;};function iA(bI){if(cq){var bN=bI.target;var qu;while(bN!==document.body){if(bN===cq){qu=true;}bN=bN.parentNode;}if(!qu){jP();document.body.removeChild(cq);cq=null;}}};cr(pl,'click',oX);cr(nS,'click',pr);cr(document.body,'mousedown',iA);wP.focus();};ImageGear.cU.prototype.Bz=function(C){var v=C.rS.mark;switch(C.cn){case ImageGear.aX.lD:v['set_'+C.aT](C.h);break;case ImageGear.aX.rc:this.EJ(v,C.aT);break;case ImageGear.aX.yl:this.Dn(v);break;case ImageGear.aX.tx:v['set_'+C.aT](!v['get_'+C.aT]());break;case ImageGear.aX.Av:v.moveToBack();break;case ImageGear.aX.zi:v.moveBackward();break;case ImageGear.aX.An:v.moveForward();break;case ImageGear.aX.AU:v.moveToFront();break;case ImageGear.aX.Af:v.removeFromPage();break;default:this.J.Ie(C);break;}};ImageGear.cJ=function(){this.J=false;this.nX=0;this.De=1;this.xl=2;this.xF=3};ImageGear.cJ.prototype.fb=function(J){this.J=J;this.ab=this.nX;};ImageGear.cJ.prototype.eY=function(){this.J=false;};ImageGear.cJ.prototype.bq=function(){this.ab=this.nX;};ImageGear.cJ.prototype.At=function(C){var CV=new Date()-this.Dj;if(CV<750){var aV=this.vA.x-C.windowPoint.x;var af=this.vA.y-C.windowPoint.y;var cS=aV*aV+af*af;if(cS<2500){return true;}}return false;};ImageGear.cJ.prototype.yX=function(C){this.Dj=new Date();this.vA=new ImageGear.Web.UI.Point(C.windowPoint.x,C.windowPoint.y);};ImageGear.cJ.prototype.ps=function(C){var bI=C.domEvent.rawEvent;if(bI.touches.length===1){if(this.ab===this.xl&&this.At(C)){this.ab=this.xF;}else{this.ab=this.De;}this.yX(C);this.J.dg('ed',C);}else{this.ab=this.nX;this.J.dg('jl',C);}};ImageGear.cJ.prototype.pi=function(C){var bI=C.domEvent.rawEvent;if(bI.touches.length===1){this.J.dg('fa',C);}};ImageGear.cJ.prototype.oM=function(C){var bI=C.domEvent.rawEvent;if(bI.touches.length===0){if(this.At(C)){if(this.ab===this.xF){this.ab=this.nX;this.J.dg('fl',C);this.J.dg('lG',C);}else{this.yX(C);this.ab=this.xl;this.J.dg('fl',C);}}else{this.ab=this.nX;this.J.dg('fl',C);}}};ImageGear.cJ.prototype.lL=function(C){this.J.dg('jl',C);};ImageGear.cB=function(zP){this.zP=zP;this.rA=0;this.qX=1;this.su=2;this.sZ=3;this.sb=4;this.ab=this.rA;this.J=false;this.sT=0;};ImageGear.cB.prototype.fb=function(J){this.J=J;this.aa=J.bM();};ImageGear.cB.prototype.eY=function(){this.J=false;};ImageGear.cB.prototype.bq=function(){switch(this.ab){case this.su:this.J.bM().hideMagnifier();break;}this.ab=this.rA;};ImageGear.cB.prototype.ps=function(C){var bI=C.domEvent.rawEvent;switch(this.ab){case this.rA:if(bI.touches.length===1){this.EC(C);}else if(bI.touches.length===2){this.AN(C);}else if(bI.touches.length===3){this.wc(C);}else{this.bq();}break;case this.qX:if(bI.touches.length===2){this.AN(C);}else if(bI.touches.length===3){this.wc(C);}else{this.bq();}break;case this.sb:if(bI.touches.length!==3){this.bq();}break;case this.su:this.bq();break;case this.sZ:if(bI.touches.length===3){this.wc(C);}else if(bI.touches.length!==2){this.bq();}break;}};ImageGear.cB.prototype.pi=function(C){switch(this.ab){case this.qX:this.sT++;break;case this.su:this.wW(C);break;case this.sZ:this.Do(C);break;case this.sb:this.DZ(C);break;}};ImageGear.cB.prototype.oM=function(C){this.bq();};ImageGear.cB.prototype.lL=function(C){this.bq();};ImageGear.cB.prototype.EC=function(C){this.ab=this.qX;this.sT++;var Dg=this.sT;var G=this;function FM(){if(G.ab===this.qX&&Dg===G.sT){G.Db(C);}};setTimeout(FM,1000);};ImageGear.cB.prototype.Db=function(C){this.J.dg('jl',C);this.wW(C);this.ab=this.su;};ImageGear.cB.prototype.wc=function(C){var bI=C.domEvent.rawEvent;if(bI.touches.length!==3){this.bq();return;}var iJ=bI.touches[0];var dr={x:iJ.screenX,y:iJ.screenY};var aU=this.aa.cv();aU.jH();this.sp=dr;this.Cl=dr;this.vN=aU.transform(dr);this.ab=this.sb;this.IV=this.aa.cv();this.zD=true;this.zl=true;};ImageGear.cB.prototype.DZ=function(C){var bI=C.domEvent.rawEvent;if(bI.touches.length!==3){this.bq();return;}var iJ=bI.touches[0];var dr={x:iJ.screenX,y:iJ.screenY};var ET=Math.abs(dr.x-this.sp.x);var Gm=Math.abs(dr.y-this.sp.y);if(ET>35){this.zl=false;}if(Gm>35){this.zD=false;}if(this.zD){dr.y=this.sp.y;}if(this.zl){dr.x=this.sp.x;}this.Cl=dr;var aK=this.aa.cv();var K=this.J.bd();var bb=this.J.aQ();aK.uD(this.vN,dr);aK.cN(bb,K);this.aa.fz(aK);};ImageGear.cB.prototype.Lf=function(C){};ImageGear.cB.prototype.xI=function(C){var bI=C.domEvent.rawEvent;if(bI.touches.length!==2){this.bq();return{};}var sO=bI.touches[0];var sg=bI.touches[1];var aV=sO.screenX-sg.screenX;var af=sO.screenY-sg.screenY;var rM=Math.sqrt(aV*aV+af*af);var cE=Math.atan2(aV,af)*180/Math.PI;var aw={x:(sO.screenX+sg.screenX)/2,y:(sO.screenY+sg.screenY)/2};return{rM:rM,cE:cE,yU:aw};};ImageGear.cB.prototype.AN=function(C){this.ab=this.sZ;this.GX=this.xI(C);this.sy=this.GX;var aU=this.aa.cv();aU.jH();this.vN=aU.transform(this.sy.yU);this.po=this.sy.cE;};ImageGear.cB.prototype.wW=function(C){var bI=C.domEvent.rawEvent;var iJ=bI.touches[0];var dr={x:iJ.screenX,y:iJ.screenY};this.aa.showMagnifier(dr);};ImageGear.cB.prototype.Do=function(C){var km=this.xI(C);var aj=km.rM/this.sy.rM;var aK=this.aa.cv();var K=this.J.bd();var bb=this.J.aQ();aK.scale(aj,aj);var mx=this.po-km.cE;var zp=this.po-km.cE-360;var zs=this.po-km.cE+360;if(Math.abs(mx)>Math.abs(zp)){mx=zp;}if(Math.abs(mx)>Math.abs(zs)){mx=zs;}if(mx< -40){aK.rotate(-90);this.po=km.cE;}else if(mx>40){aK.rotate(90);this.po=km.cE;}aK.uD(this.vN,km.yU);aK.cN(bb,K);this.aa.fz(aK);this.sy=km;};ImageGear.cB.prototype.uj=function(C){var aK=this.aa.cv();var K=this.J.bd();var bb=this.J.aQ();aK.wr(ImageGear.Web.UI.FitType.FullImage,bb,K);aK.cN(bb,K);this.aa.fz(aK);};ImageGear.cB.prototype.fG=function(C){this.bq();};ImageGear.vs=function(){var aa;var bk;var gX;var K;var bw=this;var jY;var mr='';var _debug=false;var hW=ImageGear.Web.UI.DebugErrorLevel.Production;var hk=[];var aP=new ImageGear.Web.UI.fh();var an;var fF=null;var kf=false;var iP=false;var vK;var ql=ImageGear.Web.UI.ImGearArtDataServices.None;var mb=false;var ht='';var kv;var PU=false;var PH=false;var PK=0;var Ql=true;this.cO=function(jS){if(!_debug){return false;}return hW>=jS;};this.fe=function(cZ,mR,bA){ImageGear.ds.fe(cZ,mR,bA,mr,jY);};this.F=function(dw,fS){if(!this.cO(ImageGear.Web.UI.DebugErrorLevel.Production)){return;}var ad=dw+'() threw an exception ('+fS.name+'), "'+fS.message+'"';ad=ad.replace(/\n/g," ");this.fe(ad,ImageGear.Web.UI.DebugItemCause.Exception,ImageGear.Web.UI.DebugErrorLevel.Production);};this.get_debug=function(){return _debug;};this.set_debug=function(h){var ot= ! !h;if(_debug===ot){return;}_debug=ot;this.ac('debug');};this.fZ=function(){return hW;};this.ks=function(h){if(hW===h){return;}hW=h;this.ac('debugErrorLevel');};this.wg=function(h){mr=h;};this.pG=function(h){jY=h;};this.ec=function(BS){this.pp(false);var k;for(k=hk.length-1;k>=0;k--){hk[k].bq();hk[k].eY();}hk=BS;aa.set_cursor(ImageGear.au.Default);for(k=0;k<hk.length;k++){hk[k].fb(this);}};this.Kh=function(){var k;for(k=0;k<hk.length;k++){hk[k].bq();}};this.dg=function(Ax,C){var k;for(k=0;k<hk.length;k++){if(C&&C.xZ&&C.xZ()){return;}if(hk[k][Ax]){hk[k][Ax](C);}}};this.eo=function(O){aP.addHandler('propertyChanged',O);};this.ha=function(O){aP.removeHandler('propertyChanged',O);};this.add_mouseDown=function(O){aP.addHandler('mouseDown',O);};this.remove_mouseDown=function(O){aP.removeHandler('mouseDown',O);};this.add_mouseMove=function(O){aP.addHandler('mouseMove',O);};this.remove_mouseMove=function(O){aP.removeHandler('mouseMove',O);};this.add_mouseUp=function(O){aP.addHandler('mouseUp',O);};this.remove_mouseUp=function(O){aP.removeHandler('mouseUp',O);};this.add_contextMenu=function(O){aP.addHandler('contextMenu',O);};this.remove_contextMenu=function(O){aP.removeHandler('contextMenu',O);};this.GO=function(O){aP.addHandler('contextMenuCommand',O);};this.Jf=function(O){aP.removeHandler('contextMenuCommand',O);};this.add_mouseWheel=function(O){aP.addHandler('mouseWheel',O);};this.remove_mouseWheel=function(O){aP.removeHandler('mouseWheel',O);};this.add_mouseOut=function(O){aP.addHandler('mouseOut',O);};this.remove_mouseOut=function(O){aP.removeHandler('mouseOut',O);};this.ze=function(O){aP.addHandler('resize',O);};this.KA=function(O){aP.removeHandler('resize',O);};this.Cd=function(O){aP.addHandler('userModifiedViewState',O);};this.Jm=function(O){aP.removeHandler('userModifiedViewState',O);};this.add_markAdded=function(O){aP.addHandler('markAdded',O);};this.remove_markAdded=function(O){aP.removeHandler('markAdded',O);};this.add_markCreating=function(O){aP.addHandler('markCreating',O);};this.remove_markCreating=function(O){aP.removeHandler('markCreating',O);};this.add_markChanged=function(O){aP.addHandler('markChanged',O);};this.remove_markChanged=function(O){aP.removeHandler('markChanged',O);};this.add_inProgressMarkChanged=function(O){aP.addHandler('inProgressMarkChanged',O);};this.remove_inProgressMarkChanged=function(O){aP.removeHandler('inProgressMarkChanged',O);};this.add_markRemoved=function(O){aP.addHandler('markRemoved',O);};this.remove_markRemoved=function(O){aP.removeHandler('markRemoved',O);};this.add_markReordered=function(O){aP.addHandler('markReordered',O);};this.remove_markReordered=function(O){aP.removeHandler('markReordered',O);};this.add_marksLoaded=function(O){aP.addHandler('marksLoaded',O);};this.remove_marksLoaded=function(O){aP.removeHandler('marksLoaded',O);};this.add_marksSaved=function(O){aP.addHandler('marksSaved',O);};this.remove_marksSaved=function(O){aP.removeHandler('marksSaved',O);};this.add_markSelectionChanged=function(O){aP.addHandler('markSelectionChanged',O);};this.remove_markSelectionChanged=function(O){aP.removeHandler('markSelectionChanged',O);};this.add_pageOpenFailed=function(O){aP.addHandler('pageOpenFailed',O);};this.add_pageDisplayed=function(O){aP.addHandler('pageDisplayed',O);};this.remove_pageOpenFailed=function(O){aP.removeHandler('pageOpenFailed',O);};this.add_artPageOpenFailed=function(O){aP.addHandler('artPageOpenFailed',O);};this.remove_artPageOpenFailed=function(O){aP.removeHandler('artPageOpenFailed',O);};this.ac=function(bK){var O=aP.getHandler("propertyChanged");if(O){O(this,new ImageGear.jh(bK));}};this.gS=function(){var _parent=document.getElementById(jY);return _parent;};this.bM=function(){return aa;};this.KQ=function(){return aP;};function we(aW,C){mb=true;bw.bv('markAdded',C);bw.dg('_onMarkAdded',C);};function vP(aW,C){mb=true;bw.bv('markChanged',C);bw.dg('nq',C);};function xL(aW,C){C=new ImageGear.Web.UI.MarkEventArgs();C.mark=fF;bw.bv('inProgressMarkChanged',C);bw.dg('_onInProgressMarkChanged',C);};function wS(aW,C){mb=true;bw.bv('markRemoved',C);bw.dg('_onMarkRemoved',C);};function yB(aW,C){mb=true;bw.bv('markReordered',C);bw.dg('_onMarkReordered',C);};function xi(aW,C){bw.bv('marksLoaded',C);bw.dg('_onMarksLoaded',C);};function IJ(aW,C){mb=true;bw.bv('marksSaved',C);bw.dg('_onMarksSaved',C);};function yb(aW,C){bw.bv('markSelectionChanged',C);bw.dg('_onMarkSelectionChanged',C);};this.EP=function(aW,C){this.dg('_onTextMarkEditCompleted',C);};function wo(aW,C){bw.bv('propertyChanged',C);};this.fr=function(h){if(h===an){return;}if(an){an.remove_markAdded(we);an.remove_markChanged(vP);an.remove_markRemoved(wS);an.remove_markReordered(yB);an.remove_marksLoaded(xi);an.remove_markSelectionChanged(yb);an.ha(wo);an.nY(true);}an=h;if(an){an.add_markAdded(we);an.add_markChanged(vP);an.add_markRemoved(wS);an.add_markReordered(yB);an.add_marksLoaded(xi);an.add_markSelectionChanged(yb);an.eo(wo);}this.ac('artPage');};this.as=function(){return an;};this.kY=function(h){ql=h;this.ac('artServiceOption');};this.kB=function(){return ql;};this.gQ=function(v){if(fF===v){return;}if(fF){fF.remove_propertyChanged(xL);}if(v&& !fF){var C=new ImageGear.Web.UI.MarkEventArgs();C.mark=v;this.bv('markCreating',C);}fF=v;if(fF){fF.add_propertyChanged(xL);}this.ac('inProgressMark');};this.CR=function(){return fF;};this.pQ=function(h){if(h===bk){return;}bk=h;if(!bk){this.Pk=false;aa.hq();}this.ac('image');};this.aQ=function(){return bk;};this.wZ=function(h){if(h===kf){return;}kf=h;this.ac('kf');};this.xw=function(){return kf;};this.zn=function(v){this.pp(false);gX.Fd(v);iP=true;vK=v;this.ac('iP');};this.pp=function(GD){if(iP){if(GD){gX.FE();}iP=false;vK=null;this.EP();this.ac('iP');}};this.yN=function(){return iP;};this.yu=function(){return vK;};this.PP=function(h){PH=h;};this.Pg=function(){return PH;};this.Pm=function(h){if(h===PK){return;}PK=h;this.ac('PK');};this.PG=function(){return PK;};this.nY=function(h){if(an){an.nY(h);}};this.mk=function(){if(an){return an.mk();}return true;};this.xO=function(Lu){var K=gX.Ag(this.gS());this.Hw(K);};this.Hw=function(h){if(h===K){return;}K=h;this.ac('windowSpace');};this.bd=function(){return K;};this.cD=function(){gX.cD(bk,aa,K);};this.iu=function(h){kv=h;};this.eh=function(){return kv;};var lx='';this.xy=function(dh,ak){if(dh!=''){dh='/'+dh;}ak=ak||'';if(ak===null||ak===''){if(dh==='/Attributes'){return lx+'/Page/q/'+bk.eQ.toString()+dh+'?DocumentID=e'+bk.get_encodedIdentifier();}else{return lx+'/Page/q/'+bk.eQ.toString()+dh+'?DocumentID=e'+bk.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}else{return lx+'/Page/q/'+bk.eQ.toString()+dh+'?DocumentID=e'+bk.get_encodedIdentifier()+'&'+ak;}};this.BE=function(dh,ak){dh=dh||'Art';ak=ak||'';if(ak===null||ak===''){if(dh==='Art'){return lx+'/Page/q/'+bk.eQ.toString()+'/'+dh+'?DocumentID=e'+bk.get_encodedIdentifier();}}else{return lx+'/Page/q/'+bk.eQ.toString()+'/'+dh+'?DocumentID=e'+bk.get_encodedIdentifier()+'&'+ak;}};this.nr=function(kV){if(mb===false){if(kV){kV();}return;}function pb(hf){if(kV){kV();}};var Dr=an.saveToJson();var hf=new XMLHttpRequest();hf.open('POST',this.BE('Art'),true);hf.setRequestHeader('Content-Type','application/json');hf.onreadystatechange=function(){if(hf.readyState!=4){return;}if(hf.status!==200&&hf.status!==304){return;}pb(hf);};hf.send(Dr);};this.gs=function(){return lx;};this.nc=function(h){lx=h;this.ac('imageHandlerUrl');};this.AL=function(){return PU;};this.OU=function(h){PU=h;};this.cb=function(){return ht;};this.jE=function(h){ht=h;};this.IF=function(C){if(iP){this.pp(true);}else{this.bv('mouseDown',C);this.dg('ed',C);}};this.Hc=function(C){this.bv('mouseMove',C);this.dg('fa',C);};this.Gc=function(C){this.bv('mouseUp',C);this.dg('fl',C);};this.Gq=function(C){this.bv('mouseWheel',C);this.dg('fG',C);};this.Ij=function(C){this.bv('mouseDoubleClick',C);this.dg('lG',C);};this.GR=function(C){if(Ql){this.bv('contextMenu',C);this.dg('pw',C);}};this.Ie=function(C){this.bv('contextMenuCommand',C);};this.Go=function(C){this.bv('mouseOut',C);this.dg('gB',C);};this.FD=function(C){this.bv('touchStart',C);this.dg('ps',C);};this.Gp=function(C){this.bv('touchMove',C);this.dg('pi',C);};this.EO=function(C){this.bv('touchEnd',C);this.dg('oM',C);};this.Ff=function(C){this.bv('touchCancel',C);this.dg('lL',C);};this.bv=function(al,C){var O=aP.getHandler(al);if(O!==null){O(bw,C);}};this.Rm=function(){return Ql;};this.Qr=function(visible){Ql=visible;};this.Qg=function(){return PH?ImageGear.Web.UI.VectorFormatsRendering.Raster:ImageGear.nD.tP()?ImageGear.Web.UI.VectorFormatsRendering.SVG:ImageGear.Web.UI.VectorFormatsRendering.Raster;};this.Qm=function(NQ){NQ=NQ==ImageGear.Web.UI.VectorFormatsRendering.SVG?NQ:ImageGear.Web.UI.VectorFormatsRendering.Raster;NQ=ImageGear.nD.tP()?NQ:ImageGear.Web.UI.VectorFormatsRendering.Raster;if(NQ!=this.Qg())PH=NQ==ImageGear.Web.UI.VectorFormatsRendering.Raster;};var HZ=function(J){aa=new ImageGear.BA();function eU(aW,C){bw.bv('propertyChanged',C);};aa.eo(eU);if(ImageGear.nD.tP()){gX=new ImageGear.yr(J);}else{gX=new ImageGear.om(J);}if(ImageGear.aD){gX.hi=new ImageGear.aD.bi(J);gX.Ht=new ImageGear.aD.bi(J);};};HZ(this);return this;};ImageGear.nD={tP:function(){var jG=ImageGear.nD;if(jG.jX===null){
/*@cc_on@if(@_jscript)jG.jX=document.documentMode>8;@else@*/ jG.jX=true;/*@end@*/}return jG.jX;},jX:null};ImageGear.au={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,lo:function(aH){switch(aH){case ImageGear.au.Default:case ImageGear.au.Magnifier:case ImageGear.au.None:case ImageGear.au.RunMarks:return 'auto';case ImageGear.au.Arrow:case ImageGear.au.EditMarks:return 'default';case ImageGear.au.Crosshair:case ImageGear.au.RectangleZoom:case ImageGear.au.AddRectangleMark:case ImageGear.au.AddEllipseMark:case ImageGear.au.AddLineMark:case ImageGear.au.AddFreehandLineMark:case ImageGear.au.AddPolygonMark:case ImageGear.au.AddPolylineMark:case ImageGear.au.AddTextMark:return 'crosshair';case ImageGear.au.Link:return 'pointer';case ImageGear.au.HandOpen:case ImageGear.au.HandClosed:case ImageGear.au.Move:return 'move';case ImageGear.au.ResizeN:return 'n-resize';case ImageGear.au.ResizeE:return 'e-resize';case ImageGear.au.ResizeS:return 's-resize';case ImageGear.au.ResizeW:return 'w-resize';case ImageGear.au.ResizeNW:return 'nw-resize';case ImageGear.au.ResizeNE:return 'ne-resize';case ImageGear.au.ResizeSE:return 'se-resize';case ImageGear.au.ResizeSW:return 'sw-resize';}return 'auto';}};ImageGear.BA=function(){var aU=new ImageGear.ap();var nd=false;var ij;var gV;var os=false;var mj=new ImageGear.mJ(200,150,96,96);var iS={x:0,y:0};var IL=1.0;var qA=3;var ra=0,py=0;var cR=.2;var ng=new ImageGear.ap();var qS=ImageGear.Web.UI.ScrollBars.Auto;this.get_scrollBars=function(){return qS;};this.get_overflow=function(){switch(qS){case ImageGear.Web.UI.ScrollBars.None:return 'hidden';case ImageGear.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(h){if(qS===h){}qS=h;this.ac('scrollBars');};var aP=new ImageGear.Web.UI.fh();this.eo=function(O){aP.addHandler('propertyChanged',O);};this.ha=function(O){aP.removeHandler('propertyChanged',O);};this.ac=function(bK){var O=aP.getHandler('propertyChanged');if(O){O(this,new ImageGear.jh(bK));}};var onSelectionChanged=function(aa){var C={};C.selectionIsVisible=nd;C.selectionRectangle=aa.ip();aa.ac('selection');};this.hq=function(){ij={x:0,y:0};gV={x:0,y:0};if(!nd){return;}nd=false;onSelectionChanged(this);};this.showSelection=function(aY){ij.x=aY.x;ij.y=aY.y;gV.x=aY.x+aY.width;gV.y=aY.y+aY.height;nd=true;onSelectionChanged(this);};this.lU=function(cK){ij.x=cK.x;ij.y=cK.y;gV.x=cK.x;gV.y=cK.y;nd=true;onSelectionChanged(this);};this.jQ=function(cK){gV.x=cK.x;gV.y=cK.y;onSelectionChanged(this);};this.kF=function(){return nd;};this.ip=function(){var L=new ImageGear.Web.UI.Rectangle(Math.min(ij.x,gV.x),Math.min(ij.y,gV.y),0,0);L.width=Math.max(ij.x,gV.x)-L.x;L.height=Math.max(ij.y,gV.y)-L.y;return L;};var pg=function(){if(!os){ng.GZ();return;}ng.vq(aU);ng.eH(-iS.x,-iS.y);ng.scale(qA,qA);ng.eH(mj.width/2,mj.height/2);};this.hideMagnifier=function(){if(!os){}os=false;pg();this.ac('magnifierIsVisible');};this.showMagnifier=function(dr){iS.x=dr.x;iS.y=dr.y;os=true;pg();this.ac('magnifierWindowPosition');this.ac('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return os;};this.get_magnifierWindowPosition=function(){return{x:iS.x,y:iS.y};};this.get_magnifierMagnification=function(){return qA;};this.set_magnifierMagnification=function(h){qA=h;pg();this.ac('magnifierMagnification');};this.te=function(){return ra;};this.ur=function(h){ra=h;this.ac('magnifierXOffset');};this.sx=function(){return py;};this.tX=function(h){py=h;this.ac('magnifierYOffset');};this.lf=function(){return{width:mj.width,height:mj.height};};this.set_magnifierWindowSize=function(newMagnifierSize){mj.width=newMagnifierSize.width;mj.height=newMagnifierSize.height;pg();this.ac('magnifierWindowSize');};this.CB=function(){return ng.clone();};this.cv=function(){return aU.clone();};this.tc=function(){return cR;};this.ug=function(h){cR=h;this.ac('markHandleSize');};this.fz=function(h){if(h===aU||h.BG(aU)){return;}if(!h.yo()){throw new ImageGear.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}aU.vq(h);pg();this.ac('displayedPageRectangle');};var yd='0';this.get_presentationQuality=function(){return yd;};this.set_presentationQuality=function(h){yd=h;this.ac('presentationQuality');};var aH=ImageGear.au.Default;this.get_cursor=function(){return aH;};this.set_cursor=function(h){if(aH!==h){aH=h;this.ac('cursor');}};var qO=ImageGear.au.Default;this.nF=function(){if(qO===ImageGear.au.Default){return aH;}return qO;};this.nk=function(h){if(qO!==h){qO=h;this.ac('markCursor');}};this.hq();this.hideMagnifier();return this;};ImageGear.bi=function(){this.sd=false;this.vb=false;this.oA=true;this.vh=false;this.pO=false;this.hO=0;this.kC=0;return this;};ImageGear.bi.viewerCounter=0;ImageGear.bi.tileCounter=0;ImageGear.bi.prototype.xr=function(J){this.kM=ImageGear.bi.viewerCounter.toString();ImageGear.bi.viewerCounter++;this.J=J;if(ImageGear.aD){this.gA=new ImageGear.Web.UI.MarkCollection();}var G=this;function Cj(aW,C){G.Dx(C);};function ko(aW,C){G.Ds(C);};J.eo(Cj);J.add_markAdded(ko);J.add_markChanged(ko);J.add_inProgressMarkChanged(ko);J.add_markRemoved(ko);J.add_markReordered(ko);J.add_marksLoaded(ko);J.add_markSelectionChanged(ko);};ImageGear.bi.prototype.Aq=function(){var dc='igtile'+ImageGear.bi.tileCounter.toString();ImageGear.bi.tileCounter++;return dc;};ImageGear.bi.prototype.si=function(){this.sd=true;this.oA=this.oA&&this.vb;var G=this;var EE=function(){if(!G.sd){return;}G.cD(G.J.aQ(),G.J.bM(),G.J.bd());G.oA=true;};window.setTimeout(EE,0);};ImageGear.bi.prototype.Dx=function(C){var Ce=C.get_propertyName();switch(Ce){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.J.bM().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.pN=true;break;}this.si();};ImageGear.bi.prototype.Ds=function(C){if(C.mark&& !this.pN){this.gA.addMark(C.mark);}else{this.pN=true;}this.si();};ImageGear.bi.prototype.vm=function(){this.gW=this.bf.clone();this.gW.eH(this.vQ,this.vt);this.gW.cN(this.J.aQ(),this.J.bd());this.gZ=this.gW.clone();this.gZ.jH();};ImageGear.bi.prototype.cD=function(bk,aa,K){try{this.sd=false;if(this.pI===true){return;}var bp=this.J.gS();var cA=bp.igElements;try{this.pI=true;if(this.qa===undefined||bk===undefined|| !(this.qa.equals(bk))){if(this.vh){if(this.pS){this.zw(this.pS);var aC=cA.hI;ImGearRemoveHandler(aC,"mousedown",this.uz);ImGearRemoveHandler(aC,"mousemove",this.rV);ImGearRemoveHandler(aC,"mouseup",this.sG);ImGearRemoveHandler(aC,"contextmenu",this.uf);ImGearRemoveHandler(cA.cY,"blur",this.tY);}delete this.pS;this.AV(cA.oP);this.AV(cA.od);this.vh=false;if(this.oE!==undefined){this.oE.unlockAllItems();}if(this.nL!==undefined){this.nL.unlockAllItems();}this.oE=undefined;this.nL=undefined;}bp.innerHTML='';if(bk===undefined){this.pI=false;this.qa=undefined;return;}this.qa=bk.clone();this.oE=new ImageGear.jI();this.oE.createPyramid(this,this.J);this.nL=new ImageGear.jI();this.nL.createPyramid(this,this.J);this.vh=true;this.Ed(this.kM);}this.bf=aa.cv();var sC=this.bf.gY(bk);this.bf.eH(-sC.x,-sC.y);this.Hy=this.bf.clone();this.Hy.jH();this.vQ=Math.round(sC.x);this.vt=Math.round(sC.y);this.vm();this.DK(bk,aa,K);}finally{this.pI=false;this.pN=false;if(this.gA){this.gA.removeAllMarks();}}this.xh(false);}catch(e){this.J.F('display',e);throw e;}};ImageGear.bi.prototype.gT=function(lb,jN,jw){if(lb[jN]===jw){return;}lb[jN]=jw;};ImageGear.bi.prototype.fP=function(lb,jN,jw){if(lb.getAttribute(jN)===jw){return;}lb.setAttribute(jN,jw);};ImageGear.bi.prototype.bZ=function(lb,jN,jw){if(lb.style[jN]===jw){return;}lb.style[jN]=jw;};ImageGear.bi.prototype.xh=function(Cq){if(this.pI){return;}if(this.sd&& !this.oA){return;}if(!Cq){try{this.vb=true;var bp=this.J.gS();this.hO=bp.igElements.lz.scrollLeft;this.kC=bp.igElements.lz.scrollTop;this.DX();this.vm();this.J.bM().fz(this.gW);this.J.bv('userModifiedViewState',{});}finally{this.vb=false;}}};ImageGear.bi.prototype.Ft=function(hd,bf,wq){var jB=hd.GQ(bf,wq);if(!this.J.Pk&&jB.tilesToRequest.length===0&&(jB.opaqueTiles.length+jB.translucentTiles.length)>0){this.J.Pk=true;this.J.bv('pageDisplayed',{});}hd.Fn(jB);if(this.J.AL()===false){this.yI(jB.tilesToRequest);this.tw(jB.opaqueTiles,1,bf);this.tw(jB.translucentTiles,jB.opacity,bf);}};ImageGear.bi.prototype.Ed=function(kM){var J=this.J;var bp=J.gS();var aa=J.bM();var bw=this;function bX(fB){var kj=document.createElement('div');var k;for(k in fB){if(fB.hasOwnProperty(k)){kj.style[k]=fB[k];}}return kj;};var cA={};bp.igElements=cA;var fg=bX({width:'100%',height:'100%',position:'relative',overflow:aa.get_overflow(),margin:'0px',borderWidth:'0px','-webkit-user-select':'none'});cA.lz=fg;fg.onscroll=function(){bw.xh(false);};fg.onresize=function(){var K=J.bd();K.width=fg.clientWidth;K.height=fg.clientHeight;J.bv('resize',{});};var aC=bX({width:'0px',height:'0px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});fg.appendChild(aC);cA.hI=aC;this.pu=0;this.ri=0;this.hO=0;this.kC=0;var aq={};aq.hd=this.oE;aq.yq='ig'+kM+'level';cA.oP=aq;this.zK(aq,aC,bX);aq.hi=this.hi;var gp;if(J.AL()===false){gp=bX({position:'absolute',display:'none',width:(aa.lf().width+4)+'px',height:(aa.lf().height+4)+'px',backgroundColor:'#000000'});}else{gp=bX({position:'absolute',display:'none',width:(aa.lf().width+4)+'px',height:(aa.lf().height+4)+'px',backgroundColor:'#cccccc'});}aC.appendChild(gp);cA.gp=gp;var gU=bX({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cA.gU=gU;gp.appendChild(gU);aq={};aq.hd=this.nL;aq.yq='ig'+kM+'maglevel';cA.od=aq;this.zK(aq,gU,bX);aq.hi=this.Ht;var vW=document.createTextNode('');cA.vW=vW;var cY=document.createElement('textarea');cY.appendChild(vW);cY.style.position='absolute';cY.style.overflow='auto';cY.style.width='80px';cY.style.height='80px';cY.style.resize='none';cY.style.display='none';fg.appendChild(cY);cA.cY=cY;this.pS={};this.zU(this.pS);cr(aC,"mousedown",this.uz);cr(aC,"mousemove",this.rV);cr(aC,"mouseup",this.sG);cr(aC,"contextmenu",this.uf);cr(cY,"blur",this.tY);bp.appendChild(fg);};ImageGear.bi.prototype.zK=function(aq,gH,bX){var iv=bX({width:'0px',height:'0px',position:'absolute'});aq.gH=gH;gH.appendChild(iv);aq.oj=iv;this.zS(aq,iv,aq.hd,aq.yq);aq.ig=bX({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});iv.appendChild(aq.ig);var eN=bX({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});eN.style[this.zT]=this.zZ(0.5);iv.appendChild(eN);aq.eN=eN;};ImageGear.bi.prototype.AV=function(aq){if(aq&&aq.pO){aq.hi.zz();aq.pO=false;}aq.gH=null;};ImageGear.bi.prototype.DK=function(bk,aa,K){var J=this.J;var hg=this.gW.gY(bk);var bw=this;var bp=J.gS();var cA=bp.igElements;var oP=cA.oP;var od=cA.od;var fg=cA.lz;var aC=cA.hI;var iv=oP.oj;var gp=cA.gp;var gU=cA.gU;var xq=od.oj;var wy=Math.max(0,-hg.x);var wH=Math.max(0,-hg.y);var HI=Math.max(hg.width,K.width);var Im=Math.max(hg.height,K.height);var gc=Math.max(0,hg.x);var gh=Math.max(0,hg.y);var vw=false;var co;var mp=false;if(aa.kF()){mp=aa.ip();}var BZ=this.pu;this.pu=Math.floor(HI-1);if(this.pu<0){this.pu=0;}var CG=this.ri;this.ri=Math.floor(Im-1);if(this.ri<0){this.ri=0;}var AZ=this.hO;var Cu=this.kC;if(!this.oA){this.hO=Math.floor(wy);this.kC=Math.floor(wH);}if(this.tS){this.bZ(iv,'left',gc+'px');this.bZ(iv,'top',gh+'px');}var bf=aa.cv();bf.eH(wy-gc,wH-gh);this.wR(oP,aa.cv(),bf,bk,K,mp,gc,gh);this.bZ(fg,'overflow',aa.get_overflow());if(K.width!==fg.clientWidth||K.height!==fg.clientHeight){K.width=fg.clientWidth;K.height=fg.clientHeight;vw=true;}this.gT(iv.style,'visibility','visible');if(aa.get_magnifierIsVisible()){var iS=aa.get_magnifierWindowPosition();var kI=aa.lf();var ra=aa.te();var py=aa.sx();var sf=aa.CB();var Fl=Math.round(iS.x-kI.width/2+wy+ra);var FX=Math.round(iS.y-kI.height/2+wH+py);var rm=sf.gY(bk);var EW=Math.max(0,-rm.x);var Gt=Math.max(0,-rm.y);this.bZ(xq,'left',rm.x+'px');this.bZ(xq,'top',rm.y+'px');var qV=2;gp.style.width=(kI.width+qV*2)+'px';gp.style.height=(kI.height+qV*2)+'px';gU.style.width=kI.width+'px';gU.style.height=kI.height+'px';gU.style.left=qV+'px';gU.style.top=qV+'px';gp.style.left=Fl+'px';gp.style.top=FX+'px';var vM=sf.clone();vM.eH(EW,Gt);this.wR(od,sf,vM,bk,kI,mp,0,0);gp.style.display='block';}else{gp.style.display='none';}if(J.yN()){var DQ=J.yu();var BD=DQ.fI();var de=this.gW.jF(BD);if(de.width<64){de.width=64;}if(de.height<64){de.height=64;}if(de.width>K.width){de.width=K.width;}if(de.height>K.height){de.height=K.height;}if(de.x<0){de.x=0;}if(de.y<0){de.y=0;}if(de.x+de.width>K.width){de.x=K.width-de.width;}if(de.y+de.height>K.height){de.y=K.height-de.height;}cA.cY.style.left=this.hO+de.x+1+'px';cA.cY.style.top=this.kC+de.y+1+'px';cA.cY.style.width=de.width-8+'px';cA.cY.style.height=de.height-8+'px';if(cA.cY.style.display!=='block'){cA.cY.style.display='block';cA.cY.focus();}}else{cA.cY.style.display='none';}var Bu=ImageGear.au.lo(aa.get_cursor());this.gT(aC.style,'cursor',Bu);if(vw){J.bv('resize',{});}if(this.pu!==BZ){this.bZ(aC,'width',this.pu+'px');}if(this.ri!==CG){this.bZ(aC,'height',this.ri+'px');}if(this.hO!==AZ){fg.scrollLeft=this.hO;}if(this.kC!==Cu){fg.scrollTop=this.kC;}};ImageGear.bi.prototype.wR=function(aq,gW,bf,bb,K,mp,gc,gh){var hg=gW.gY(bb);var gi={};gi.width=Math.max(hg.width,K.width);gi.height=Math.max(hg.height,K.height);this.DU(aq,gW,bf,bb,K,gc,gh);this.ut(aq,bf,gi,bb,gc,gh);var gZ=gW.clone();gZ.jH();var wq=gZ.jF({x:0,y:0,width:K.width,height:K.height});aq.oj.style.width=K.width+'px';aq.oj.style.height=K.height+'px';if(this.J.AL()===false){this.Ft(aq.hd,bf,wq);}else{this.Sb(aq);}if(mp){var ml=bf.jF(mp);if(this.tS){aq.eN.style.left=(ml.x-2)+'px';aq.eN.style.top=(ml.y-2)+'px';}else{aq.eN.style.left=(ml.x-2+gc)+'px';aq.eN.style.top=(ml.y-2+gh)+'px';}aq.eN.style.width=ml.width+'px';aq.eN.style.height=ml.height+'px';aq.eN.style.display='block';}else{aq.eN.style.display='none';}};ImageGear.bi.prototype.DU=function(aq,gW,bf,bb,K,gc,gh){var an=this.J.as();var AK=0;if(aq.ep){AK=aq.ep.length;}if(!aq.hi|| !an){return;}var fF=this.J.CR();if(an.get_markCount()<=0&&AK<=0&& !fF){return;}if(!aq.pO){aq.hi.zC(this.J,aq,bb);aq.ep=[];aq.pO=true;}var bs=[];function HE(v){bs.push(v);};an.forEachMark(HE);if(fF){bs.push(fF);}var k,ep=aq.ep;for(k=0;k<ep.length;k++){while(k<ep.length&&(k>=bs.length||ep[k].v!==bs[k])){aq.hi.AP(ep[k]);ep.splice(k,1);}if(k<ep.length&&(this.pN||this.gA.contains(ep[k].v))){aq.hi.sH(ep[k]);}}for(k=ep.length;k<bs.length;k++){ep[k]={v:bs[k]};aq.hi.zb(ep[k]);}if(this.tS){aq.hi.vz(this.J,aq,bs,bf,this.J.xw());}else{var ce=bf.clone();ce.eH(gc,gh);aq.hi.vz(this.J,aq,bs,ce,this.J.xw());}};ImageGear.bi.prototype.ut=function(){};ImageGear.bi.prototype.DX=function(){var bp=this.J.gS();this.vQ=bp.igElements.hI.offsetLeft-this.hO;this.vt=bp.igElements.hI.offsetTop-this.kC;};ImageGear.bi.prototype.hh=function(C,cD){var fO=this.J.gS().igElements;var ck=C.domEvent;var jD;if(fO.hI.getBoundingClientRect){jD=fO.hI.getBoundingClientRect();}else{var ar=fO.hI;var pz=document.documentElement;jD={left:pz.clientLeft-pz.scrollLeft,top:pz.clientTop-pz.scrollTop};ar=ar.offsetParent;while(ar){jD.top+=ar.offsetTop-ar.scrollTop;jD.left+=ar.offsetLeft-ar.scrollLeft;ar=ar.offsetParent}}if(ck.rawEvent.touches){if(ck.rawEvent.touches.length>0){this.pW=new ImageGear.Web.UI.Point(ck.rawEvent.touches[0].clientX-fO.lz.scrollLeft-jD.left,ck.rawEvent.touches[0].clientY-fO.lz.scrollTop-jD.top);}if(!this.pW){this.pW=new ImageGear.Web.UI.Point(0,0);}C.windowPoint=new ImageGear.Web.UI.Point(this.pW.x,this.pW.y);ck.button=0;}else{C.windowPoint=new ImageGear.Web.UI.Point(ck.clientX-jD.left-fO.lz.scrollLeft,ck.clientY-jD.top-fO.lz.scrollTop);}var sL=this.gZ.transform(C.windowPoint);C.imagePoint=new ImageGear.Web.UI.Point(sL.x,sL.y);C.constrainedImagePoint=new ImageGear.Web.UI.Point(sL.x,sL.y);C.constrainedImagePoint.constrain(this.qa);C.pointLiesWithinImage=(C.constrainedImagePoint.x===C.imagePoint.x&&C.constrainedImagePoint.y===C.imagePoint.y);C.mark=null;try{var du=ck.target;while(!(du.ImGearMarkRelation)&&du.parentNode&&du!==document.body){du=du.parentNode;}if(du.ImGearMarkRelation){C.mark=du.ImGearMarkRelation.v;}}catch(bI){}};ImageGear.bi.prototype.ed=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;this.hh(C);this.J.IF(C);}catch(ex){this.J.F('mouseDown',ex);}};ImageGear.bi.prototype.fa=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;this.hh(C);this.J.Hc(C);}catch(ex){this.J.F('mouseMove',ex);}};ImageGear.bi.prototype.fG=function(bI){try{var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;this.hh(C);if(!bI.rawEvent.wheelDelta){C.wheelDelta= -bI.rawEvent.detail*120;}else{C.wheelDelta=bI.rawEvent.wheelDelta;}this.J.Gq(C);}catch(ex){this.J.F('mouseWheel',ex);}};ImageGear.bi.prototype.lG=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;this.hh(C);this.J.Ij(C);}catch(ex){this.J.F('mouseDoubleClick',ex);}};ImageGear.bi.prototype.fl=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;this.hh(C);this.J.Gc(C);}catch(ex){this.J.F('mouseUp',ex);}};ImageGear.bi.prototype.pw=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;this.hh(C);this.J.GR(C);}catch(ex){this.J.F('contextMenu',ex);}};ImageGear.bi.prototype.zW=function(bI){try{this.J.pp(true);}catch(ex){this.J.F('textAreaBlur',ex);}};ImageGear.bi.prototype.Fd=function(v){var fO=this.J.gS().igElements;fO.cY.value=v.az;};ImageGear.bi.prototype.FE=function(){var J=this.J;var v=J.yu();if(!v|| !J.yN()){return;}var fO=J.gS().igElements;var az=fO.cY.value;az=az.replace(/\r/g,'');v.set_text(az);};ImageGear.jI=function(){this.bV=[];return this;};ImageGear.jI.prototype.GQ=function(aU,aY){var aj=aU.pd();var k,dS,eI;var bY=1;var wl;var lg=[];var ii=[];var kk=[];var nm,rI;eI=this.bV.length;for(k=0;k<this.bV.length;k++){if(this.bV[k].aj>aj){eI=k;break;}}dS=eI-1;if(dS<0){dS=0;}if(eI>=this.bV.length){eI=this.bV.length-1;}if(dS!==eI){wl=(aj-this.bV[dS].aj)/(this.bV[eI].aj-this.bV[dS].aj);bY=wl*1.0;if(bY>=0.15){bY=1;dS=eI;}if(bY<=0.15){bY=1;eI=dS;}}ii=this.bV[dS].sR(aY);kk=this.bV[eI].sR(aY);var rG=function(eB){var k;for(k=0;k<eB.length;k++){eB[k].level.pool.rz(eB[k]);}};var tF=function(eB){var Ak=[];var k;for(k=0;k<eB.length;k++){if(!eB[k].get_isLockedAndLoaded()){Ak.push(eB[k]);}}return Ak;};var yM=function(eB){var yk=[];var k,bS;for(k=0;k<eB.length;k++){if(eB[k].get_isLockedAndLoaded()){yk.push(eB[k]);}}return yk;};if(dS>0&&dS===eI&&this.bV[eI].tiles.length>1){dS=eI-1;ii=this.bV[dS].sR(aY);}rG(ii);lg=tF(ii);if(lg.length>0){for(nm=dS-1;nm>=0;nm--){rI=this.bV[nm].sR(aY);rG(rI);if(tF(rI).length<1){break;}}if(nm<0){ii=yM(ii);}else{dS=nm;ii=rI;bY=1;}}else{rG(kk);lg=tF(kk);}rG(kk);kk=yM(kk);if(lg.length>3){lg.splice(3,lg.length-3);}function CS(){var bD,k;function wF(lQ){var bD='',k,bA;if(lQ.length<1){return '';}bA=lQ[0].level;bD+='level '+bA.id.toString()+' - ';for(k=0;k<lQ.length;k++){if(k>0){bD+=', ';}bD+='('+(lQ[k].x/bA.fM).toString()+','+(lQ[k].y/bA.kq).toString()+')';if(lQ[k].get_isLockedAndLoaded()){bD+='*';}}return bD;};bD='tilesToRequest: '+wF(this.tilesToRequest)+'<br/>';bD+='opaqueTiles: '+wF(this.opaqueTiles)+'<br/>';bD+='translucentTiles: '+wF(this.translucentTiles)+'<br/>';bD+='opacity: '+this.opacity.toString()+'<br/>';bD+='yS: '+this.yS.toString()+'<br/>';bD+='aU: '+this.aU.toString()+'<br/>';return bD;};return{opaqueTiles:ii,translucentTiles:kk,opacity:bY,tilesToRequest:lg,toString:CS,yS:aj,aU:aU.toString()};};ImageGear.jI.prototype.Fn=function(jB){var nv=[];var he=[];var k,j;var bA,tile;for(k=0;k<this.bV.length;k++){bA=this.bV[k];for(j=0;j<bA.tiles.length;j++){tile=bA.tiles[j];if(tile.poolItem!==undefined){nv.push(tile);}}}var Az=function(tI,AG){var k,j,tU,uW;for(k=0;k<AG.length;k++){tU=AG[k];uW=true;for(j=0;j<tI.length;j++){if(tU===tI[j]){uW=false;break;}}if(uW){tI.push(tU);}}};he=jB.tilesToRequest.concat();Az(he,jB.opaqueTiles);Az(he,jB.translucentTiles);for(k=nv.length-1;k>=0;k--){var zE=nv[k];for(j=0;j<he.length;j++){if(he[j]===zE){nv.splice(k,1);break;}}}for(k=0;k<nv.length;k++){nv[k].unlock();}for(k=0;k<he.length;k++){he[k].relock();}for(k=0;k<he.length;k++){if(he[k].poolItem===undefined){he[k].lock();}}};ImageGear.jI.prototype.unlockAllItems=function(){var k,j,bA;for(k=0;k<this.bV.length;k++){bA=this.bV[k];for(j=0;j<bA.tiles.length;j++){if(bA.tiles[j].poolItem!==undefined){bA.pool.vv(bA.tiles[j]);}}}};ImageGear.jI.prototype.JH=function(){var k,j,bA;for(k=0;k<this.bV.length;k++){this.bV[k].pool.Ep();}};ImageGear.jI.prototype.toString=function(){var bD='',k,j,bA;for(k=0;k<this.bV.length;k++){bA=this.bV[k];bD+='Level '+k.toString()+':   scaleFactor='+bA.aj.toString()+'  image='+bA.width.toString()+'x'+bA.height.toString()+'  tile='+bA.fM.toString()+'x'+bA.kq.toString()+'\n';for(j=0;j<bA.tiles.length;j++){if(j>0){bD+=', ';}bD+='('+bA.tiles[j].x.toString()+', '+bA.tiles[j].y.toString()+')';}bD+='\n';}return bD;};ImageGear.jI.prototype.createPyramid=function(gX,J){var GB=6000000;var xj=5000;var fM=1024;var Ge=fM*fM*3*150;var xf=0.5;var FV=2;var bk=J.aQ();var nj=bk.width*bk.height*3;var kt;var bA;var aj;var k;var Jr,Ki;var x,y;var tile;var iO,hL;this.bV=[];if(bk.lK){aj=1.0;kt=nj*aj*aj;while(this.bV.length<FV||kt>xj){bA=new ImageGear.rU();bA.aj=aj;this.bV.unshift(bA);aj*=xf;kt=nj*aj*aj;}}else{if(J.AL()===true){nj=bk.width*bk.height;}aj=Math.sqrt(xj/nj);var Fq=aj*bk.dI;aj=Math.ceil(Fq)/bk.dI;kt=nj*aj*aj;if(J.AL()===false){while(kt<Ge){bA=new ImageGear.rU();bA.aj=aj;this.bV.push(bA);aj/=xf;kt=nj*aj*aj;}}else{bA=new ImageGear.rU();bA.aj=1;this.bV.push(bA);}}bk.ki=this.bV[this.bV.length-1].aj*8;for(k=0;k<this.bV.length;k++){bA=this.bV[k];bA.qN=85;if(k===this.bV.length-1){bA.qN=100;}bA.pyramid=this;bA.id=k;bA.pool=new ImageGear.yA();bA.pool.uiDirector=gX;kt=nj*bA.aj*bA.aj;bA.width=Math.round(bk.width*bA.aj);bA.height=Math.round(bk.height*bA.aj);bA.fM=bA.width;bA.kq=bA.height;if(k>2&&k>this.bV.length-2){bA.fM=Math.min(fM/2,bA.width);bA.kq=Math.min(fM/2,bA.height);}if(kt>GB){bA.fM=Math.min(fM,bA.width);bA.kq=Math.min(fM,bA.height);}bA.tiles=[];iO=bA.fM;for(x=0;x<bA.width;x+=iO){iO=bA.fM;if(x+iO*1.25>bA.width){iO=bA.width-x;}hL=bA.kq;for(y=0;y<bA.height;y+=hL){hL=bA.kq;if(y+hL*1.25>bA.height){hL=bA.height-y;}tile=new ImageGear.oC();tile.level=bA;tile.x=x;tile.y=y;tile.right=tile.x+iO;if(tile.right<bA.width){tile.right++;}tile.bottom=tile.y+hL;if(tile.bottom<bA.height){tile.bottom++;}var Pf='jpeg';if(J.AL()===false){if(bA.qN>=100){Pf='png';}if(iO!==bA.width||hL!==bA.height){tile.url=J.xy('Tile/'+x.toString()+'/'+y.toString()+'/'+iO.toString()+'/'+hL.toString(),'Scale='+bA.aj.toString()+'&Quality='+bA.qN+'&ContentType='+Pf);}else{tile.url=J.xy('','Scale='+bA.aj.toString()+'&Quality='+bA.qN+'&ContentType='+Pf);}}else{Pf='svg';tile.url=J.xy('','Scale='+bA.aj.toString()+'&ContentType='+Pf);tile.QP=gX.Aq();}bA.tiles.push(tile);}}}};ImageGear.rU=function(){this.aj=1;this.width=0;this.height=0;this.fM=0;this.kq=0;this.pool=undefined;return this;};ImageGear.rU.prototype.sR=function(aY){if(aY.width<1||aY.height<1){return[];}var gl=Math.floor(aY.x*this.aj);var gJ=Math.floor(aY.y*this.aj);var hZ=Math.ceil((aY.x+aY.width)*this.aj);var iT=Math.ceil((aY.y+aY.height)*this.aj);var eB=[];var k,dC;var cC=this.tiles.length;for(k=0;k<cC;k++){dC=this.tiles[k];if(dC.x<=hZ&&dC.right>=gl&&dC.y<=iT&&dC.bottom>=gJ){eB.push(dC);}}return eB;};ImageGear.oC=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};ImageGear.oC.prototype.unlock=function(){this.level.pool.vv(this);};ImageGear.oC.prototype.lock=function(){this.level.pool.lockTile(this);};ImageGear.oC.prototype.relock=function(){return this.level.pool.rz(this);};ImageGear.oC.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};ImageGear.yA=function(){this.aO=[];this.parentElementID='';this.lockTile=function(dC){var fp,k,us,vd;if(this.rz(dC)){return;}us=0;for(k=this.aO.length-1;k>=0;k--){if(!(this.aO[k].locked)){us++;vd=k;}}if(us>4){fp=this.aO[vd];this.uiDirector.tm(fp);this.aO.splice(vd,1);}fp=new ImageGear.GY();fp.pool=this;this.uiDirector.zv(fp);this.aO.push(fp);fp.locked=true;fp.tile=dC;dC.poolItem=fp;return;};this.rz=function(dC){var fp,k;if(this.locked){return true;}for(k=0;k<this.aO.length;k++){if(this.aO[k].tile===dC){fp=this.aO[k];fp.locked=true;dC.poolItem=fp;return true;}}return false;};this.vv=function(dC){var bS,k;bS=dC.poolItem;if(bS!==undefined&&bS.locked){this.uiDirector.yQ(bS);bS.locked=false;dC.poolItem=undefined;for(k=0;k<this.aO.length;k++){if(this.aO[k]===bS){this.aO.splice(k,1);this.aO.push(bS);return;}}}};return this;};ImageGear.yA.prototype.Ep=function(){var k,bA;for(k=0;k<this.aO.length;k++){if(!this.aO[k].locked){this.uiDirector.tm(this.aO[k]);}}};ImageGear.GY=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};ImageGear.om=function(J){var bw=this;this.zT='filter';this.zZ=function(bY){return 'progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(bY*100)+');';};this.tS=true;this.ut=function(aq,bf,gi,bb,gc,gh){if(aq.pO){aq.hi.vo(bf,gi,bb,aq.ep);}};this.xr(J);this.Ag=function(bU){return new ImageGear.mJ(bU.clientWidth,bU.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI);};this.uz=function(bI){bw.ed(bI);};this.AE=function(bI){bw.lG(bI);};this.rV=function(bI){bw.fa(bI);};this.lO=function(bI){bw.fG(bI);};this.sG=function(bI){bw.fl(bI);};this.uf=function(bI){bw.pw(bI);};this.tY=function(bI){bw.zW(bI);};this.zU=function(){var aC=J.gS().igElements.hI;cr(aC,"mousewheel",this.lO);cr(aC,"dblclick",this.AE);};this.zw=function(){var aC=J.gS().igElements.hI;ImGearRemoveHandler(aC,"mousewheel",this.lO);ImGearRemoveHandler(aC,"dblclick",this.AE);};this.zS=function(aq,gH,hd,kM){var k,bA,bU;for(k=0;k<hd.bV.length;k++){bA=hd.bV[k];bU=document.createElement('div');bA.pool.parentElementID=kM+k.toString();bU.id=bA.pool.parentElementID;bU.style.width='0px';bU.style.height='0px';bU.setAttribute('tabindex','-1');gH.appendChild(bU);}};this.zv=function(bS){var sB=this.Aq();var rN=bS.pool;var gH=document.getElementById(rN.parentElementID);var bU;bU=document.createElement('img');bU.id=sB;if(J.bM().get_presentationQuality()>49){bU.style.msInterpolationMode='bicubic';}else{bU.style.msInterpolationMode='nearest-neighbor';}bU.style.position='absolute';bU.style.display='none';bU.setAttribute('tabindex','-1');bU.setAttribute('hidefocus','true');gH.appendChild(bU);bS.elementID=sB;bU.poolItem=bS;};this.yQ=function(bS){var bU=document.getElementById(bS.elementID);this.gT(bU.style,'display','none');};this.tm=function(bS){var bU=document.getElementById(bS.elementID);if(bU===null){bS.elementID='';return;}bU.src='';bU.parentElement.removeChild(bU);bS.elementID='';};var mP=function(bI){try{ImGearRemoveHandler(bI.target,'load',mP);bI.target.onabort=null;bI.target.onerror=null;var bS=bI.target.poolItem;bS.loaded=true;bw.si();}catch(ex){J.F('downloadImage',ex);var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;J.bv('pageOpenFailed',bW);}};var DB=function(){try{var bI=window.event;ImGearRemoveHandler(bI.srcElement,'load',mP);bI.srcElement.onabort=null;bI.srcElement.onerror=null;var bS=bI.srcElement.poolItem;bS.loaded=false;var Mo='An image download was aborted by the user';if(typeof(J.gS)==='function'){Mo+='Div Id = '+J.gS().id;}throw new ImageGear.Web.UI.ImGearException(Mo,{name:'ImageGear.Web.UI.ImGearHttpException'});}catch(ex){J.F('downloadImage',ex);var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;J.bv('pageOpenFailed',bW);}};var Df=function(){try{var bI=window.event;ImGearRemoveHandler(bI.srcElement,'load',mP);bI.srcElement.onabort=null;bI.srcElement.onerror=null;var bS=bI.srcElement.poolItem;bS.loaded=false;var Mo='An image failed to load. Error status ';if(typeof(J.gS)==='function'){Mo+='Div Id = '+J.gS().id;}throw new ImageGear.Web.UI.ImGearException(Mo,{name:'ImageGear.Web.UI.ImGearHttpException'});}catch(ex){J.F('downloadImage',ex);var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;J.bv('pageOpenFailed',bW);}};this.yI=function(fC){var k;for(k=0;k<fC.length;k++){var bU=document.getElementById(fC[k].poolItem.elementID);bU.style.visibility='hidden';cr(bU,'load',mP);bU.onabort=DB;bU.onerror=Df;bU.setAttribute('src',fC[k].url);}};this.tM=function(hH,Cn,tW,jy){var ef=document.getElementById(hH.poolItem.elementID);if(tW){this.gT(ef,'width',Math.round(jy.height));this.gT(ef,'height',Math.round(jy.width));}else{this.gT(ef,'width',Math.round(jy.width));this.gT(ef,'height',Math.round(jy.height));}this.gT(ef.style,'left',jy.x.toString());this.gT(ef.style,'top',jy.y.toString());this.gT(ef.style,'filter',Cn);this.gT(ef.style,'visibility','visible');this.gT(ef.style,'display','block');};this.tw=function(fC,bY,bf){var k;if(fC.length<1){return;}var ni='';if(bY<1){ni='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(bY*100).toString()+')';}var ce=bf.clone();var kP=1/fC[0].level.aj;var mG=ImageGear.ap(kP,0,0,kP,0,0);ce.kn(mG);var im=ce.sq();if(im){mG=new ImageGear.ap(-1,0,0,1,0,0);ce.append(mG);}var iU=Math.round(ce.qT()/90);mG=new ImageGear.ap(1,0,0,1,0,0);mG.rotate(iU*90);ce.kn(mG);var wj='';if(im||iU!==0){wj+='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(im?'1':'0')+', rotation='+iU.toString()+')';}var tW=(iU===1||iU===3);var dC,mN,jy;for(k=0;k<fC.length;k++){dC=fC[k];kP=1/dC.level.aj;mN={x:dC.x*kP,y:dC.y*kP};mN.width=dC.right*kP-mN.x;mN.height=dC.bottom*kP-mN.y;jy=bf.jF(mN);this.tM(fC[k],ni+wj,tW,jy);}};};ImageGear.om.prototype=new ImageGear.bi();ImageGear.yr=function(J){var bw=this;this.zT='opacity';this.zZ=function(bY){return bY.toString();};this.ut=function(aq,bf,gi,bb,gc,gh){aq.yP.setAttribute('width',gi.width);aq.yP.setAttribute('height',gi.height);aq.vX.setAttribute('width',gi.width);aq.vX.setAttribute('height',gi.height);var gO=bf.iL().toString()+','+bf.jm().toString()+','+bf.jq().toString()+','+bf.jc().toString()+','+(bf.kX()+gc).toString()+','+(bf.kG()+gh).toString();this.fP(aq.yh,'transform','matrix('+gO+')');};this.xr(J);this.Ag=function(bU){var K=new ImageGear.mJ(bU.clientWidth,bU.clientHeight,96,96);return K;};this.uz=function(bI){bw.ed(bI);};this.rV=function(bI){bw.fa(bI);};this.lO=function(bI){bw.fG(bI);};this.sG=function(bI){if(bI.rawEvent.detail>1){bw.lG(bI);}else{bw.fl(bI);}};this.uf=function(bI){bw.pw(bI);};this.tY=function(bI){bw.zW(bI);};this.gB=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;bw.hh(C);J.Go(C);}catch(ex){J.F('mouseOut',ex);}};this.ps=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;bw.hh(C);J.FD(C);}catch(ex){J.F('touchStart',ex);}};this.pi=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;bw.hh(C);J.Gp(C);}catch(ex){J.F('touchMove',ex);}};this.oM=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;bw.hh(C);J.EO(C);}catch(ex){J.F('touchEnd',ex);}};this.lL=function(bI){try{bI.preventDefault();var C=new ImageGear.Web.UI.MouseEventArgs();C.domEvent=bI;bw.hh(C);J.Ff(C);}catch(ex){J.F('touchCancel',ex);}};this.zq=function(bI){try{bI.preventDefault();}catch(ex){J.F('dragStart',ex);}};this.zU=function(){var aC=J.gS().igElements.hI;cr(aC,"mousewheel",this.lO);cr(aC,"DOMMouseScroll",this.lO);cr(aC,"mouseout",this.gB);cr(aC,"touchstart",this.ps);cr(aC,"touchmove",this.pi);cr(aC,"touchend",this.oM);cr(aC,"touchcancel",this.lL);cr(aC,"dragstart",this.zq);};this.zw=function(){var aC=J.gS().igElements.hI;ImGearRemoveHandler(aC,"DOMMouseScroll",this.lO);ImGearRemoveHandler(aC,"mouseout",this.gB);ImGearRemoveHandler(aC,"touchstart",this.ps);ImGearRemoveHandler(aC,"touchmove",this.pi);ImGearRemoveHandler(aC,"touchend",this.oM);ImGearRemoveHandler(aC,"touchcancel",this.lL);ImGearRemoveHandler(aC,"dragstart",this.zq);};this.zS=function(aq,gH,hd,kM){var k,bA,bU,wn;var sn=function(bB,dc,aB){var bU=document.createElementNS('http://www.w3.org/2000/svg',bB);var k;if(dc){bU.setAttribute('id',dc);}for(k in aB){if(aB.hasOwnProperty(k)){bU.setAttribute(k,aB[k]);}}return bU;};var qd=sn('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink',width:'1',height:'1','image-rendering':'optimizeQuality'});aq.vX=sn('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});qd.appendChild(aq.vX);var tz=sn('g',null,{});aq.yh=tz;qd.appendChild(tz);var cC=J.AL()===false?cC=hd.bV.length:1;for(k=0;k<hd.bV.length;k++){bA=hd.bV[k];bA.pool.parentElementID=kM+k.toString();wn=1/bA.aj;bU=sn('g',bA.pool.parentElementID,{transform:'matrix('+wn.toString()+',0,0,'+wn.toString()+',0,0)'});tz.appendChild(bU);}aq.yP=qd;gH.appendChild(qd);};this.RM=function(aq,gH,hd,kM){var k,bA,bU,wn;var sn=function(bB,dc,aB){var bU=document.createElementNS('http://www.w3.org/2000/svg',bB);var k;if(dc){bU.setAttribute('id',dc);}for(k in aB){if(aB.hasOwnProperty(k)){bU.setAttribute(k,aB[k]);}}return bU;};var qd=sn('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink',width:'1',height:'1','image-rendering':'optimizeQuality'});aq.vX=sn('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});qd.appendChild(aq.vX);var tz=sn('g',null,{});aq.yh=tz;qd.appendChild(tz);var cC;if(J.AL()===false){cC=hd.bV.length;}else{cC=1;}for(k=0;k<cC;k++){bA=hd.bV[k];bA.pool.parentElementID=kM+k.toString();wn=1/bA.aj;bU=sn('g',bA.pool.parentElementID,{transform:'matrix('+wn.toString()+',0,0,'+wn.toString()+',0,0)'});tz.appendChild(bU);}aq.yP=qd;gH.appendChild(qd);};this.zv=function(bS){var sB=this.Aq();bS.elementID=sB;};this.yQ=function(bS){var bU=document.getElementById(bS.elementID);this.fP(bU,'display','none');};this.tm=function(bS){var bU=document.getElementById(bS.elementID);if(bU===null){bS.elementID='';return;}bU.setAttributeNS('http://www.w3.org/1999/xlink','href','');bU.parentNode.removeChild(bU);bS.elementID='';};var mP=function(bI){try{bI.target.onload=undefined;bI.target.onerror=undefined;bI.target.onabort=undefined;var bS=bI.target.poolItem;bS.loaded=true;bw.si();}catch(ex){J.F('downloadImage',ex);}};var Aj=function(bI){try{bI.target.onload=undefined;bI.target.onerror=undefined;bI.target.onabort=undefined;bI.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');bI.target.setAttribute('display','none');throw new ImageGear.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'ImageGear.Web.UI.ImGearHttpException'});}catch(ex){J.F('downloadImage',ex);var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;J.bv('pageOpenFailed',bW);}};this.yI=function(fC){var k;var cC=J.AL()===false?fC.length:1;for(k=0;k<cC;k++){var hH=fC[k];var bU=document.getElementById(hH.poolItem.elementID);if(bU===null){var bS=hH.poolItem;var rN=bS.pool;var gH=document.getElementById(rN.parentElementID);bU=document.createElementNS('http://www.w3.org/2000/svg','image');this.fP(bU,'id',bS.elementID);this.fP(bU,'externalResourcesRequired','true');bU.poolItem=bS;bU.onload=mP;bU.onerror=Aj;bU.onabort=Aj;if(document.documentMode>8){bS.loaded=true;}bU.setAttributeNS('http://www.w3.org/1999/xlink','href',hH.url);gH.appendChild(bU);this.fP(bU,'display','block');var aF=hH.right-hH.x;var kg=hH.bottom-hH.y;this.fP(bU,'x',hH.x);this.fP(bU,'y',hH.y);this.fP(bU,'width',aF);this.fP(bU,'height',kg);}this.fP(bU,'display','block');}};this.Sb=function(aq){var k;var hH=aq.hd.bV[0].tiles[0];if(!hH){return;}var rN=hH.level.pool;var gH=document.getElementById(rN.parentElementID);var ar=document.getElementById(hH.QP);var PK=J.PG();if(aq.Qi){if(PK==2){delete aq.Qi;if(gH.childNodes.length>0){gH.removeChild(gH.childNodes[0]);}}else if(PK==1){if(gH.childNodes.length>0){gH.removeChild(gH.childNodes[0]);}}else{if(gH.childNodes.length===0){gH.appendChild(aq.QV);}}return;}if(PK>0){return;}var dm=new XMLHttpRequest();function pb(){try{var gx,bD,ik,el,jZ;var kD;var hN=gx;if(dm.readyState==4){gx=dm.status;if(dm.status==200){bD=null;try{QJ(dm.responseXML);}catch(ex){el="SVG image error, Error meesage = "+ex.message;var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;J.bv('pageOpenFailed',bW);throw new ImageGear.Web.UI.ImGearArgumentException(null,el);}}else if((gx<200)||(gx>=300)){hN=dm.status;jZ=dm.getResponseHeader('Accusoft-Status-Message');if(jZ){var sI;kD=dm.getResponseHeader('Accusoft-Status-Number');if(ImageGear.Web.IW(kD)){sI=parseInt(kD);}throw new ImageGear.Web.UI.ImGearHttpException(hN,jZ,sI);}else{throw new ImageGear.Web.UI.ImGearHttpException(hN,"Unable to load the specified image");}}}}catch(e){J.F('openPage',e);if(typeof(J.bv)==='function'){bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;J.bv('pageOpenFailed',bW);}}};function Pp(bN,ba){if(!ba)ba=document;var Pv;try{Pv=ba.createElementNS(bN.namespaceURI,bN.nodeName);for(var k=0,cC=bN.attributes.length;k<cC;++k){var Qd=bN.attributes[k];if(/^xmlns\b/.test(Qd.nodeName))continue;Pv.setAttributeNS(Qd.namespaceURI,Qd.nodeName,Qd.nodeValue);}for(var V=0,RK=bN.childNodes.length;V<RK;++V){var ir=bN.childNodes[V];Pv.insertBefore(ir.nodeType==1?Pp(ir,ba):ba.createTextNode(ir.nodeValue),null);}}catch(bI){J.F('openPage',bI);if(typeof(J.bv)==='function'){var bW=new ImageGear.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=bI;J.bv('pageOpenFailed',bW);}}return Pv;};function Sh(Ry,ba){if(!ba){ba=document;}var Sk=[];var Pz=ba.getElementsByTagName('*');for(var k=0;k<Pz.length;k++){if(Pz[k].getAttribute(Ry)){Sk.push(Pz[k]);}}return Sk;};var Rh=function(){J.Pk=true;J.bv('pageDisplayed',{});};var QJ=function(Qs){var Qe;var PE;var bU=document.getElementById(hH.QP);if(!aq.Qi){var Kc;var ay,k;if(document.documentMode>8){Kc=Pp(Qs.documentElement);var RN=Kc.getElementsByTagName('defs');Qe=Kc.getElementsByTagName('clipPath');var OP=[];var Pu=[];for(ay=0;ay<Qe.length;ay++){var qv=Qe[ay].getAttributeNS(null,'id');OP.push(qv);}PE=Kc.getElementsByTagName('mask');for(ay=0;ay<PE.length;ay++){Pu.push(PE[ay].getAttributeNS(null,'id'));}var OO=Sh("clip-path",Kc);for(ay=0;ay<OO.length;ay++){var QW=OO[ay].getAttributeNS(null,'clip-path');for(k=0;k<OP.length;k++){if(QW.indexOf(OP[k])>0){OO[ay].setAttributeNS(null,'clip-path','url(\"#'+OP[k]+rN.parentElementID+'\")');break;}}}var Oy=Sh("mask",Kc);for(ay=0;ay<Oy.length;ay++){var Ri=Oy[ay].getAttributeNS(null,'mask');for(k=0;k<Pu.length;k++){if(Ri.indexOf(Pu[k])>0){Oy[ay].setAttributeNS(null,'mask','url(\"#'+Pu[k]+rN.parentElementID+'\")');break;}}}for(ay=0;ay<Qe.length;ay++){var Rx=Qe[ay].getAttributeNS(null,'id');Qe[ay].setAttributeNS(null,'id',Rx+rN.parentElementID);}for(ay=0;ay<PE.length;ay++){var Rj=PE[ay].getAttributeNS(null,'id');PE[ay].setAttributeNS(null,'id',Rj+rN.parentElementID);}}else{Kc=document.importNode(Qs.documentElement,true);}aq.QV=Kc;var RY=Kc.hasAttribute("width");var PL;if(RY){var_attrNode=Kc.getAttributeNode("width");PL=Kc.getAttribute("width");}gH.appendChild(Kc);if(PL){PW=bw.J.aQ().width/PL;var Rn='matrix('+PW.toString()+',0,0,'+PW.toString()+',0,0)';bw.fP(gH,'transform',Rn);}aq.Qi=true;if(!J.Pk&&aq.Qi){setTimeout(Rh,1);}}};dm.open('GET',hH.url,true);dm.setRequestHeader('Content-Type','svg');dm.onreadystatechange=pb;dm.send();};this.tM=function(hH,bY){if(!hH){return;}var ef=document.getElementById(hH.poolItem.elementID);this.fP(ef,'x',hH.x);this.fP(ef,'y',hH.y);this.fP(ef,'width',hH.right-hH.x);this.fP(ef,'height',hH.bottom-hH.y);this.fP(ef,'opacity',bY);this.fP(ef,'display','block');};this.tw=function(fC,bY,bf){var k;if(J.AL()===false){for(k=0;k<fC.length;k++){this.tM(fC[k],bY);}}};return this;};ImageGear.yr.prototype=new ImageGear.bi(); 